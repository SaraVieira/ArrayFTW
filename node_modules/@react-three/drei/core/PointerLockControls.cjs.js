"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("@react-three/fiber"),t=require("@babel/runtime/helpers/extends"),n=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),u=require("three-stdlib");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(t),c=o(n),l=e.forwardRef((function(t,n){var o=t.selector,l=c.default(t,["selector"]),a=l.camera,s=c.default(l,["camera"]),f=r.useThree((function(e){return e.gl})),d=r.useThree((function(e){return e.camera})),v=r.useThree((function(e){return e.invalidate})),m=a||d,b=e.useState((function(){return new u.PointerLockControls(m,f.domElement)}))[0];return e.useEffect((function(){return null==b||null==b.addEventListener||b.addEventListener("change",v),function(){return null==b||null==b.removeEventListener?void 0:b.removeEventListener("change",v)}}),[b,v]),e.useEffect((function(){var e=function(){return null==b?void 0:b.lock()},r=o?document.querySelector(o):document;return r&&r.addEventListener("click",e),function(){return r?r.removeEventListener("click",e):void 0}}),[b,o]),b?e.createElement("primitive",i.default({ref:n,dispose:void 0,object:b},s)):null}));exports.PointerLockControls=l;
