"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("@react-three/fiber"),n=require("@babel/runtime/helpers/extends"),t=require("three");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=u(n);exports.useAnimations=function(n,u){var c=e.useRef(),a=u||c,o=e.useState((function(){return new t.AnimationMixer(void 0)}))[0],f=e.useMemo((function(){return{ref:a,clips:n,actions:n.reduce((function(e,r){var n;return i.default({},e,((n={})[r.name]=null,n))}),{}),names:n.map((function(e){return e.name})),mixer:o}}),[n,o,a]);return r.useFrame((function(e,r){return o.update(r)})),e.useEffect((function(){var e=a.current;return e&&n.forEach((function(r){return f.actions[r.name]=o.clipAction(r,e)})),function(){return Object.values(f.actions).forEach((function(r){e&&o.uncacheAction(r,e)}))}}),[f,n,o,u,a]),f};
