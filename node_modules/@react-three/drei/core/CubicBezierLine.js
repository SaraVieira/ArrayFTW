import _extends from '@babel/runtime/helpers/esm/extends';
import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';
import { forwardRef, useMemo, createElement } from 'react';
import { Vector3, CubicBezierCurve3 } from 'three';
import { Line } from './Line.js';

const CubicBezierLine = /*#__PURE__*/forwardRef(function CubicBezierLine(_ref, ref) {
  let {
    start,
    end,
    midA,
    midB,
    segments = 20
  } = _ref,
      rest = _objectWithoutPropertiesLoose(_ref, ["start", "end", "midA", "midB", "segments"]);

  const points = useMemo(() => {
    const startV = start instanceof Vector3 ? start : new Vector3(...start);
    const endV = end instanceof Vector3 ? end : new Vector3(...end);
    const midAV = midA instanceof Vector3 ? midA : new Vector3(...midA);
    const midBV = midB instanceof Vector3 ? midB : new Vector3(...midB);
    const interpolatedV = new CubicBezierCurve3(startV, midAV, midBV, endV).getPoints(segments);
    return interpolatedV;
  }, [start, end, midA, midB, segments]);
  return /*#__PURE__*/createElement(Line, _extends({
    ref: ref,
    points: points
  }, rest));
});

export { CubicBezierLine };
