"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@babel/runtime/helpers/extends"),r=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),o=require("three-stdlib"),i=require("three");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(t),s=n(r),u=e.forwardRef((function(t,r){var n=t.points,u=t.color,c=void 0===u?"black":u,l=t.vertexColors,d=t.lineWidth,f=t.dashed,p=s.default(t,["points","color","vertexColors","lineWidth","dashed"]),v=e.useState((function(){return new o.Line2}))[0],m=e.useState((function(){return new o.LineMaterial}))[0],h=e.useState((function(){return new i.Vector2(512,512)}))[0],b=e.useMemo((function(){var e=new o.LineGeometry,t=n.map((function(e){return e instanceof i.Vector3?e.toArray():e}));if(e.setPositions(t.flat()),l){var r=l.map((function(e){return e instanceof i.Color?e.toArray():e}));e.setColors(r.flat())}return e}),[n,l]);return e.useLayoutEffect((function(){v.computeLineDistances()}),[n,v]),e.useLayoutEffect((function(){f?m.defines.USE_DASH="":delete m.defines.USE_DASH,m.needsUpdate=!0}),[f,m]),e.createElement("primitive",a.default({dispose:void 0,object:v,ref:r},p),e.createElement("primitive",{dispose:void 0,object:b,attach:"geometry"}),e.createElement("primitive",a.default({dispose:void 0,object:m,attach:"material",color:c,vertexColors:Boolean(l),resolution:h,linewidth:d,dashed:f},p)))}));exports.Line=u;
