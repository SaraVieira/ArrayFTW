"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("@react-three/fiber"),t=require("@babel/runtime/helpers/extends"),u=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),o=require("react-merge-refs"),i=require("three");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(t),s=n(u),f=n(o),c=e.forwardRef((function(t,u){var o=t.url,n=t.distance,c=void 0===n?1:n,d=t.loop,l=void 0===d||d,p=s.default(t,["url","distance","loop"]),b=e.useRef(),v=r.useThree((function(e){return e.camera})),h=e.useState((function(){return new i.AudioListener}))[0],m=r.useLoader(i.AudioLoader,o);return e.useEffect((function(){var e=b.current;return e&&(e.setBuffer(m),e.setRefDistance(c),e.setLoop(l),e.play()),v.add(h),function(){v.remove(h),e&&(e.stop(),e.disconnect())}}),[m,v,c,h,l]),e.createElement("positionalAudio",a.default({ref:f.default([b,u]),args:[h]},p))}));exports.PositionalAudio=c;
