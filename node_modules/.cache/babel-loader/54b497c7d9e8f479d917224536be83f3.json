{"ast":null,"code":"import { TempNode } from '../core/TempNode.js';\n\nfunction LightNode(scope) {\n  TempNode.call(this, 'v3', {\n    shared: false\n  });\n  this.scope = scope || LightNode.TOTAL;\n}\n\nLightNode.TOTAL = 'total';\nLightNode.prototype = Object.create(TempNode.prototype);\nLightNode.prototype.constructor = LightNode;\nLightNode.prototype.nodeType = 'Light';\n\nLightNode.prototype.generate = function (builder, output) {\n  if (builder.isCache('light')) {\n    return builder.format('reflectedLight.directDiffuse', this.type, output);\n  } else {\n    console.warn('THREE.LightNode is only compatible in \"light\" channel.');\n    return builder.format('vec3( 0.0 )', this.type, output);\n  }\n};\n\nLightNode.prototype.copy = function (source) {\n  TempNode.prototype.copy.call(this, source);\n  this.scope = source.scope;\n  return this;\n};\n\nLightNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.scope = this.scope;\n  }\n\n  return data;\n};\n\nexport { LightNode };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/three-stdlib/nodes/accessors/LightNode.js"],"names":["TempNode","LightNode","scope","call","shared","TOTAL","prototype","Object","create","constructor","nodeType","generate","builder","output","isCache","format","type","console","warn","copy","source","toJSON","meta","data","getJSONNode","createJSONNode"],"mappings":"AAAA,SAASA,QAAT,QAAyB,qBAAzB;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxBF,EAAAA,QAAQ,CAACG,IAAT,CAAc,IAAd,EAAoB,IAApB,EAA0B;AACxBC,IAAAA,MAAM,EAAE;AADgB,GAA1B;AAGA,OAAKF,KAAL,GAAaA,KAAK,IAAID,SAAS,CAACI,KAAhC;AACD;;AAEDJ,SAAS,CAACI,KAAV,GAAkB,OAAlB;AACAJ,SAAS,CAACK,SAAV,GAAsBC,MAAM,CAACC,MAAP,CAAcR,QAAQ,CAACM,SAAvB,CAAtB;AACAL,SAAS,CAACK,SAAV,CAAoBG,WAApB,GAAkCR,SAAlC;AACAA,SAAS,CAACK,SAAV,CAAoBI,QAApB,GAA+B,OAA/B;;AAEAT,SAAS,CAACK,SAAV,CAAoBK,QAApB,GAA+B,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACxD,MAAID,OAAO,CAACE,OAAR,CAAgB,OAAhB,CAAJ,EAA8B;AAC5B,WAAOF,OAAO,CAACG,MAAR,CAAe,8BAAf,EAA+C,KAAKC,IAApD,EAA0DH,MAA1D,CAAP;AACD,GAFD,MAEO;AACLI,IAAAA,OAAO,CAACC,IAAR,CAAa,wDAAb;AACA,WAAON,OAAO,CAACG,MAAR,CAAe,aAAf,EAA8B,KAAKC,IAAnC,EAAyCH,MAAzC,CAAP;AACD;AACF,CAPD;;AASAZ,SAAS,CAACK,SAAV,CAAoBa,IAApB,GAA2B,UAAUC,MAAV,EAAkB;AAC3CpB,EAAAA,QAAQ,CAACM,SAAT,CAAmBa,IAAnB,CAAwBhB,IAAxB,CAA6B,IAA7B,EAAmCiB,MAAnC;AACA,OAAKlB,KAAL,GAAakB,MAAM,CAAClB,KAApB;AACA,SAAO,IAAP;AACD,CAJD;;AAMAD,SAAS,CAACK,SAAV,CAAoBe,MAApB,GAA6B,UAAUC,IAAV,EAAgB;AAC3C,MAAIC,IAAI,GAAG,KAAKC,WAAL,CAAiBF,IAAjB,CAAX;;AAEA,MAAI,CAACC,IAAL,EAAW;AACTA,IAAAA,IAAI,GAAG,KAAKE,cAAL,CAAoBH,IAApB,CAAP;AACAC,IAAAA,IAAI,CAACrB,KAAL,GAAa,KAAKA,KAAlB;AACD;;AAED,SAAOqB,IAAP;AACD,CATD;;AAWA,SAAStB,SAAT","sourcesContent":["import { TempNode } from '../core/TempNode.js';\n\nfunction LightNode(scope) {\n  TempNode.call(this, 'v3', {\n    shared: false\n  });\n  this.scope = scope || LightNode.TOTAL;\n}\n\nLightNode.TOTAL = 'total';\nLightNode.prototype = Object.create(TempNode.prototype);\nLightNode.prototype.constructor = LightNode;\nLightNode.prototype.nodeType = 'Light';\n\nLightNode.prototype.generate = function (builder, output) {\n  if (builder.isCache('light')) {\n    return builder.format('reflectedLight.directDiffuse', this.type, output);\n  } else {\n    console.warn('THREE.LightNode is only compatible in \"light\" channel.');\n    return builder.format('vec3( 0.0 )', this.type, output);\n  }\n};\n\nLightNode.prototype.copy = function (source) {\n  TempNode.prototype.copy.call(this, source);\n  this.scope = source.scope;\n  return this;\n};\n\nLightNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.scope = this.scope;\n  }\n\n  return data;\n};\n\nexport { LightNode };\n"]},"metadata":{},"sourceType":"module"}