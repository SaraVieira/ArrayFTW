{"ast":null,"code":"import { useRef, useEffect } from 'react';\nimport { BufferGeometry } from 'three';\nimport { EdgeSplitModifier } from 'three-stdlib';\n\nfunction useEdgeSplit(cutOffAngle) {\n  var tryKeepNormals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var ref = useRef();\n  var original = useRef();\n  var modifier = useRef();\n  useEffect(function () {\n    if (!original.current && ref.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new EdgeSplitModifier();\n    }\n  }, []);\n  useEffect(function () {\n    if (original.current && ref.current && modifier.current) {\n      var geometry = new BufferGeometry();\n      geometry = original.current.clone();\n      var modifiedGeometry = modifier.current.modify(geometry, cutOffAngle, tryKeepNormals);\n      modifiedGeometry.computeVertexNormals();\n      ref.current.geometry = modifiedGeometry;\n    }\n  }, [cutOffAngle, tryKeepNormals]);\n  return ref;\n}\n\nexport { useEdgeSplit };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/@react-three/drei/core/useEdgeSplit.js"],"names":["useRef","useEffect","BufferGeometry","EdgeSplitModifier","useEdgeSplit","cutOffAngle","tryKeepNormals","ref","original","modifier","current","geometry","clone","modifiedGeometry","modify","computeVertexNormals"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;AACA,SAASC,cAAT,QAA+B,OAA/B;AACA,SAASC,iBAAT,QAAkC,cAAlC;;AAEA,SAASC,YAAT,CAAsBC,WAAtB,EAA0D;AAAA,MAAvBC,cAAuB,uEAAN,IAAM;AACxD,MAAMC,GAAG,GAAGP,MAAM,EAAlB;AACA,MAAMQ,QAAQ,GAAGR,MAAM,EAAvB;AACA,MAAMS,QAAQ,GAAGT,MAAM,EAAvB;AACAC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACO,QAAQ,CAACE,OAAV,IAAqBH,GAAG,CAACG,OAA7B,EAAsC;AACpCF,MAAAA,QAAQ,CAACE,OAAT,GAAmBH,GAAG,CAACG,OAAJ,CAAYC,QAAZ,CAAqBC,KAArB,EAAnB;AACAH,MAAAA,QAAQ,CAACC,OAAT,GAAmB,IAAIP,iBAAJ,EAAnB;AACD;AACF,GALQ,EAKN,EALM,CAAT;AAMAF,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIO,QAAQ,CAACE,OAAT,IAAoBH,GAAG,CAACG,OAAxB,IAAmCD,QAAQ,CAACC,OAAhD,EAAyD;AACvD,UAAIC,QAAQ,GAAG,IAAIT,cAAJ,EAAf;AACAS,MAAAA,QAAQ,GAAGH,QAAQ,CAACE,OAAT,CAAiBE,KAAjB,EAAX;AACA,UAAMC,gBAAgB,GAAGJ,QAAQ,CAACC,OAAT,CAAiBI,MAAjB,CAAwBH,QAAxB,EAAkCN,WAAlC,EAA+CC,cAA/C,CAAzB;AACAO,MAAAA,gBAAgB,CAACE,oBAAjB;AACAR,MAAAA,GAAG,CAACG,OAAJ,CAAYC,QAAZ,GAAuBE,gBAAvB;AACD;AACF,GARQ,EAQN,CAACR,WAAD,EAAcC,cAAd,CARM,CAAT;AASA,SAAOC,GAAP;AACD;;AAED,SAASH,YAAT","sourcesContent":["import { useRef, useEffect } from 'react';\nimport { BufferGeometry } from 'three';\nimport { EdgeSplitModifier } from 'three-stdlib';\n\nfunction useEdgeSplit(cutOffAngle, tryKeepNormals = true) {\n  const ref = useRef();\n  const original = useRef();\n  const modifier = useRef();\n  useEffect(() => {\n    if (!original.current && ref.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new EdgeSplitModifier();\n    }\n  }, []);\n  useEffect(() => {\n    if (original.current && ref.current && modifier.current) {\n      let geometry = new BufferGeometry();\n      geometry = original.current.clone();\n      const modifiedGeometry = modifier.current.modify(geometry, cutOffAngle, tryKeepNormals);\n      modifiedGeometry.computeVertexNormals();\n      ref.current.geometry = modifiedGeometry;\n    }\n  }, [cutOffAngle, tryKeepNormals]);\n  return ref;\n}\n\nexport { useEdgeSplit };\n"]},"metadata":{},"sourceType":"module"}