{"ast":null,"code":"import _toConsumableArray from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { DefaultLoadingManager } from 'three';\nimport create from 'zustand';\nvar saveLastTotalLoaded = 0;\nvar useProgress = create(function (set) {\n  DefaultLoadingManager.onStart = function (item, loaded, total) {\n    set({\n      active: true,\n      item: item,\n      loaded: loaded,\n      total: total,\n      progress: (loaded - saveLastTotalLoaded) / (total - saveLastTotalLoaded) * 100\n    });\n  };\n\n  DefaultLoadingManager.onLoad = function () {\n    return set({\n      active: false\n    });\n  };\n\n  DefaultLoadingManager.onError = function (item) {\n    return set(function (state) {\n      return {\n        errors: [].concat(_toConsumableArray(state.errors), [item])\n      };\n    });\n  };\n\n  DefaultLoadingManager.onProgress = function (item, loaded, total) {\n    if (loaded === total) {\n      saveLastTotalLoaded = total;\n    }\n\n    set({\n      item: item,\n      loaded: loaded,\n      total: total,\n      progress: (loaded - saveLastTotalLoaded) / (total - saveLastTotalLoaded) * 100 || 100\n    });\n  };\n\n  return {\n    errors: [],\n    active: false,\n    progress: 0,\n    item: '',\n    loaded: 0,\n    total: 0\n  };\n});\nexport { useProgress };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/@react-three/drei/core/useProgress.js"],"names":["DefaultLoadingManager","create","saveLastTotalLoaded","useProgress","set","onStart","item","loaded","total","active","progress","onLoad","onError","state","errors","onProgress"],"mappings":";AAAA,SAASA,qBAAT,QAAsC,OAAtC;AACA,OAAOC,MAAP,MAAmB,SAAnB;AAEA,IAAIC,mBAAmB,GAAG,CAA1B;AACA,IAAMC,WAAW,GAAGF,MAAM,CAAC,UAAAG,GAAG,EAAI;AAChCJ,EAAAA,qBAAqB,CAACK,OAAtB,GAAgC,UAACC,IAAD,EAAOC,MAAP,EAAeC,KAAf,EAAyB;AACvDJ,IAAAA,GAAG,CAAC;AACFK,MAAAA,MAAM,EAAE,IADN;AAEFH,MAAAA,IAAI,EAAJA,IAFE;AAGFC,MAAAA,MAAM,EAANA,MAHE;AAIFC,MAAAA,KAAK,EAALA,KAJE;AAKFE,MAAAA,QAAQ,EAAE,CAACH,MAAM,GAAGL,mBAAV,KAAkCM,KAAK,GAAGN,mBAA1C,IAAiE;AALzE,KAAD,CAAH;AAOD,GARD;;AAUAF,EAAAA,qBAAqB,CAACW,MAAtB,GAA+B;AAAA,WAAMP,GAAG,CAAC;AACvCK,MAAAA,MAAM,EAAE;AAD+B,KAAD,CAAT;AAAA,GAA/B;;AAIAT,EAAAA,qBAAqB,CAACY,OAAtB,GAAgC,UAAAN,IAAI;AAAA,WAAIF,GAAG,CAAC,UAAAS,KAAK;AAAA,aAAK;AACpDC,QAAAA,MAAM,+BAAMD,KAAK,CAACC,MAAZ,IAAoBR,IAApB;AAD8C,OAAL;AAAA,KAAN,CAAP;AAAA,GAApC;;AAIAN,EAAAA,qBAAqB,CAACe,UAAtB,GAAmC,UAACT,IAAD,EAAOC,MAAP,EAAeC,KAAf,EAAyB;AAC1D,QAAID,MAAM,KAAKC,KAAf,EAAsB;AACpBN,MAAAA,mBAAmB,GAAGM,KAAtB;AACD;;AAEDJ,IAAAA,GAAG,CAAC;AACFE,MAAAA,IAAI,EAAJA,IADE;AAEFC,MAAAA,MAAM,EAANA,MAFE;AAGFC,MAAAA,KAAK,EAALA,KAHE;AAIFE,MAAAA,QAAQ,EAAE,CAACH,MAAM,GAAGL,mBAAV,KAAkCM,KAAK,GAAGN,mBAA1C,IAAiE,GAAjE,IAAwE;AAJhF,KAAD,CAAH;AAMD,GAXD;;AAaA,SAAO;AACLY,IAAAA,MAAM,EAAE,EADH;AAELL,IAAAA,MAAM,EAAE,KAFH;AAGLC,IAAAA,QAAQ,EAAE,CAHL;AAILJ,IAAAA,IAAI,EAAE,EAJD;AAKLC,IAAAA,MAAM,EAAE,CALH;AAMLC,IAAAA,KAAK,EAAE;AANF,GAAP;AAQD,CAxCyB,CAA1B;AA0CA,SAASL,WAAT","sourcesContent":["import { DefaultLoadingManager } from 'three';\nimport create from 'zustand';\n\nlet saveLastTotalLoaded = 0;\nconst useProgress = create(set => {\n  DefaultLoadingManager.onStart = (item, loaded, total) => {\n    set({\n      active: true,\n      item,\n      loaded,\n      total,\n      progress: (loaded - saveLastTotalLoaded) / (total - saveLastTotalLoaded) * 100\n    });\n  };\n\n  DefaultLoadingManager.onLoad = () => set({\n    active: false\n  });\n\n  DefaultLoadingManager.onError = item => set(state => ({\n    errors: [...state.errors, item]\n  }));\n\n  DefaultLoadingManager.onProgress = (item, loaded, total) => {\n    if (loaded === total) {\n      saveLastTotalLoaded = total;\n    }\n\n    set({\n      item,\n      loaded,\n      total,\n      progress: (loaded - saveLastTotalLoaded) / (total - saveLastTotalLoaded) * 100 || 100\n    });\n  };\n\n  return {\n    errors: [],\n    active: false,\n    progress: 0,\n    item: '',\n    loaded: 0,\n    total: 0\n  };\n});\n\nexport { useProgress };\n"]},"metadata":{},"sourceType":"module"}