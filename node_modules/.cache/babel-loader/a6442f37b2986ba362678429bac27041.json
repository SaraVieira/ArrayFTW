{"ast":null,"code":"import _classCallCheck from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Group, SphereGeometry, BoxGeometry, MeshStandardMaterial, Mesh } from 'three';\n\nvar XRHandPrimitiveModel = /*#__PURE__*/function () {\n  function XRHandPrimitiveModel(handModel, controller, path, handedness, options) {\n    _classCallCheck(this, XRHandPrimitiveModel);\n\n    this.controller = controller;\n    this.handModel = handModel;\n    this.envMap = null;\n    this.handMesh = new Group();\n    this.handModel.add(this.handMesh);\n\n    if (window.XRHand) {\n      var geometry;\n\n      if (!options || !options.primitive || options.primitive === 'sphere') {\n        geometry = new SphereGeometry(1, 10, 10);\n      } else if (options.primitive === 'box') {\n        geometry = new BoxGeometry(1, 1, 1);\n      }\n\n      var jointMaterial = new MeshStandardMaterial({\n        color: 0xffffff,\n        roughness: 1,\n        metalness: 0\n      });\n      var tipMaterial = new MeshStandardMaterial({\n        color: 0x999999,\n        roughness: 1,\n        metalness: 0\n      });\n      var joints = ['wrist', 'thumb-metacarpal', 'thumb-phalanx-proximal', 'thumb-phalanx-distal', 'thumb-tip', 'index-finger-metacarpal', 'index-finger-phalanx-proximal', 'index-finger-phalanx-intermediate', 'index-finger-phalanx-distal', 'index-finger-tip', 'middle-finger-metacarpal', 'middle-finger-phalanx-proximal', 'middle-finger-phalanx-intermediate', 'middle-finger-phalanx-distal', 'middle-finger-tip', 'ring-finger-metacarpal', 'ring-finger-phalanx-proximal', 'ring-finger-phalanx-intermediate', 'ring-finger-phalanx-distal', 'ring-finger-tip', 'pinky-finger-metacarpal', 'pinky-finger-phalanx-proximal', 'pinky-finger-phalanx-intermediate', 'pinky-finger-phalanx-distal', 'pinky-finger-tip'];\n\n      for (var _i = 0, _joints = joints; _i < _joints.length; _i++) {\n        var jointName = _joints[_i];\n        var cube = new Mesh(geometry, jointName.indexOf('tip') !== -1 ? tipMaterial : jointMaterial);\n        cube.castShadow = true;\n        cube.receiveShadow = true;\n        cube.jointName = jointName;\n        this.handMesh.add(cube);\n      }\n    }\n  }\n\n  _createClass(XRHandPrimitiveModel, [{\n    key: \"updateMesh\",\n    value: function updateMesh() {\n      var defaultRadius = 0.008;\n      var objects = this.handMesh.children; // XR Joints\n\n      var XRJoints = this.controller.joints;\n\n      for (var i = 0; i < objects.length; i++) {\n        var jointMesh = objects[i];\n        var XRJoint = XRJoints[jointMesh.jointName];\n\n        if (XRJoint.visible) {\n          jointMesh.position.copy(XRJoint.position);\n          jointMesh.quaternion.copy(XRJoint.quaternion);\n          jointMesh.scale.setScalar(XRJoint.jointRadius || defaultRadius);\n        }\n\n        jointMesh.visible = XRJoint.visible;\n      }\n    }\n  }]);\n\n  return XRHandPrimitiveModel;\n}();\n\nexport { XRHandPrimitiveModel };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/three-stdlib/webxr/XRHandPrimitiveModel.js"],"names":["Group","SphereGeometry","BoxGeometry","MeshStandardMaterial","Mesh","XRHandPrimitiveModel","handModel","controller","path","handedness","options","envMap","handMesh","add","window","XRHand","geometry","primitive","jointMaterial","color","roughness","metalness","tipMaterial","joints","jointName","cube","indexOf","castShadow","receiveShadow","defaultRadius","objects","children","XRJoints","i","length","jointMesh","XRJoint","visible","position","copy","quaternion","scale","setScalar","jointRadius"],"mappings":"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","sourcesContent":["import { Group, SphereGeometry, BoxGeometry, MeshStandardMaterial, Mesh } from 'three';\n\nclass XRHandPrimitiveModel {\n  constructor(handModel, controller, path, handedness, options) {\n    this.controller = controller;\n    this.handModel = handModel;\n    this.envMap = null;\n    this.handMesh = new Group();\n    this.handModel.add(this.handMesh);\n\n    if (window.XRHand) {\n      let geometry;\n\n      if (!options || !options.primitive || options.primitive === 'sphere') {\n        geometry = new SphereGeometry(1, 10, 10);\n      } else if (options.primitive === 'box') {\n        geometry = new BoxGeometry(1, 1, 1);\n      }\n\n      const jointMaterial = new MeshStandardMaterial({\n        color: 0xffffff,\n        roughness: 1,\n        metalness: 0\n      });\n      const tipMaterial = new MeshStandardMaterial({\n        color: 0x999999,\n        roughness: 1,\n        metalness: 0\n      });\n      const joints = ['wrist', 'thumb-metacarpal', 'thumb-phalanx-proximal', 'thumb-phalanx-distal', 'thumb-tip', 'index-finger-metacarpal', 'index-finger-phalanx-proximal', 'index-finger-phalanx-intermediate', 'index-finger-phalanx-distal', 'index-finger-tip', 'middle-finger-metacarpal', 'middle-finger-phalanx-proximal', 'middle-finger-phalanx-intermediate', 'middle-finger-phalanx-distal', 'middle-finger-tip', 'ring-finger-metacarpal', 'ring-finger-phalanx-proximal', 'ring-finger-phalanx-intermediate', 'ring-finger-phalanx-distal', 'ring-finger-tip', 'pinky-finger-metacarpal', 'pinky-finger-phalanx-proximal', 'pinky-finger-phalanx-intermediate', 'pinky-finger-phalanx-distal', 'pinky-finger-tip'];\n\n      for (let jointName of joints) {\n        var cube = new Mesh(geometry, jointName.indexOf('tip') !== -1 ? tipMaterial : jointMaterial);\n        cube.castShadow = true;\n        cube.receiveShadow = true;\n        cube.jointName = jointName;\n        this.handMesh.add(cube);\n      }\n    }\n  }\n\n  updateMesh() {\n    const defaultRadius = 0.008;\n    const objects = this.handMesh.children; // XR Joints\n\n    const XRJoints = this.controller.joints;\n\n    for (let i = 0; i < objects.length; i++) {\n      const jointMesh = objects[i];\n      const XRJoint = XRJoints[jointMesh.jointName];\n\n      if (XRJoint.visible) {\n        jointMesh.position.copy(XRJoint.position);\n        jointMesh.quaternion.copy(XRJoint.quaternion);\n        jointMesh.scale.setScalar(XRJoint.jointRadius || defaultRadius);\n      }\n\n      jointMesh.visible = XRJoint.visible;\n    }\n  }\n\n}\n\nexport { XRHandPrimitiveModel };\n"]},"metadata":{},"sourceType":"module"}