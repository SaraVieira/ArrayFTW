{"ast":null,"code":"/* Blob.js\n * A Blob, File, FileReader & URL implementation.\n * 2019-04-30\n *\n * By Eli Grey, http://eligrey.com\n * By Jimmy Wärting, https://github.com/jimmywarting\n * License: MIT\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\n */\n(function (global) {\n  (function (factory) {\n    if (typeof define === \"function\" && define.amd) {\n      // AMD. Register as an anonymous module.\n      define([\"exports\"], factory);\n    } else if (typeof exports === \"object\" && typeof exports.nodeName !== \"string\") {\n      // CommonJS\n      factory(exports);\n    } else {\n      // Browser globals\n      factory(global);\n    }\n  })(function (exports) {\n    \"use strict\";\n\n    var BlobBuilder = global.BlobBuilder || global.WebKitBlobBuilder || global.MSBlobBuilder || global.MozBlobBuilder;\n\n    var URL = global.URL || global.webkitURL || function (href, a) {\n      a = document.createElement(\"a\");\n      a.href = href;\n      return a;\n    };\n\n    var origBlob = global.Blob;\n    var createObjectURL = URL.createObjectURL;\n    var revokeObjectURL = URL.revokeObjectURL;\n    var strTag = global.Symbol && global.Symbol.toStringTag;\n    var blobSupported = false;\n    var blobSupportsArrayBufferView = false;\n    var arrayBufferSupported = !!global.ArrayBuffer;\n    var blobBuilderSupported = BlobBuilder && BlobBuilder.prototype.append && BlobBuilder.prototype.getBlob;\n\n    try {\n      // Check if Blob constructor is supported\n      blobSupported = new Blob([\"ä\"]).size === 2; // Check if Blob constructor supports ArrayBufferViews\n      // Fails in Safari 6, so we need to map to ArrayBuffers there.\n\n      blobSupportsArrayBufferView = new Blob([new Uint8Array([1, 2])]).size === 2;\n    } catch (e) {\n      /**/\n    } // Helper function that maps ArrayBufferViews to ArrayBuffers\n    // Used by BlobBuilder constructor and old browsers that didn't\n    // support it in the Blob constructor.\n\n\n    function mapArrayBufferViews(ary) {\n      return ary.map(function (chunk) {\n        if (chunk.buffer instanceof ArrayBuffer) {\n          var buf = chunk.buffer; // if this is a subarray, make a copy so we only\n          // include the subarray region from the underlying buffer\n\n          if (chunk.byteLength !== buf.byteLength) {\n            var copy = new Uint8Array(chunk.byteLength);\n            copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n            buf = copy.buffer;\n          }\n\n          return buf;\n        }\n\n        return chunk;\n      });\n    }\n\n    function BlobBuilderConstructor(ary, options) {\n      options = options || {};\n      var bb = new BlobBuilder();\n      mapArrayBufferViews(ary).forEach(function (part) {\n        bb.append(part);\n      });\n      return options.type ? bb.getBlob(options.type) : bb.getBlob();\n    }\n\n    function BlobConstructor(ary, options) {\n      return new origBlob(mapArrayBufferViews(ary), options || {});\n    }\n\n    if (global.Blob) {\n      BlobBuilderConstructor.prototype = Blob.prototype;\n      BlobConstructor.prototype = Blob.prototype;\n    }\n    /********************************************************/\n\n    /*               String Encoder fallback                */\n\n    /********************************************************/\n\n\n    function stringEncode(string) {\n      var pos = 0;\n      var len = string.length;\n      var Arr = global.Uint8Array || Array; // Use byte array when possible\n\n      var at = 0; // output position\n\n      var tlen = Math.max(32, len + (len >> 1) + 7); // 1.5x size\n\n      var target = new Arr(tlen >> 3 << 3); // ... but at 8 byte offset\n\n      while (pos < len) {\n        var value = string.charCodeAt(pos++);\n\n        if (value >= 0xd800 && value <= 0xdbff) {\n          // high surrogate\n          if (pos < len) {\n            var extra = string.charCodeAt(pos);\n\n            if ((extra & 0xfc00) === 0xdc00) {\n              ++pos;\n              value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n            }\n          }\n\n          if (value >= 0xd800 && value <= 0xdbff) {\n            continue; // drop lone surrogate\n          }\n        } // expand the buffer if we couldn't write 4 bytes\n\n\n        if (at + 4 > target.length) {\n          tlen += 8; // minimum extra\n\n          tlen *= 1.0 + pos / string.length * 2; // take 2x the remaining\n\n          tlen = tlen >> 3 << 3; // 8 byte offset\n\n          var update = new Uint8Array(tlen);\n          update.set(target);\n          target = update;\n        }\n\n        if ((value & 0xffffff80) === 0) {\n          // 1-byte\n          target[at++] = value; // ASCII\n\n          continue;\n        } else if ((value & 0xfffff800) === 0) {\n          // 2-byte\n          target[at++] = value >> 6 & 0x1f | 0xc0;\n        } else if ((value & 0xffff0000) === 0) {\n          // 3-byte\n          target[at++] = value >> 12 & 0x0f | 0xe0;\n          target[at++] = value >> 6 & 0x3f | 0x80;\n        } else if ((value & 0xffe00000) === 0) {\n          // 4-byte\n          target[at++] = value >> 18 & 0x07 | 0xf0;\n          target[at++] = value >> 12 & 0x3f | 0x80;\n          target[at++] = value >> 6 & 0x3f | 0x80;\n        } else {\n          // FIXME: do we care\n          continue;\n        }\n\n        target[at++] = value & 0x3f | 0x80;\n      }\n\n      return target.slice(0, at);\n    }\n    /********************************************************/\n\n    /*               String Decoder fallback                */\n\n    /********************************************************/\n\n\n    function stringDecode(buf) {\n      var end = buf.length;\n      var res = [];\n      var i = 0;\n\n      while (i < end) {\n        var firstByte = buf[i];\n        var codePoint = null;\n        var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence <= end) {\n          var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n          switch (bytesPerSequence) {\n            case 1:\n              if (firstByte < 0x80) {\n                codePoint = firstByte;\n              }\n\n              break;\n\n            case 2:\n              secondByte = buf[i + 1];\n\n              if ((secondByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\n                if (tempCodePoint > 0x7F) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n              break;\n\n            case 3:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n\n              if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\n                if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n              break;\n\n            case 4:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n              fourthByte = buf[i + 3];\n\n              if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\n                if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n          }\n        }\n\n        if (codePoint === null) {\n          // we did not generate a valid codePoint so insert a\n          // replacement char (U+FFFD) and advance only 1 byte\n          codePoint = 0xFFFD;\n          bytesPerSequence = 1;\n        } else if (codePoint > 0xFFFF) {\n          // encode to utf16 (surrogate pair dance)\n          codePoint -= 0x10000;\n          res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n          codePoint = 0xDC00 | codePoint & 0x3FF;\n        }\n\n        res.push(codePoint);\n        i += bytesPerSequence;\n      }\n\n      var len = res.length;\n      var str = \"\";\n      var j = 0;\n\n      while (j < len) {\n        str += String.fromCharCode.apply(String, res.slice(j, j += 0x1000));\n      }\n\n      return str;\n    } // string -> buffer\n\n\n    var textEncode = typeof TextEncoder === \"function\" ? TextEncoder.prototype.encode.bind(new TextEncoder()) : stringEncode; // buffer -> string\n\n    var textDecode = typeof TextDecoder === \"function\" ? TextDecoder.prototype.decode.bind(new TextDecoder()) : stringDecode;\n\n    function FakeBlobBuilder() {\n      function isDataView(obj) {\n        return obj && Object.prototype.isPrototypeOf.call(DataView, obj);\n      }\n\n      function bufferClone(buf) {\n        var view = new Array(buf.byteLength);\n        var array = new Uint8Array(buf);\n        var i = view.length;\n\n        while (i--) {\n          view[i] = array[i];\n        }\n\n        return view;\n      }\n\n      function array2base64(input) {\n        var byteToCharMap = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        var output = [];\n\n        for (var i = 0; i < input.length; i += 3) {\n          var byte1 = input[i];\n          var haveByte2 = i + 1 < input.length;\n          var byte2 = haveByte2 ? input[i + 1] : 0;\n          var haveByte3 = i + 2 < input.length;\n          var byte3 = haveByte3 ? input[i + 2] : 0;\n          var outByte1 = byte1 >> 2;\n          var outByte2 = (byte1 & 0x03) << 4 | byte2 >> 4;\n          var outByte3 = (byte2 & 0x0F) << 2 | byte3 >> 6;\n          var outByte4 = byte3 & 0x3F;\n\n          if (!haveByte3) {\n            outByte4 = 64;\n\n            if (!haveByte2) {\n              outByte3 = 64;\n            }\n          }\n\n          output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);\n        }\n\n        return output.join(\"\");\n      }\n\n      var create = Object.create || function (a) {\n        function c() {}\n\n        c.prototype = a;\n        return new c();\n      };\n\n      if (arrayBufferSupported) {\n        var viewClasses = [\"[object Int8Array]\", \"[object Uint8Array]\", \"[object Uint8ClampedArray]\", \"[object Int16Array]\", \"[object Uint16Array]\", \"[object Int32Array]\", \"[object Uint32Array]\", \"[object Float32Array]\", \"[object Float64Array]\"];\n\n        var isArrayBufferView = ArrayBuffer.isView || function (obj) {\n          return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;\n        };\n      }\n\n      function concatTypedarrays(chunks) {\n        var size = 0;\n        var j = chunks.length;\n\n        while (j--) {\n          size += chunks[j].length;\n        }\n\n        var b = new Uint8Array(size);\n        var offset = 0;\n\n        for (var i = 0; i < chunks.length; i++) {\n          var chunk = chunks[i];\n          b.set(chunk, offset);\n          offset += chunk.byteLength || chunk.length;\n        }\n\n        return b;\n      }\n      /********************************************************/\n\n      /*                   Blob constructor                   */\n\n      /********************************************************/\n\n\n      function Blob(chunks, opts) {\n        chunks = chunks || [];\n        opts = opts == null ? {} : opts;\n\n        for (var i = 0, len = chunks.length; i < len; i++) {\n          var chunk = chunks[i];\n\n          if (chunk instanceof Blob) {\n            chunks[i] = chunk._buffer;\n          } else if (typeof chunk === \"string\") {\n            chunks[i] = textEncode(chunk);\n          } else if (arrayBufferSupported && (Object.prototype.isPrototypeOf.call(ArrayBuffer, chunk) || isArrayBufferView(chunk))) {\n            chunks[i] = bufferClone(chunk);\n          } else if (arrayBufferSupported && isDataView(chunk)) {\n            chunks[i] = bufferClone(chunk.buffer);\n          } else {\n            chunks[i] = textEncode(String(chunk));\n          }\n        }\n\n        this._buffer = global.Uint8Array ? concatTypedarrays(chunks) : [].concat.apply([], chunks);\n        this.size = this._buffer.length;\n        this.type = opts.type || \"\";\n\n        if (/[^\\u0020-\\u007E]/.test(this.type)) {\n          this.type = \"\";\n        } else {\n          this.type = this.type.toLowerCase();\n        }\n      }\n\n      Blob.prototype.arrayBuffer = function () {\n        return Promise.resolve(this._buffer);\n      };\n\n      Blob.prototype.text = function () {\n        return Promise.resolve(textDecode(this._buffer));\n      };\n\n      Blob.prototype.slice = function (start, end, type) {\n        var slice = this._buffer.slice(start || 0, end || this._buffer.length);\n\n        return new Blob([slice], {\n          type: type\n        });\n      };\n\n      Blob.prototype.toString = function () {\n        return \"[object Blob]\";\n      };\n      /********************************************************/\n\n      /*                   File constructor                   */\n\n      /********************************************************/\n\n\n      function File(chunks, name, opts) {\n        opts = opts || {};\n        var a = Blob.call(this, chunks, opts) || this;\n        a.name = name.replace(/\\//g, \":\");\n        a.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();\n        a.lastModified = +a.lastModifiedDate;\n        return a;\n      }\n\n      File.prototype = create(Blob.prototype);\n      File.prototype.constructor = File;\n\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(File, Blob);\n      } else {\n        try {\n          File.__proto__ = Blob;\n        } catch (e) {\n          /**/\n        }\n      }\n\n      File.prototype.toString = function () {\n        return \"[object File]\";\n      };\n      /********************************************************/\n\n      /*                FileReader constructor                */\n\n      /********************************************************/\n\n\n      function FileReader() {\n        if (!(this instanceof FileReader)) {\n          throw new TypeError(\"Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n        }\n\n        var delegate = document.createDocumentFragment();\n        this.addEventListener = delegate.addEventListener;\n\n        this.dispatchEvent = function (evt) {\n          var local = this[\"on\" + evt.type];\n          if (typeof local === \"function\") local(evt);\n          delegate.dispatchEvent(evt);\n        };\n\n        this.removeEventListener = delegate.removeEventListener;\n      }\n\n      function _read(fr, blob, kind) {\n        if (!(blob instanceof Blob)) {\n          throw new TypeError(\"Failed to execute '\" + kind + \"' on 'FileReader': parameter 1 is not of type 'Blob'.\");\n        }\n\n        fr.result = \"\";\n        setTimeout(function () {\n          this.readyState = FileReader.LOADING;\n          fr.dispatchEvent(new Event(\"load\"));\n          fr.dispatchEvent(new Event(\"loadend\"));\n        });\n      }\n\n      FileReader.EMPTY = 0;\n      FileReader.LOADING = 1;\n      FileReader.DONE = 2;\n      FileReader.prototype.error = null;\n      FileReader.prototype.onabort = null;\n      FileReader.prototype.onerror = null;\n      FileReader.prototype.onload = null;\n      FileReader.prototype.onloadend = null;\n      FileReader.prototype.onloadstart = null;\n      FileReader.prototype.onprogress = null;\n\n      FileReader.prototype.readAsDataURL = function (blob) {\n        _read(this, blob, \"readAsDataURL\");\n\n        this.result = \"data:\" + blob.type + \";base64,\" + array2base64(blob._buffer);\n      };\n\n      FileReader.prototype.readAsText = function (blob) {\n        _read(this, blob, \"readAsText\");\n\n        this.result = textDecode(blob._buffer);\n      };\n\n      FileReader.prototype.readAsArrayBuffer = function (blob) {\n        _read(this, blob, \"readAsText\"); // return ArrayBuffer when possible\n\n\n        this.result = (blob._buffer.buffer || blob._buffer).slice();\n      };\n\n      FileReader.prototype.abort = function () {};\n      /********************************************************/\n\n      /*                         URL                          */\n\n      /********************************************************/\n\n\n      URL.createObjectURL = function (blob) {\n        return blob instanceof Blob ? \"data:\" + blob.type + \";base64,\" + array2base64(blob._buffer) : createObjectURL.call(URL, blob);\n      };\n\n      URL.revokeObjectURL = function (url) {\n        revokeObjectURL && revokeObjectURL.call(URL, url);\n      };\n      /********************************************************/\n\n      /*                         XHR                          */\n\n      /********************************************************/\n\n\n      var _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send;\n\n      if (_send) {\n        XMLHttpRequest.prototype.send = function (data) {\n          if (data instanceof Blob) {\n            this.setRequestHeader(\"Content-Type\", data.type);\n\n            _send.call(this, textDecode(data._buffer));\n          } else {\n            _send.call(this, data);\n          }\n        };\n      }\n\n      exports.Blob = Blob;\n      exports.File = File;\n      exports.FileReader = FileReader;\n      exports.URL = URL;\n    }\n\n    function fixFileAndXHR() {\n      var isIE = !!global.ActiveXObject || \"-ms-scroll-limit\" in document.documentElement.style && \"-ms-ime-align\" in document.documentElement.style; // Monkey patched\n      // IE doesn't set Content-Type header on XHR whose body is a typed Blob\n      // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/6047383\n\n      var _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send;\n\n      if (isIE && _send) {\n        XMLHttpRequest.prototype.send = function (data) {\n          if (data instanceof Blob) {\n            this.setRequestHeader(\"Content-Type\", data.type);\n\n            _send.call(this, data);\n          } else {\n            _send.call(this, data);\n          }\n        };\n      }\n\n      try {\n        new File([], \"\");\n        exports.File = global.File;\n        exports.FileReader = global.FileReader;\n      } catch (e) {\n        try {\n          exports.File = new Function(\"class File extends Blob {\" + \"constructor(chunks, name, opts) {\" + \"opts = opts || {};\" + \"super(chunks, opts || {});\" + \"this.name = name.replace(/\\\\//g, \\\":\\\");\" + \"this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();\" + \"this.lastModified = +this.lastModifiedDate;\" + \"}};\" + \"return new File([], \\\"\\\"), File\")();\n        } catch (e) {\n          exports.File = function (b, d, c) {\n            var blob = new Blob(b, c);\n            var t = c && void 0 !== c.lastModified ? new Date(c.lastModified) : new Date();\n            blob.name = d.replace(/\\//g, \":\");\n            blob.lastModifiedDate = t;\n            blob.lastModified = +t;\n\n            blob.toString = function () {\n              return \"[object File]\";\n            };\n\n            if (strTag) {\n              blob[strTag] = \"File\";\n            }\n\n            return blob;\n          };\n        }\n      }\n    }\n\n    if (blobSupported) {\n      fixFileAndXHR();\n      exports.Blob = blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n    } else if (blobBuilderSupported) {\n      fixFileAndXHR();\n      exports.Blob = BlobBuilderConstructor;\n    } else {\n      FakeBlobBuilder();\n    }\n\n    if (strTag) {\n      if (!exports.File.prototype[strTag]) exports.File.prototype[strTag] = \"File\";\n      if (!exports.Blob.prototype[strTag]) exports.Blob.prototype[strTag] = \"Blob\";\n      if (!exports.FileReader.prototype[strTag]) exports.FileReader.prototype[strTag] = \"FileReader\";\n    }\n\n    var blob = exports.Blob.prototype;\n    var stream;\n\n    try {\n      new ReadableStream({\n        type: \"bytes\"\n      });\n\n      stream = function stream() {\n        var position = 0;\n        var blob = this;\n        return new ReadableStream({\n          type: \"bytes\",\n          autoAllocateChunkSize: 524288,\n          pull: function pull(controller) {\n            var v = controller.byobRequest.view;\n            var chunk = blob.slice(position, position + v.byteLength);\n            return chunk.arrayBuffer().then(function (buffer) {\n              var uint8array = new Uint8Array(buffer);\n              var bytesRead = uint8array.byteLength;\n              position += bytesRead;\n              v.set(uint8array);\n              controller.byobRequest.respond(bytesRead);\n              if (position >= blob.size) controller.close();\n            });\n          }\n        });\n      };\n    } catch (e) {\n      try {\n        new ReadableStream({});\n\n        stream = function stream(blob) {\n          var position = 0;\n          return new ReadableStream({\n            pull: function pull(controller) {\n              var chunk = blob.slice(position, position + 524288);\n              return chunk.arrayBuffer().then(function (buffer) {\n                position += buffer.byteLength;\n                var uint8array = new Uint8Array(buffer);\n                controller.enqueue(uint8array);\n                if (position == blob.size) controller.close();\n              });\n            }\n          });\n        };\n      } catch (e) {\n        try {\n          new Response(\"\").body.getReader().read();\n\n          stream = function stream() {\n            return new Response(this).body;\n          };\n        } catch (e) {\n          stream = function stream() {\n            throw new Error(\"Include https://github.com/MattiasBuelens/web-streams-polyfill\");\n          };\n        }\n      }\n    }\n\n    function promisify(obj) {\n      return new Promise(function (resolve, reject) {\n        obj.onload = obj.onerror = function (evt) {\n          obj.onload = obj.onerror = null;\n          evt.type === \"load\" ? resolve(obj.result || obj) : reject(new Error(\"Failed to read the blob/file\"));\n        };\n      });\n    }\n\n    if (!blob.arrayBuffer) {\n      blob.arrayBuffer = function arrayBuffer() {\n        var fr = new FileReader();\n        fr.readAsArrayBuffer(this);\n        return promisify(fr);\n      };\n    }\n\n    if (!blob.text) {\n      blob.text = function text() {\n        var fr = new FileReader();\n        fr.readAsText(this);\n        return promisify(fr);\n      };\n    }\n\n    if (!blob.stream) {\n      blob.stream = stream;\n    }\n  });\n})(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || typeof global !== \"undefined\" && global || this);","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/blob-polyfill/Blob.js"],"names":["global","factory","define","amd","exports","nodeName","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","URL","webkitURL","href","a","document","createElement","origBlob","Blob","createObjectURL","revokeObjectURL","strTag","Symbol","toStringTag","blobSupported","blobSupportsArrayBufferView","arrayBufferSupported","ArrayBuffer","blobBuilderSupported","prototype","append","getBlob","size","Uint8Array","e","mapArrayBufferViews","ary","map","chunk","buffer","buf","byteLength","copy","set","byteOffset","BlobBuilderConstructor","options","bb","forEach","part","type","BlobConstructor","stringEncode","string","pos","len","length","Arr","Array","at","tlen","Math","max","target","value","charCodeAt","extra","update","slice","stringDecode","end","res","i","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","push","str","j","String","fromCharCode","apply","textEncode","TextEncoder","encode","bind","textDecode","TextDecoder","decode","FakeBlobBuilder","isDataView","obj","Object","isPrototypeOf","call","DataView","bufferClone","view","array","array2base64","input","byteToCharMap","output","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","join","create","c","viewClasses","isArrayBufferView","isView","indexOf","toString","concatTypedarrays","chunks","b","offset","opts","_buffer","concat","test","toLowerCase","arrayBuffer","Promise","resolve","text","start","File","name","replace","lastModifiedDate","lastModified","Date","constructor","setPrototypeOf","__proto__","FileReader","TypeError","delegate","createDocumentFragment","addEventListener","dispatchEvent","evt","local","removeEventListener","_read","fr","blob","kind","result","setTimeout","readyState","LOADING","Event","EMPTY","DONE","error","onabort","onerror","onload","onloadend","onloadstart","onprogress","readAsDataURL","readAsText","readAsArrayBuffer","abort","url","_send","XMLHttpRequest","send","data","setRequestHeader","fixFileAndXHR","isIE","ActiveXObject","documentElement","style","Function","d","t","stream","ReadableStream","position","autoAllocateChunkSize","pull","controller","v","byobRequest","then","uint8array","bytesRead","respond","close","enqueue","Response","body","getReader","read","Error","promisify","reject","self","window"],"mappings":"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","sourcesContent":["/* Blob.js\n * A Blob, File, FileReader & URL implementation.\n * 2019-04-30\n *\n * By Eli Grey, http://eligrey.com\n * By Jimmy Wärting, https://github.com/jimmywarting\n * License: MIT\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\n */\n\n(function(global) {\n\t(function (factory) {\n\t\tif (typeof define === \"function\" && define.amd) {\n\t\t\t// AMD. Register as an anonymous module.\n\t\t\tdefine([\"exports\"], factory);\n\t\t} else if (typeof exports === \"object\" && typeof exports.nodeName !== \"string\") {\n\t\t\t// CommonJS\n\t\t\tfactory(exports);\n\t\t} else {\n\t\t\t// Browser globals\n\t\t\tfactory(global);\n\t\t}\n\t})(function (exports) {\n\t\t\"use strict\";\n\n\t\tvar BlobBuilder = global.BlobBuilder\n\t\t\t|| global.WebKitBlobBuilder\n\t\t\t|| global.MSBlobBuilder\n\t\t\t|| global.MozBlobBuilder;\n\n\t\tvar URL = global.URL || global.webkitURL || function (href, a) {\n\t\t\ta = document.createElement(\"a\");\n\t\t\ta.href = href;\n\t\t\treturn a;\n\t\t};\n\n\t\tvar origBlob = global.Blob;\n\t\tvar createObjectURL = URL.createObjectURL;\n\t\tvar revokeObjectURL = URL.revokeObjectURL;\n\t\tvar strTag = global.Symbol && global.Symbol.toStringTag;\n\t\tvar blobSupported = false;\n\t\tvar blobSupportsArrayBufferView = false;\n\t\tvar arrayBufferSupported = !!global.ArrayBuffer;\n\t\tvar blobBuilderSupported = BlobBuilder\n\t\t\t&& BlobBuilder.prototype.append\n\t\t\t&& BlobBuilder.prototype.getBlob;\n\n\t\ttry {\n\t\t\t// Check if Blob constructor is supported\n\t\t\tblobSupported = new Blob([\"ä\"]).size === 2;\n\n\t\t\t// Check if Blob constructor supports ArrayBufferViews\n\t\t\t// Fails in Safari 6, so we need to map to ArrayBuffers there.\n\t\t\tblobSupportsArrayBufferView = new Blob([new Uint8Array([1, 2])]).size === 2;\n\t\t} catch (e) {/**/}\n\n\n\t\t// Helper function that maps ArrayBufferViews to ArrayBuffers\n\t\t// Used by BlobBuilder constructor and old browsers that didn't\n\t\t// support it in the Blob constructor.\n\t\tfunction mapArrayBufferViews (ary) {\n\t\t\treturn ary.map(function (chunk) {\n\t\t\t\tif (chunk.buffer instanceof ArrayBuffer) {\n\t\t\t\t\tvar buf = chunk.buffer;\n\n\t\t\t\t\t// if this is a subarray, make a copy so we only\n\t\t\t\t\t// include the subarray region from the underlying buffer\n\t\t\t\t\tif (chunk.byteLength !== buf.byteLength) {\n\t\t\t\t\t\tvar copy = new Uint8Array(chunk.byteLength);\n\t\t\t\t\t\tcopy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n\t\t\t\t\t\tbuf = copy.buffer;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn buf;\n\t\t\t\t}\n\n\t\t\t\treturn chunk;\n\t\t\t});\n\t\t}\n\n\t\tfunction BlobBuilderConstructor (ary, options) {\n\t\t\toptions = options || {};\n\n\t\t\tvar bb = new BlobBuilder();\n\t\t\tmapArrayBufferViews(ary).forEach(function (part) {\n\t\t\t\tbb.append(part);\n\t\t\t});\n\n\t\t\treturn options.type ? bb.getBlob(options.type) : bb.getBlob();\n\t\t}\n\n\t\tfunction BlobConstructor (ary, options) {\n\t\t\treturn new origBlob(mapArrayBufferViews(ary), options || {});\n\t\t}\n\n\t\tif (global.Blob) {\n\t\t\tBlobBuilderConstructor.prototype = Blob.prototype;\n\t\t\tBlobConstructor.prototype = Blob.prototype;\n\t\t}\n\n\t\t/********************************************************/\n\t\t/*               String Encoder fallback                */\n\t\t/********************************************************/\n\t\tfunction stringEncode (string) {\n\t\t\tvar pos = 0;\n\t\t\tvar len = string.length;\n\t\t\tvar Arr = global.Uint8Array || Array; // Use byte array when possible\n\n\t\t\tvar at = 0; // output position\n\t\t\tvar tlen = Math.max(32, len + (len >> 1) + 7); // 1.5x size\n\t\t\tvar target = new Arr((tlen >> 3) << 3); // ... but at 8 byte offset\n\n\t\t\twhile (pos < len) {\n\t\t\t\tvar value = string.charCodeAt(pos++);\n\t\t\t\tif (value >= 0xd800 && value <= 0xdbff) {\n\t\t\t\t\t// high surrogate\n\t\t\t\t\tif (pos < len) {\n\t\t\t\t\t\tvar extra = string.charCodeAt(pos);\n\t\t\t\t\t\tif ((extra & 0xfc00) === 0xdc00) {\n\t\t\t\t\t\t\t++pos;\n\t\t\t\t\t\t\tvalue = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (value >= 0xd800 && value <= 0xdbff) {\n\t\t\t\t\t\tcontinue; // drop lone surrogate\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// expand the buffer if we couldn't write 4 bytes\n\t\t\t\tif (at + 4 > target.length) {\n\t\t\t\t\ttlen += 8; // minimum extra\n\t\t\t\t\ttlen *= (1.0 + (pos / string.length) * 2); // take 2x the remaining\n\t\t\t\t\ttlen = (tlen >> 3) << 3; // 8 byte offset\n\n\t\t\t\t\tvar update = new Uint8Array(tlen);\n\t\t\t\t\tupdate.set(target);\n\t\t\t\t\ttarget = update;\n\t\t\t\t}\n\n\t\t\t\tif ((value & 0xffffff80) === 0) { // 1-byte\n\t\t\t\t\ttarget[at++] = value; // ASCII\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ((value & 0xfffff800) === 0) { // 2-byte\n\t\t\t\t\ttarget[at++] = ((value >> 6) & 0x1f) | 0xc0;\n\t\t\t\t} else if ((value & 0xffff0000) === 0) { // 3-byte\n\t\t\t\t\ttarget[at++] = ((value >> 12) & 0x0f) | 0xe0;\n\t\t\t\t\ttarget[at++] = ((value >> 6) & 0x3f) | 0x80;\n\t\t\t\t} else if ((value & 0xffe00000) === 0) { // 4-byte\n\t\t\t\t\ttarget[at++] = ((value >> 18) & 0x07) | 0xf0;\n\t\t\t\t\ttarget[at++] = ((value >> 12) & 0x3f) | 0x80;\n\t\t\t\t\ttarget[at++] = ((value >> 6) & 0x3f) | 0x80;\n\t\t\t\t} else {\n\t\t\t\t\t// FIXME: do we care\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\ttarget[at++] = (value & 0x3f) | 0x80;\n\t\t\t}\n\n\t\t\treturn target.slice(0, at);\n\t\t}\n\n\t\t/********************************************************/\n\t\t/*               String Decoder fallback                */\n\t\t/********************************************************/\n\t\tfunction stringDecode (buf) {\n\t\t\tvar end = buf.length;\n\t\t\tvar res = [];\n\n\t\t\tvar i = 0;\n\t\t\twhile (i < end) {\n\t\t\t\tvar firstByte = buf[i];\n\t\t\t\tvar codePoint = null;\n\t\t\t\tvar bytesPerSequence = (firstByte > 0xEF) ? 4\n\t\t\t\t\t: (firstByte > 0xDF) ? 3\n\t\t\t\t\t\t: (firstByte > 0xBF) ? 2\n\t\t\t\t\t\t\t: 1;\n\n\t\t\t\tif (i + bytesPerSequence <= end) {\n\t\t\t\t\tvar secondByte, thirdByte, fourthByte, tempCodePoint;\n\n\t\t\t\t\tswitch (bytesPerSequence) {\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tif (firstByte < 0x80) {\n\t\t\t\t\t\t\tcodePoint = firstByte;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tsecondByte = buf[i + 1];\n\t\t\t\t\t\tif ((secondByte & 0xC0) === 0x80) {\n\t\t\t\t\t\t\ttempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);\n\t\t\t\t\t\t\tif (tempCodePoint > 0x7F) {\n\t\t\t\t\t\t\t\tcodePoint = tempCodePoint;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tsecondByte = buf[i + 1];\n\t\t\t\t\t\tthirdByte = buf[i + 2];\n\t\t\t\t\t\tif ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n\t\t\t\t\t\t\ttempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);\n\t\t\t\t\t\t\tif (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n\t\t\t\t\t\t\t\tcodePoint = tempCodePoint;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tsecondByte = buf[i + 1];\n\t\t\t\t\t\tthirdByte = buf[i + 2];\n\t\t\t\t\t\tfourthByte = buf[i + 3];\n\t\t\t\t\t\tif ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n\t\t\t\t\t\t\ttempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F);\n\t\t\t\t\t\t\tif (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n\t\t\t\t\t\t\t\tcodePoint = tempCodePoint;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (codePoint === null) {\n\t\t\t\t\t// we did not generate a valid codePoint so insert a\n\t\t\t\t\t// replacement char (U+FFFD) and advance only 1 byte\n\t\t\t\t\tcodePoint = 0xFFFD;\n\t\t\t\t\tbytesPerSequence = 1;\n\t\t\t\t} else if (codePoint > 0xFFFF) {\n\t\t\t\t\t// encode to utf16 (surrogate pair dance)\n\t\t\t\t\tcodePoint -= 0x10000;\n\t\t\t\t\tres.push(codePoint >>> 10 & 0x3FF | 0xD800);\n\t\t\t\t\tcodePoint = 0xDC00 | codePoint & 0x3FF;\n\t\t\t\t}\n\n\t\t\t\tres.push(codePoint);\n\t\t\t\ti += bytesPerSequence;\n\t\t\t}\n\n\t\t\tvar len = res.length;\n\t\t\tvar str = \"\";\n\t\t\tvar j = 0;\n\n\t\t\twhile (j < len) {\n\t\t\t\tstr += String.fromCharCode.apply(String, res.slice(j, j += 0x1000));\n\t\t\t}\n\n\t\t\treturn str;\n\t\t}\n\n\t\t// string -> buffer\n\t\tvar textEncode = typeof TextEncoder === \"function\"\n\t\t\t? TextEncoder.prototype.encode.bind(new TextEncoder())\n\t\t\t: stringEncode;\n\n\t\t// buffer -> string\n\t\tvar textDecode = typeof TextDecoder === \"function\"\n\t\t\t? TextDecoder.prototype.decode.bind(new TextDecoder())\n\t\t\t: stringDecode;\n\n\t\tfunction FakeBlobBuilder () {\n\t\t\tfunction isDataView (obj) {\n\t\t\t\treturn obj && Object.prototype.isPrototypeOf.call(DataView, obj);\n\t\t\t}\n\t\t\tfunction bufferClone (buf) {\n\t\t\t\tvar view = new Array(buf.byteLength);\n\t\t\t\tvar array = new Uint8Array(buf);\n\t\t\t\tvar i = view.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tview[i] = array[i];\n\t\t\t\t}\n\t\t\t\treturn view;\n\t\t\t}\n\t\t\tfunction array2base64 (input) {\n\t\t\t\tvar byteToCharMap = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n\t\t\t\tvar output = [];\n\n\t\t\t\tfor (var i = 0; i < input.length; i += 3) {\n\t\t\t\t\tvar byte1 = input[i];\n\t\t\t\t\tvar haveByte2 = i + 1 < input.length;\n\t\t\t\t\tvar byte2 = haveByte2 ? input[i + 1] : 0;\n\t\t\t\t\tvar haveByte3 = i + 2 < input.length;\n\t\t\t\t\tvar byte3 = haveByte3 ? input[i + 2] : 0;\n\n\t\t\t\t\tvar outByte1 = byte1 >> 2;\n\t\t\t\t\tvar outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\n\t\t\t\t\tvar outByte3 = ((byte2 & 0x0F) << 2) | (byte3 >> 6);\n\t\t\t\t\tvar outByte4 = byte3 & 0x3F;\n\n\t\t\t\t\tif (!haveByte3) {\n\t\t\t\t\t\toutByte4 = 64;\n\n\t\t\t\t\t\tif (!haveByte2) {\n\t\t\t\t\t\t\toutByte3 = 64;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tbyteToCharMap[outByte1], byteToCharMap[outByte2],\n\t\t\t\t\t\tbyteToCharMap[outByte3], byteToCharMap[outByte4]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn output.join(\"\");\n\t\t\t}\n\n\t\t\tvar create = Object.create || function (a) {\n\t\t\t\tfunction c () {}\n\t\t\t\tc.prototype = a;\n\t\t\t\treturn new c();\n\t\t\t};\n\n\t\t\tif (arrayBufferSupported) {\n\t\t\t\tvar viewClasses = [\n\t\t\t\t\t\"[object Int8Array]\",\n\t\t\t\t\t\"[object Uint8Array]\",\n\t\t\t\t\t\"[object Uint8ClampedArray]\",\n\t\t\t\t\t\"[object Int16Array]\",\n\t\t\t\t\t\"[object Uint16Array]\",\n\t\t\t\t\t\"[object Int32Array]\",\n\t\t\t\t\t\"[object Uint32Array]\",\n\t\t\t\t\t\"[object Float32Array]\",\n\t\t\t\t\t\"[object Float64Array]\"\n\t\t\t\t];\n\n\t\t\t\tvar isArrayBufferView = ArrayBuffer.isView || function (obj) {\n\t\t\t\t\treturn obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction concatTypedarrays (chunks) {\n\t\t\t\tvar size = 0;\n\t\t\t\tvar j = chunks.length;\n\t\t\t\twhile (j--) { size += chunks[j].length; }\n\t\t\t\tvar b = new Uint8Array(size);\n\t\t\t\tvar offset = 0;\n\t\t\t\tfor (var i = 0; i < chunks.length; i++) {\n\t\t\t\t\tvar chunk = chunks[i];\n\t\t\t\t\tb.set(chunk, offset);\n\t\t\t\t\toffset += chunk.byteLength || chunk.length;\n\t\t\t\t}\n\n\t\t\t\treturn b;\n\t\t\t}\n\n\t\t\t/********************************************************/\n\t\t\t/*                   Blob constructor                   */\n\t\t\t/********************************************************/\n\t\t\tfunction Blob (chunks, opts) {\n\t\t\t\tchunks = chunks || [];\n\t\t\t\topts = opts == null ? {} : opts;\n\t\t\t\tfor (var i = 0, len = chunks.length; i < len; i++) {\n\t\t\t\t\tvar chunk = chunks[i];\n\t\t\t\t\tif (chunk instanceof Blob) {\n\t\t\t\t\t\tchunks[i] = chunk._buffer;\n\t\t\t\t\t} else if (typeof chunk === \"string\") {\n\t\t\t\t\t\tchunks[i] = textEncode(chunk);\n\t\t\t\t\t} else if (arrayBufferSupported && (Object.prototype.isPrototypeOf.call(ArrayBuffer, chunk) || isArrayBufferView(chunk))) {\n\t\t\t\t\t\tchunks[i] = bufferClone(chunk);\n\t\t\t\t\t} else if (arrayBufferSupported && isDataView(chunk)) {\n\t\t\t\t\t\tchunks[i] = bufferClone(chunk.buffer);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchunks[i] = textEncode(String(chunk));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._buffer = global.Uint8Array\n\t\t\t\t\t? concatTypedarrays(chunks)\n\t\t\t\t\t: [].concat.apply([], chunks);\n\t\t\t\tthis.size = this._buffer.length;\n\n\t\t\t\tthis.type = opts.type || \"\";\n\t\t\t\tif (/[^\\u0020-\\u007E]/.test(this.type)) {\n\t\t\t\t\tthis.type = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tthis.type = this.type.toLowerCase();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tBlob.prototype.arrayBuffer = function () {\n\t\t\t\treturn Promise.resolve(this._buffer);\n\t\t\t};\n\n\t\t\tBlob.prototype.text = function () {\n\t\t\t\treturn Promise.resolve(textDecode(this._buffer));\n\t\t\t};\n\n\t\t\tBlob.prototype.slice = function (start, end, type) {\n\t\t\t\tvar slice = this._buffer.slice(start || 0, end || this._buffer.length);\n\t\t\t\treturn new Blob([slice], {type: type});\n\t\t\t};\n\n\t\t\tBlob.prototype.toString = function () {\n\t\t\t\treturn \"[object Blob]\";\n\t\t\t};\n\n\t\t\t/********************************************************/\n\t\t\t/*                   File constructor                   */\n\t\t\t/********************************************************/\n\t\t\tfunction File (chunks, name, opts) {\n\t\t\t\topts = opts || {};\n\t\t\t\tvar a = Blob.call(this, chunks, opts) || this;\n\t\t\t\ta.name = name.replace(/\\//g, \":\");\n\t\t\t\ta.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();\n\t\t\t\ta.lastModified = +a.lastModifiedDate;\n\n\t\t\t\treturn a;\n\t\t\t}\n\n\t\t\tFile.prototype = create(Blob.prototype);\n\t\t\tFile.prototype.constructor = File;\n\n\t\t\tif (Object.setPrototypeOf) {\n\t\t\t\tObject.setPrototypeOf(File, Blob);\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tFile.__proto__ = Blob;\n\t\t\t\t} catch (e) {/**/}\n\t\t\t}\n\n\t\t\tFile.prototype.toString = function () {\n\t\t\t\treturn \"[object File]\";\n\t\t\t};\n\n\t\t\t/********************************************************/\n\t\t\t/*                FileReader constructor                */\n\t\t\t/********************************************************/\n\t\t\tfunction FileReader () {\n\t\t\t\tif (!(this instanceof FileReader)) {\n\t\t\t\t\tthrow new TypeError(\"Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n\t\t\t\t}\n\n\t\t\t\tvar delegate = document.createDocumentFragment();\n\t\t\t\tthis.addEventListener = delegate.addEventListener;\n\t\t\t\tthis.dispatchEvent = function (evt) {\n\t\t\t\t\tvar local = this[\"on\" + evt.type];\n\t\t\t\t\tif (typeof local === \"function\") local(evt);\n\t\t\t\t\tdelegate.dispatchEvent(evt);\n\t\t\t\t};\n\t\t\t\tthis.removeEventListener = delegate.removeEventListener;\n\t\t\t}\n\n\t\t\tfunction _read (fr, blob, kind) {\n\t\t\t\tif (!(blob instanceof Blob)) {\n\t\t\t\t\tthrow new TypeError(\"Failed to execute '\" + kind + \"' on 'FileReader': parameter 1 is not of type 'Blob'.\");\n\t\t\t\t}\n\n\t\t\t\tfr.result = \"\";\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tthis.readyState = FileReader.LOADING;\n\t\t\t\t\tfr.dispatchEvent(new Event(\"load\"));\n\t\t\t\t\tfr.dispatchEvent(new Event(\"loadend\"));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tFileReader.EMPTY = 0;\n\t\t\tFileReader.LOADING = 1;\n\t\t\tFileReader.DONE = 2;\n\t\t\tFileReader.prototype.error = null;\n\t\t\tFileReader.prototype.onabort = null;\n\t\t\tFileReader.prototype.onerror = null;\n\t\t\tFileReader.prototype.onload = null;\n\t\t\tFileReader.prototype.onloadend = null;\n\t\t\tFileReader.prototype.onloadstart = null;\n\t\t\tFileReader.prototype.onprogress = null;\n\n\t\t\tFileReader.prototype.readAsDataURL = function (blob) {\n\t\t\t\t_read(this, blob, \"readAsDataURL\");\n\t\t\t\tthis.result = \"data:\" + blob.type + \";base64,\" + array2base64(blob._buffer);\n\t\t\t};\n\n\t\t\tFileReader.prototype.readAsText = function (blob) {\n\t\t\t\t_read(this, blob, \"readAsText\");\n\t\t\t\tthis.result = textDecode(blob._buffer);\n\t\t\t};\n\n\t\t\tFileReader.prototype.readAsArrayBuffer = function (blob) {\n\t\t\t\t_read(this, blob, \"readAsText\");\n\t\t\t\t// return ArrayBuffer when possible\n\t\t\t\tthis.result = (blob._buffer.buffer || blob._buffer).slice();\n\t\t\t};\n\n\t\t\tFileReader.prototype.abort = function () {};\n\n\t\t\t/********************************************************/\n\t\t\t/*                         URL                          */\n\t\t\t/********************************************************/\n\t\t\tURL.createObjectURL = function (blob) {\n\t\t\t\treturn blob instanceof Blob\n\t\t\t\t\t? \"data:\" + blob.type + \";base64,\" + array2base64(blob._buffer)\n\t\t\t\t\t: createObjectURL.call(URL, blob);\n\t\t\t};\n\n\t\t\tURL.revokeObjectURL = function (url) {\n\t\t\t\trevokeObjectURL && revokeObjectURL.call(URL, url);\n\t\t\t};\n\n\t\t\t/********************************************************/\n\t\t\t/*                         XHR                          */\n\t\t\t/********************************************************/\n\t\t\tvar _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send;\n\t\t\tif (_send) {\n\t\t\t\tXMLHttpRequest.prototype.send = function (data) {\n\t\t\t\t\tif (data instanceof Blob) {\n\t\t\t\t\t\tthis.setRequestHeader(\"Content-Type\", data.type);\n\t\t\t\t\t\t_send.call(this, textDecode(data._buffer));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_send.call(this, data);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\texports.Blob = Blob;\n\t\t\texports.File = File;\n\t\t\texports.FileReader = FileReader;\n\t\t\texports.URL = URL;\n\t\t}\n\n\t\tfunction fixFileAndXHR () {\n\t\t\tvar isIE = !!global.ActiveXObject || (\n\t\t\t\t\"-ms-scroll-limit\" in document.documentElement.style &&\n\t\t\t\t\"-ms-ime-align\" in document.documentElement.style\n\t\t\t);\n\n\t\t\t// Monkey patched\n\t\t\t// IE doesn't set Content-Type header on XHR whose body is a typed Blob\n\t\t\t// https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/6047383\n\t\t\tvar _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send;\n\t\t\tif (isIE && _send) {\n\t\t\t\tXMLHttpRequest.prototype.send = function (data) {\n\t\t\t\t\tif (data instanceof Blob) {\n\t\t\t\t\t\tthis.setRequestHeader(\"Content-Type\", data.type);\n\t\t\t\t\t\t_send.call(this, data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_send.call(this, data);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tnew File([], \"\");\n\t\t\t\texports.File = global.File;\n\t\t\t\texports.FileReader = global.FileReader;\n\t\t\t} catch (e) {\n\t\t\t\ttry {\n\t\t\t\t\texports.File = new Function(\"class File extends Blob {\" +\n\t\t\t\t\t\t\"constructor(chunks, name, opts) {\" +\n\t\t\t\t\t\t\t\"opts = opts || {};\" +\n\t\t\t\t\t\t\t\"super(chunks, opts || {});\" +\n\t\t\t\t\t\t\t\"this.name = name.replace(/\\\\//g, \\\":\\\");\" +\n\t\t\t\t\t\t\t\"this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();\" +\n\t\t\t\t\t\t\t\"this.lastModified = +this.lastModifiedDate;\" +\n\t\t\t\t\t\t\"}};\" +\n\t\t\t\t\t\t\"return new File([], \\\"\\\"), File\"\n\t\t\t\t\t)();\n\t\t\t\t} catch (e) {\n\t\t\t\t\texports.File = function (b, d, c) {\n\t\t\t\t\t\tvar blob = new Blob(b, c);\n\t\t\t\t\t\tvar t = c && void 0 !== c.lastModified ? new Date(c.lastModified) : new Date();\n\n\t\t\t\t\t\tblob.name = d.replace(/\\//g, \":\");\n\t\t\t\t\t\tblob.lastModifiedDate = t;\n\t\t\t\t\t\tblob.lastModified = +t;\n\t\t\t\t\t\tblob.toString = function () {\n\t\t\t\t\t\t\treturn \"[object File]\";\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (strTag) {\n\t\t\t\t\t\t\tblob[strTag] = \"File\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn blob;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (blobSupported) {\n\t\t\tfixFileAndXHR();\n\t\t\texports.Blob = blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n\t\t} else if (blobBuilderSupported) {\n\t\t\tfixFileAndXHR();\n\t\t\texports.Blob = BlobBuilderConstructor;\n\t\t} else {\n\t\t\tFakeBlobBuilder();\n\t\t}\n\n\t\tif (strTag) {\n\t\t\tif (!exports.File.prototype[strTag]) exports.File.prototype[strTag] = \"File\";\n\t\t\tif (!exports.Blob.prototype[strTag]) exports.Blob.prototype[strTag] = \"Blob\";\n\t\t\tif (!exports.FileReader.prototype[strTag]) exports.FileReader.prototype[strTag] = \"FileReader\";\n\t\t}\n\n\t\tvar blob = exports.Blob.prototype;\n\t\tvar stream;\n\n\t\ttry {\n\t\t\tnew ReadableStream({ type: \"bytes\" });\n\t\t\tstream = function stream() {\n\t\t\t\tvar position = 0;\n\t\t\t\tvar blob = this;\n\n\t\t\t\treturn new ReadableStream({\n\t\t\t\t\ttype: \"bytes\",\n\t\t\t\t\tautoAllocateChunkSize: 524288,\n\n\t\t\t\t\tpull: function (controller) {\n\t\t\t\t\t\tvar v = controller.byobRequest.view;\n\t\t\t\t\t\tvar chunk = blob.slice(position, position + v.byteLength);\n\t\t\t\t\t\treturn chunk.arrayBuffer()\n\t\t\t\t\t\t\t.then(function (buffer) {\n\t\t\t\t\t\t\t\tvar uint8array = new Uint8Array(buffer);\n\t\t\t\t\t\t\t\tvar bytesRead = uint8array.byteLength;\n\n\t\t\t\t\t\t\t\tposition += bytesRead;\n\t\t\t\t\t\t\t\tv.set(uint8array);\n\t\t\t\t\t\t\t\tcontroller.byobRequest.respond(bytesRead);\n\n\t\t\t\t\t\t\t\tif(position >= blob.size)\n\t\t\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t} catch (e) {\n\t\t\ttry {\n\t\t\t\tnew ReadableStream({});\n\t\t\t\tstream = function stream(blob){\n\t\t\t\t\tvar position = 0;\n\n\t\t\t\t\treturn new ReadableStream({\n\t\t\t\t\t\tpull: function (controller) {\n\t\t\t\t\t\t\tvar chunk = blob.slice(position, position + 524288);\n\n\t\t\t\t\t\t\treturn chunk.arrayBuffer().then(function (buffer) {\n\t\t\t\t\t\t\t\tposition += buffer.byteLength;\n\t\t\t\t\t\t\t\tvar uint8array = new Uint8Array(buffer);\n\t\t\t\t\t\t\t\tcontroller.enqueue(uint8array);\n\n\t\t\t\t\t\t\t\tif (position == blob.size)\n\t\t\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t} catch (e) {\n\t\t\t\ttry {\n\t\t\t\t\tnew Response(\"\").body.getReader().read();\n\t\t\t\t\tstream = function stream() {\n\t\t\t\t\t\treturn (new Response(this)).body;\n\t\t\t\t\t};\n\t\t\t\t} catch (e) {\n\t\t\t\t\tstream = function stream() {\n\t\t\t\t\t\tthrow new Error(\"Include https://github.com/MattiasBuelens/web-streams-polyfill\");\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction promisify(obj) {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tobj.onload = obj.onerror = function(evt) {\n\t\t\t\t\tobj.onload = obj.onerror = null;\n\n\t\t\t\t\tevt.type === \"load\" ?\n\t\t\t\t\t\tresolve(obj.result || obj) :\n\t\t\t\t\t\treject(new Error(\"Failed to read the blob/file\"));\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tif (!blob.arrayBuffer) {\n\t\t\tblob.arrayBuffer = function arrayBuffer() {\n\t\t\t\tvar fr = new FileReader();\n\t\t\t\tfr.readAsArrayBuffer(this);\n\t\t\t\treturn promisify(fr);\n\t\t\t};\n\t\t}\n\n\t\tif (!blob.text) {\n\t\t\tblob.text = function text() {\n\t\t\t\tvar fr = new FileReader();\n\t\t\t\tfr.readAsText(this);\n\t\t\t\treturn promisify(fr);\n\t\t\t};\n\t\t}\n\n\t\tif (!blob.stream) {\n\t\t\tblob.stream = stream;\n\t\t}\n\t});\n})(\n\ttypeof self !== \"undefined\" && self ||\n\t\ttypeof window !== \"undefined\" && window ||\n\t\ttypeof global !== \"undefined\" && global ||\n\t\tthis\n);\n"]},"metadata":{},"sourceType":"script"}