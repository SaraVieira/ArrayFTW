{"ast":null,"code":"import _slicedToArray from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { createElement, useMemo, useState } from 'react';\nimport { CanvasTexture } from 'three';\nimport { useGizmoContext } from './GizmoHelper.js';\n\nfunction Axis(_ref3) {\n  var color = _ref3.color,\n      rotation = _ref3.rotation;\n  return /*#__PURE__*/createElement(\"group\", {\n    rotation: rotation\n  }, /*#__PURE__*/createElement(\"mesh\", {\n    position: [0.4, 0, 0]\n  }, /*#__PURE__*/createElement(\"boxGeometry\", {\n    args: [0.8, 0.05, 0.05]\n  }), /*#__PURE__*/createElement(\"meshBasicMaterial\", {\n    color: color,\n    toneMapped: false\n  })));\n}\n\nfunction AxisHead(_ref) {\n  var arcStyle = _ref.arcStyle,\n      label = _ref.label,\n      labelColor = _ref.labelColor,\n      props = _objectWithoutPropertiesLoose(_ref, [\"arcStyle\", \"label\", \"labelColor\"]);\n\n  var texture = useMemo(function () {\n    var canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    var context = canvas.getContext('2d');\n    context.beginPath();\n    context.arc(32, 32, 16, 0, 2 * Math.PI);\n    context.closePath();\n    context.fillStyle = arcStyle;\n    context.fill();\n\n    if (label) {\n      context.font = '24px Arial';\n      context.textAlign = 'center';\n      context.fillStyle = labelColor;\n      context.fillText(label, 32, 41);\n    }\n\n    return new CanvasTexture(canvas);\n  }, [arcStyle, label, labelColor]);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  var scale = (label ? 1 : 0.75) * (active ? 1.2 : 1);\n\n  var handlePointerOver = function handlePointerOver(e) {\n    setActive(true);\n    e.stopPropagation();\n  };\n\n  var handlePointerOut = function handlePointerOut(e) {\n    setActive(false);\n    e.stopPropagation();\n  };\n\n  return /*#__PURE__*/createElement(\"sprite\", _extends({\n    scale: [scale, scale, scale],\n    onPointerOver: handlePointerOver,\n    onPointerOut: handlePointerOut\n  }, props), /*#__PURE__*/createElement(\"spriteMaterial\", {\n    map: texture,\n    alphaTest: 0.3,\n    opacity: label ? 1 : 0.75,\n    toneMapped: false\n  }));\n}\n\nvar GizmoViewport = function GizmoViewport(_ref2) {\n  var _ref2$axisColors = _ref2.axisColors,\n      axisColors = _ref2$axisColors === void 0 ? ['#ff3653', '#8adb00', '#2c8fff'] : _ref2$axisColors,\n      _ref2$labelColor = _ref2.labelColor,\n      labelColor = _ref2$labelColor === void 0 ? '#000' : _ref2$labelColor,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"axisColors\", \"labelColor\"]);\n\n  var _axisColors = _slicedToArray(axisColors, 3),\n      colorX = _axisColors[0],\n      colorY = _axisColors[1],\n      colorZ = _axisColors[2];\n\n  var _useGizmoContext = useGizmoContext(),\n      tweenCamera = _useGizmoContext.tweenCamera,\n      raycast = _useGizmoContext.raycast;\n\n  var axisHeadProps = {\n    labelColor: labelColor,\n    onPointerDown: function onPointerDown(e) {\n      tweenCamera(e.object.position);\n      e.stopPropagation();\n    },\n    raycast: raycast\n  };\n  return /*#__PURE__*/createElement(\"group\", _extends({\n    scale: [40, 40, 40]\n  }, props), /*#__PURE__*/createElement(Axis, {\n    color: colorX,\n    rotation: [0, 0, 0]\n  }), /*#__PURE__*/createElement(Axis, {\n    color: colorY,\n    rotation: [0, 0, Math.PI / 2]\n  }), /*#__PURE__*/createElement(Axis, {\n    color: colorZ,\n    rotation: [0, -Math.PI / 2, 0]\n  }), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [1, 0, 0],\n    label: \"X\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, 1, 0],\n    label: \"Y\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, 1],\n    label: \"Z\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [-1, 0, 0]\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, -1, 0]\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, -1]\n  }, axisHeadProps)), /*#__PURE__*/createElement(\"ambientLight\", {\n    intensity: 0.5\n  }), /*#__PURE__*/createElement(\"pointLight\", {\n    position: [10, 10, 10],\n    intensity: 0.5\n  }));\n};\n\nexport { GizmoViewport };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/@react-three/drei/core/GizmoViewport.js"],"names":["_extends","_objectWithoutPropertiesLoose","createElement","useMemo","useState","CanvasTexture","useGizmoContext","Axis","color","rotation","position","args","toneMapped","AxisHead","_ref","arcStyle","label","labelColor","props","texture","canvas","document","width","height","context","getContext","beginPath","arc","Math","PI","closePath","fillStyle","fill","font","textAlign","fillText","active","setActive","scale","handlePointerOver","e","stopPropagation","handlePointerOut","onPointerOver","onPointerOut","map","alphaTest","opacity","GizmoViewport","_ref2","axisColors","colorX","colorY","colorZ","tweenCamera","raycast","axisHeadProps","onPointerDown","object","intensity"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { createElement, useMemo, useState } from 'react';\nimport { CanvasTexture } from 'three';\nimport { useGizmoContext } from './GizmoHelper.js';\n\nfunction Axis({\n  color,\n  rotation\n}) {\n  return /*#__PURE__*/createElement(\"group\", {\n    rotation: rotation\n  }, /*#__PURE__*/createElement(\"mesh\", {\n    position: [0.4, 0, 0]\n  }, /*#__PURE__*/createElement(\"boxGeometry\", {\n    args: [0.8, 0.05, 0.05]\n  }), /*#__PURE__*/createElement(\"meshBasicMaterial\", {\n    color: color,\n    toneMapped: false\n  })));\n}\n\nfunction AxisHead(_ref) {\n  let {\n    arcStyle,\n    label,\n    labelColor\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, [\"arcStyle\", \"label\", \"labelColor\"]);\n\n  const texture = useMemo(() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const context = canvas.getContext('2d');\n    context.beginPath();\n    context.arc(32, 32, 16, 0, 2 * Math.PI);\n    context.closePath();\n    context.fillStyle = arcStyle;\n    context.fill();\n\n    if (label) {\n      context.font = '24px Arial';\n      context.textAlign = 'center';\n      context.fillStyle = labelColor;\n      context.fillText(label, 32, 41);\n    }\n\n    return new CanvasTexture(canvas);\n  }, [arcStyle, label, labelColor]);\n  const [active, setActive] = useState(false);\n  const scale = (label ? 1 : 0.75) * (active ? 1.2 : 1);\n\n  const handlePointerOver = e => {\n    setActive(true);\n    e.stopPropagation();\n  };\n\n  const handlePointerOut = e => {\n    setActive(false);\n    e.stopPropagation();\n  };\n\n  return /*#__PURE__*/createElement(\"sprite\", _extends({\n    scale: [scale, scale, scale],\n    onPointerOver: handlePointerOver,\n    onPointerOut: handlePointerOut\n  }, props), /*#__PURE__*/createElement(\"spriteMaterial\", {\n    map: texture,\n    alphaTest: 0.3,\n    opacity: label ? 1 : 0.75,\n    toneMapped: false\n  }));\n}\n\nconst GizmoViewport = (_ref2) => {\n  let {\n    axisColors = ['#ff3653', '#8adb00', '#2c8fff'],\n    labelColor = '#000'\n  } = _ref2,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"axisColors\", \"labelColor\"]);\n\n  const [colorX, colorY, colorZ] = axisColors;\n  const {\n    tweenCamera,\n    raycast\n  } = useGizmoContext();\n  const axisHeadProps = {\n    labelColor,\n    onPointerDown: e => {\n      tweenCamera(e.object.position);\n      e.stopPropagation();\n    },\n    raycast\n  };\n  return /*#__PURE__*/createElement(\"group\", _extends({\n    scale: [40, 40, 40]\n  }, props), /*#__PURE__*/createElement(Axis, {\n    color: colorX,\n    rotation: [0, 0, 0]\n  }), /*#__PURE__*/createElement(Axis, {\n    color: colorY,\n    rotation: [0, 0, Math.PI / 2]\n  }), /*#__PURE__*/createElement(Axis, {\n    color: colorZ,\n    rotation: [0, -Math.PI / 2, 0]\n  }), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [1, 0, 0],\n    label: \"X\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, 1, 0],\n    label: \"Y\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, 1],\n    label: \"Z\"\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [-1, 0, 0]\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, -1, 0]\n  }, axisHeadProps)), /*#__PURE__*/createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, -1]\n  }, axisHeadProps)), /*#__PURE__*/createElement(\"ambientLight\", {\n    intensity: 0.5\n  }), /*#__PURE__*/createElement(\"pointLight\", {\n    position: [10, 10, 10],\n    intensity: 0.5\n  }));\n};\n\nexport { GizmoViewport };\n"]},"metadata":{},"sourceType":"module"}