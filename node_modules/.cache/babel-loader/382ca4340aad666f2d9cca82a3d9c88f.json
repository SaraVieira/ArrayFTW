{"ast":null,"code":"import { TempNode } from '../core/TempNode.js';\nimport { NodeLib } from '../core/NodeLib.js';\n\nfunction UVNode(index) {\n  TempNode.call(this, 'v2', {\n    shared: false\n  });\n  this.index = index || 0;\n}\n\nUVNode.prototype = Object.create(TempNode.prototype);\nUVNode.prototype.constructor = UVNode;\nUVNode.prototype.nodeType = 'UV';\n\nUVNode.prototype.generate = function (builder, output) {\n  builder.requires.uv[this.index] = true;\n  var uvIndex = this.index > 0 ? this.index + 1 : '';\n  var result = builder.isShader('vertex') ? 'uv' + uvIndex : 'vUv' + uvIndex;\n  return builder.format(result, this.getType(builder), output);\n};\n\nUVNode.prototype.copy = function (source) {\n  TempNode.prototype.copy.call(this, source);\n  this.index = source.index;\n  return this;\n};\n\nUVNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.index = this.index;\n  }\n\n  return data;\n};\n\nNodeLib.addKeyword('uv', function () {\n  return new UVNode();\n});\nNodeLib.addKeyword('uv2', function () {\n  return new UVNode(1);\n});\nexport { UVNode };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/three-stdlib/nodes/accessors/UVNode.js"],"names":["TempNode","NodeLib","UVNode","index","call","shared","prototype","Object","create","constructor","nodeType","generate","builder","output","requires","uv","uvIndex","result","isShader","format","getType","copy","source","toJSON","meta","data","getJSONNode","createJSONNode","addKeyword"],"mappings":"AAAA,SAASA,QAAT,QAAyB,qBAAzB;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AAEA,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AACrBH,EAAAA,QAAQ,CAACI,IAAT,CAAc,IAAd,EAAoB,IAApB,EAA0B;AACxBC,IAAAA,MAAM,EAAE;AADgB,GAA1B;AAGA,OAAKF,KAAL,GAAaA,KAAK,IAAI,CAAtB;AACD;;AAEDD,MAAM,CAACI,SAAP,GAAmBC,MAAM,CAACC,MAAP,CAAcR,QAAQ,CAACM,SAAvB,CAAnB;AACAJ,MAAM,CAACI,SAAP,CAAiBG,WAAjB,GAA+BP,MAA/B;AACAA,MAAM,CAACI,SAAP,CAAiBI,QAAjB,GAA4B,IAA5B;;AAEAR,MAAM,CAACI,SAAP,CAAiBK,QAAjB,GAA4B,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACrDD,EAAAA,OAAO,CAACE,QAAR,CAAiBC,EAAjB,CAAoB,KAAKZ,KAAzB,IAAkC,IAAlC;AACA,MAAIa,OAAO,GAAG,KAAKb,KAAL,GAAa,CAAb,GAAiB,KAAKA,KAAL,GAAa,CAA9B,GAAkC,EAAhD;AACA,MAAIc,MAAM,GAAGL,OAAO,CAACM,QAAR,CAAiB,QAAjB,IAA6B,OAAOF,OAApC,GAA8C,QAAQA,OAAnE;AACA,SAAOJ,OAAO,CAACO,MAAR,CAAeF,MAAf,EAAuB,KAAKG,OAAL,CAAaR,OAAb,CAAvB,EAA8CC,MAA9C,CAAP;AACD,CALD;;AAOAX,MAAM,CAACI,SAAP,CAAiBe,IAAjB,GAAwB,UAAUC,MAAV,EAAkB;AACxCtB,EAAAA,QAAQ,CAACM,SAAT,CAAmBe,IAAnB,CAAwBjB,IAAxB,CAA6B,IAA7B,EAAmCkB,MAAnC;AACA,OAAKnB,KAAL,GAAamB,MAAM,CAACnB,KAApB;AACA,SAAO,IAAP;AACD,CAJD;;AAMAD,MAAM,CAACI,SAAP,CAAiBiB,MAAjB,GAA0B,UAAUC,IAAV,EAAgB;AACxC,MAAIC,IAAI,GAAG,KAAKC,WAAL,CAAiBF,IAAjB,CAAX;;AAEA,MAAI,CAACC,IAAL,EAAW;AACTA,IAAAA,IAAI,GAAG,KAAKE,cAAL,CAAoBH,IAApB,CAAP;AACAC,IAAAA,IAAI,CAACtB,KAAL,GAAa,KAAKA,KAAlB;AACD;;AAED,SAAOsB,IAAP;AACD,CATD;;AAWAxB,OAAO,CAAC2B,UAAR,CAAmB,IAAnB,EAAyB,YAAY;AACnC,SAAO,IAAI1B,MAAJ,EAAP;AACD,CAFD;AAGAD,OAAO,CAAC2B,UAAR,CAAmB,KAAnB,EAA0B,YAAY;AACpC,SAAO,IAAI1B,MAAJ,CAAW,CAAX,CAAP;AACD,CAFD;AAIA,SAASA,MAAT","sourcesContent":["import { TempNode } from '../core/TempNode.js';\nimport { NodeLib } from '../core/NodeLib.js';\n\nfunction UVNode(index) {\n  TempNode.call(this, 'v2', {\n    shared: false\n  });\n  this.index = index || 0;\n}\n\nUVNode.prototype = Object.create(TempNode.prototype);\nUVNode.prototype.constructor = UVNode;\nUVNode.prototype.nodeType = 'UV';\n\nUVNode.prototype.generate = function (builder, output) {\n  builder.requires.uv[this.index] = true;\n  var uvIndex = this.index > 0 ? this.index + 1 : '';\n  var result = builder.isShader('vertex') ? 'uv' + uvIndex : 'vUv' + uvIndex;\n  return builder.format(result, this.getType(builder), output);\n};\n\nUVNode.prototype.copy = function (source) {\n  TempNode.prototype.copy.call(this, source);\n  this.index = source.index;\n  return this;\n};\n\nUVNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.index = this.index;\n  }\n\n  return data;\n};\n\nNodeLib.addKeyword('uv', function () {\n  return new UVNode();\n});\nNodeLib.addKeyword('uv2', function () {\n  return new UVNode(1);\n});\n\nexport { UVNode };\n"]},"metadata":{},"sourceType":"module"}