{"ast":null,"code":"import _classCallCheck from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Loader, CanvasTexture, NearestFilter, FileLoader } from 'three';\n\nvar LottieLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(LottieLoader, _Loader);\n\n  var _super = _createSuper(LottieLoader);\n\n  function LottieLoader() {\n    _classCallCheck(this, LottieLoader);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LottieLoader, [{\n    key: \"setQuality\",\n    value: function setQuality(value) {\n      this._quality = value;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var quality = this._quality || 1;\n      var texture = new CanvasTexture();\n      texture.minFilter = NearestFilter;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (text) {\n        var data = JSON.parse(text); // bodymoving uses container.offetWidth and offsetHeight\n        // to define width/height\n\n        var container = document.createElement('div');\n        container.style.width = data.w + 'px';\n        container.style.height = data.h + 'px';\n        document.body.appendChild(container); // eslint-disable-next-line no-undef\n\n        var animation = bodymovin.loadAnimation({\n          container: container,\n          animType: 'canvas',\n          loop: true,\n          autoplay: true,\n          animationData: data,\n          rendererSettings: {\n            dpr: quality\n          }\n        });\n        texture.animation = animation;\n        texture.image = animation.container;\n        animation.addEventListener('enterFrame', function () {\n          texture.needsUpdate = true;\n        });\n        container.style.display = 'none';\n\n        if (onLoad !== undefined) {\n          onLoad(texture);\n        }\n      }, onProgress, onError);\n      return texture;\n    }\n  }]);\n\n  return LottieLoader;\n}(Loader);\n\nexport { LottieLoader };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/three-stdlib/loaders/LottieLoader.js"],"names":["Loader","CanvasTexture","NearestFilter","FileLoader","LottieLoader","value","_quality","url","onLoad","onProgress","onError","quality","texture","minFilter","loader","manager","setPath","path","setWithCredentials","withCredentials","load","text","data","JSON","parse","container","document","createElement","style","width","w","height","h","body","appendChild","animation","bodymovin","loadAnimation","animType","loop","autoplay","animationData","rendererSettings","dpr","image","addEventListener","needsUpdate","display","undefined"],"mappings":";;;;AAAA,SAASA,MAAT,EAAiBC,aAAjB,EAAgCC,aAAhC,EAA+CC,UAA/C,QAAiE,OAAjE;;IAEMC,Y;;;;;;;;;;;;;WACJ,oBAAWC,KAAX,EAAkB;AAChB,WAAKC,QAAL,GAAgBD,KAAhB;AACD;;;WAED,cAAKE,GAAL,EAAUC,MAAV,EAAkBC,UAAlB,EAA8BC,OAA9B,EAAuC;AACrC,UAAMC,OAAO,GAAG,KAAKL,QAAL,IAAiB,CAAjC;AACA,UAAMM,OAAO,GAAG,IAAIX,aAAJ,EAAhB;AACAW,MAAAA,OAAO,CAACC,SAAR,GAAoBX,aAApB;AACA,UAAMY,MAAM,GAAG,IAAIX,UAAJ,CAAe,KAAKY,OAApB,CAAf;AACAD,MAAAA,MAAM,CAACE,OAAP,CAAe,KAAKC,IAApB;AACAH,MAAAA,MAAM,CAACI,kBAAP,CAA0B,KAAKC,eAA/B;AACAL,MAAAA,MAAM,CAACM,IAAP,CAAYb,GAAZ,EAAiB,UAAUc,IAAV,EAAgB;AAC/B,YAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAX,CAAb,CAD+B,CACA;AAC/B;;AAEA,YAAMI,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;AACAF,QAAAA,SAAS,CAACG,KAAV,CAAgBC,KAAhB,GAAwBP,IAAI,CAACQ,CAAL,GAAS,IAAjC;AACAL,QAAAA,SAAS,CAACG,KAAV,CAAgBG,MAAhB,GAAyBT,IAAI,CAACU,CAAL,GAAS,IAAlC;AACAN,QAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BT,SAA1B,EAP+B,CAOO;;AAEtC,YAAMU,SAAS,GAAGC,SAAS,CAACC,aAAV,CAAwB;AACxCZ,UAAAA,SAAS,EAAEA,SAD6B;AAExCa,UAAAA,QAAQ,EAAE,QAF8B;AAGxCC,UAAAA,IAAI,EAAE,IAHkC;AAIxCC,UAAAA,QAAQ,EAAE,IAJ8B;AAKxCC,UAAAA,aAAa,EAAEnB,IALyB;AAMxCoB,UAAAA,gBAAgB,EAAE;AAChBC,YAAAA,GAAG,EAAEhC;AADW;AANsB,SAAxB,CAAlB;AAUAC,QAAAA,OAAO,CAACuB,SAAR,GAAoBA,SAApB;AACAvB,QAAAA,OAAO,CAACgC,KAAR,GAAgBT,SAAS,CAACV,SAA1B;AACAU,QAAAA,SAAS,CAACU,gBAAV,CAA2B,YAA3B,EAAyC,YAAY;AACnDjC,UAAAA,OAAO,CAACkC,WAAR,GAAsB,IAAtB;AACD,SAFD;AAGArB,QAAAA,SAAS,CAACG,KAAV,CAAgBmB,OAAhB,GAA0B,MAA1B;;AAEA,YAAIvC,MAAM,KAAKwC,SAAf,EAA0B;AACxBxC,UAAAA,MAAM,CAACI,OAAD,CAAN;AACD;AACF,OA7BD,EA6BGH,UA7BH,EA6BeC,OA7Bf;AA8BA,aAAOE,OAAP;AACD;;;;EA3CwBZ,M;;AA+C3B,SAASI,YAAT","sourcesContent":["import { Loader, CanvasTexture, NearestFilter, FileLoader } from 'three';\n\nclass LottieLoader extends Loader {\n  setQuality(value) {\n    this._quality = value;\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const quality = this._quality || 1;\n    const texture = new CanvasTexture();\n    texture.minFilter = NearestFilter;\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (text) {\n      const data = JSON.parse(text); // bodymoving uses container.offetWidth and offsetHeight\n      // to define width/height\n\n      const container = document.createElement('div');\n      container.style.width = data.w + 'px';\n      container.style.height = data.h + 'px';\n      document.body.appendChild(container); // eslint-disable-next-line no-undef\n\n      const animation = bodymovin.loadAnimation({\n        container: container,\n        animType: 'canvas',\n        loop: true,\n        autoplay: true,\n        animationData: data,\n        rendererSettings: {\n          dpr: quality\n        }\n      });\n      texture.animation = animation;\n      texture.image = animation.container;\n      animation.addEventListener('enterFrame', function () {\n        texture.needsUpdate = true;\n      });\n      container.style.display = 'none';\n\n      if (onLoad !== undefined) {\n        onLoad(texture);\n      }\n    }, onProgress, onError);\n    return texture;\n  }\n\n}\n\nexport { LottieLoader };\n"]},"metadata":{},"sourceType":"module"}