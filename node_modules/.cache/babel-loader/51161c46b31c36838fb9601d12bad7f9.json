{"ast":null,"code":"import _slicedToArray from \"/Projects/arrayftw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { forwardRef, useState, useRef, useImperativeHandle, useEffect, createElement, cloneElement, Children } from 'react';\nimport { Flow } from 'three-stdlib';\nvar CurveModifier = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      curve = _ref.curve;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      object3D = _useState2[0],\n      setObj = _useState2[1];\n\n  var original = useRef();\n  var modifier = useRef();\n  useImperativeHandle(ref, function () {\n    return {\n      moveAlongCurve: function moveAlongCurve(val) {\n        var _modifier$current;\n\n        (_modifier$current = modifier.current) == null ? void 0 : _modifier$current.moveAlongCurve(val);\n      }\n    };\n  });\n  useEffect(function () {\n    if (!modifier.current && original.current && ref) {\n      modifier.current = new Flow(original.current);\n      setObj(modifier.current.object3D);\n    }\n  }, [children, ref]);\n  useEffect(function () {\n    if (original.current && curve) {\n      var _modifier$current2;\n\n      (_modifier$current2 = modifier.current) == null ? void 0 : _modifier$current2.updateCurve(0, curve);\n    }\n  }, [curve]);\n  return object3D ? /*#__PURE__*/createElement(\"primitive\", {\n    object: object3D\n  }) : /*#__PURE__*/cloneElement(Children.only(children), {\n    ref: original\n  });\n});\nexport { CurveModifier };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/@react-three/drei/core/CurveModifier.js"],"names":["forwardRef","useState","useRef","useImperativeHandle","useEffect","createElement","cloneElement","Children","Flow","CurveModifier","ref","children","curve","object3D","setObj","original","modifier","moveAlongCurve","val","_modifier$current","current","_modifier$current2","updateCurve","object","only"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,QAArB,EAA+BC,MAA/B,EAAuCC,mBAAvC,EAA4DC,SAA5D,EAAuEC,aAAvE,EAAsFC,YAAtF,EAAoGC,QAApG,QAAoH,OAApH;AACA,SAASC,IAAT,QAAqB,cAArB;AAEA,IAAMC,aAAa,GAAG,aAAaT,UAAU,CAAC,gBAG3CU,GAH2C,EAGnC;AAAA,MAFTC,QAES,QAFTA,QAES;AAAA,MADTC,KACS,QADTA,KACS;;AACT,kBAA2BX,QAAQ,EAAnC;AAAA;AAAA,MAAOY,QAAP;AAAA,MAAiBC,MAAjB;;AACA,MAAMC,QAAQ,GAAGb,MAAM,EAAvB;AACA,MAAMc,QAAQ,GAAGd,MAAM,EAAvB;AACAC,EAAAA,mBAAmB,CAACO,GAAD,EAAM;AAAA,WAAO;AAC9BO,MAAAA,cAAc,EAAE,wBAAAC,GAAG,EAAI;AACrB,YAAIC,iBAAJ;;AAEA,SAACA,iBAAiB,GAAGH,QAAQ,CAACI,OAA9B,KAA0C,IAA1C,GAAiD,KAAK,CAAtD,GAA0DD,iBAAiB,CAACF,cAAlB,CAAiCC,GAAjC,CAA1D;AACD;AAL6B,KAAP;AAAA,GAAN,CAAnB;AAOAd,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACY,QAAQ,CAACI,OAAV,IAAqBL,QAAQ,CAACK,OAA9B,IAAyCV,GAA7C,EAAkD;AAChDM,MAAAA,QAAQ,CAACI,OAAT,GAAmB,IAAIZ,IAAJ,CAASO,QAAQ,CAACK,OAAlB,CAAnB;AACAN,MAAAA,MAAM,CAACE,QAAQ,CAACI,OAAT,CAAiBP,QAAlB,CAAN;AACD;AACF,GALQ,EAKN,CAACF,QAAD,EAAWD,GAAX,CALM,CAAT;AAMAN,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIW,QAAQ,CAACK,OAAT,IAAoBR,KAAxB,EAA+B;AAC7B,UAAIS,kBAAJ;;AAEA,OAACA,kBAAkB,GAAGL,QAAQ,CAACI,OAA/B,KAA2C,IAA3C,GAAkD,KAAK,CAAvD,GAA2DC,kBAAkB,CAACC,WAAnB,CAA+B,CAA/B,EAAkCV,KAAlC,CAA3D;AACD;AACF,GANQ,EAMN,CAACA,KAAD,CANM,CAAT;AAOA,SAAOC,QAAQ,GAAG,aAAaR,aAAa,CAAC,WAAD,EAAc;AACxDkB,IAAAA,MAAM,EAAEV;AADgD,GAAd,CAA7B,GAEV,aAAaP,YAAY,CAACC,QAAQ,CAACiB,IAAT,CAAcb,QAAd,CAAD,EAA0B;AACtDD,IAAAA,GAAG,EAAEK;AADiD,GAA1B,CAF9B;AAKD,CAhC4C,CAA7C;AAkCA,SAASN,aAAT","sourcesContent":["import { forwardRef, useState, useRef, useImperativeHandle, useEffect, createElement, cloneElement, Children } from 'react';\nimport { Flow } from 'three-stdlib';\n\nconst CurveModifier = /*#__PURE__*/forwardRef(({\n  children,\n  curve\n}, ref) => {\n  const [object3D, setObj] = useState();\n  const original = useRef();\n  const modifier = useRef();\n  useImperativeHandle(ref, () => ({\n    moveAlongCurve: val => {\n      var _modifier$current;\n\n      (_modifier$current = modifier.current) == null ? void 0 : _modifier$current.moveAlongCurve(val);\n    }\n  }));\n  useEffect(() => {\n    if (!modifier.current && original.current && ref) {\n      modifier.current = new Flow(original.current);\n      setObj(modifier.current.object3D);\n    }\n  }, [children, ref]);\n  useEffect(() => {\n    if (original.current && curve) {\n      var _modifier$current2;\n\n      (_modifier$current2 = modifier.current) == null ? void 0 : _modifier$current2.updateCurve(0, curve);\n    }\n  }, [curve]);\n  return object3D ? /*#__PURE__*/createElement(\"primitive\", {\n    object: object3D\n  }) : /*#__PURE__*/cloneElement(Children.only(children), {\n    ref: original\n  });\n});\n\nexport { CurveModifier };\n"]},"metadata":{},"sourceType":"module"}