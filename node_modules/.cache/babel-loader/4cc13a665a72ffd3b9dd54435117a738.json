{"ast":null,"code":"import { useEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction AdaptiveDpr(_ref) {\n  var pixelated = _ref.pixelated;\n  var gl = useThree(function (state) {\n    return state.gl;\n  });\n  var active = useThree(function (state) {\n    return state.internal.active;\n  });\n  var current = useThree(function (state) {\n    return state.performance.current;\n  });\n  var initialDpr = useThree(function (state) {\n    return state.viewport.initialDpr;\n  });\n  var setDpr = useThree(function (state) {\n    return state.setDpr;\n  }); // Restore initial pixelratio on unmount\n\n  useEffect(function () {\n    var domElement = gl.domElement;\n    return function () {\n      if (active) setDpr(initialDpr);\n      if (pixelated && domElement) domElement.style.imageRendering = 'auto';\n    };\n  }, []); // Set adaptive pixelratio\n\n  useEffect(function () {\n    setDpr(current * initialDpr);\n    if (pixelated && gl.domElement) gl.domElement.style.imageRendering = current === 1 ? 'auto' : 'pixelated';\n  }, [current]);\n  return null;\n}\n\nexport { AdaptiveDpr };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/@react-three/drei/core/AdaptiveDpr.js"],"names":["useEffect","useThree","AdaptiveDpr","pixelated","gl","state","active","internal","current","performance","initialDpr","viewport","setDpr","domElement","style","imageRendering"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,QAAyB,oBAAzB;;AAEA,SAASC,WAAT,OAEG;AAAA,MADDC,SACC,QADDA,SACC;AACD,MAAMC,EAAE,GAAGH,QAAQ,CAAC,UAAAI,KAAK;AAAA,WAAIA,KAAK,CAACD,EAAV;AAAA,GAAN,CAAnB;AACA,MAAME,MAAM,GAAGL,QAAQ,CAAC,UAAAI,KAAK;AAAA,WAAIA,KAAK,CAACE,QAAN,CAAeD,MAAnB;AAAA,GAAN,CAAvB;AACA,MAAME,OAAO,GAAGP,QAAQ,CAAC,UAAAI,KAAK;AAAA,WAAIA,KAAK,CAACI,WAAN,CAAkBD,OAAtB;AAAA,GAAN,CAAxB;AACA,MAAME,UAAU,GAAGT,QAAQ,CAAC,UAAAI,KAAK;AAAA,WAAIA,KAAK,CAACM,QAAN,CAAeD,UAAnB;AAAA,GAAN,CAA3B;AACA,MAAME,MAAM,GAAGX,QAAQ,CAAC,UAAAI,KAAK;AAAA,WAAIA,KAAK,CAACO,MAAV;AAAA,GAAN,CAAvB,CALC,CAK+C;;AAEhDZ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMa,UAAU,GAAGT,EAAE,CAACS,UAAtB;AACA,WAAO,YAAM;AACX,UAAIP,MAAJ,EAAYM,MAAM,CAACF,UAAD,CAAN;AACZ,UAAIP,SAAS,IAAIU,UAAjB,EAA6BA,UAAU,CAACC,KAAX,CAAiBC,cAAjB,GAAkC,MAAlC;AAC9B,KAHD;AAID,GANQ,EAMN,EANM,CAAT,CAPC,CAaO;;AAERf,EAAAA,SAAS,CAAC,YAAM;AACdY,IAAAA,MAAM,CAACJ,OAAO,GAAGE,UAAX,CAAN;AACA,QAAIP,SAAS,IAAIC,EAAE,CAACS,UAApB,EAAgCT,EAAE,CAACS,UAAH,CAAcC,KAAd,CAAoBC,cAApB,GAAqCP,OAAO,KAAK,CAAZ,GAAgB,MAAhB,GAAyB,WAA9D;AACjC,GAHQ,EAGN,CAACA,OAAD,CAHM,CAAT;AAIA,SAAO,IAAP;AACD;;AAED,SAASN,WAAT","sourcesContent":["import { useEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction AdaptiveDpr({\n  pixelated\n}) {\n  const gl = useThree(state => state.gl);\n  const active = useThree(state => state.internal.active);\n  const current = useThree(state => state.performance.current);\n  const initialDpr = useThree(state => state.viewport.initialDpr);\n  const setDpr = useThree(state => state.setDpr); // Restore initial pixelratio on unmount\n\n  useEffect(() => {\n    const domElement = gl.domElement;\n    return () => {\n      if (active) setDpr(initialDpr);\n      if (pixelated && domElement) domElement.style.imageRendering = 'auto';\n    };\n  }, []); // Set adaptive pixelratio\n\n  useEffect(() => {\n    setDpr(current * initialDpr);\n    if (pixelated && gl.domElement) gl.domElement.style.imageRendering = current === 1 ? 'auto' : 'pixelated';\n  }, [current]);\n  return null;\n}\n\nexport { AdaptiveDpr };\n"]},"metadata":{},"sourceType":"module"}