{"ast":null,"code":"import { UniformsUtils, ShaderMaterial } from 'three';\nimport { FullScreenQuad, Pass } from './Pass.js';\nimport { CopyShader } from '../shaders/CopyShader.js';\n\nvar TexturePass = function TexturePass(map, opacity) {\n  if (CopyShader === undefined) console.error('THREE.TexturePass relies on CopyShader');\n  var shader = CopyShader;\n  this.map = map;\n  this.opacity = opacity !== undefined ? opacity : 1.0;\n  this.uniforms = UniformsUtils.clone(shader.uniforms);\n  this.material = new ShaderMaterial({\n    uniforms: this.uniforms,\n    vertexShader: shader.vertexShader,\n    fragmentShader: shader.fragmentShader,\n    depthTest: false,\n    depthWrite: false\n  });\n  this.needsSwap = false;\n  this.fsQuad = new FullScreenQuad(null);\n};\n\nTexturePass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: TexturePass,\n  render: function render(renderer, writeBuffer, readBuffer\n  /*, deltaTime, maskActive */\n  ) {\n    var oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    this.fsQuad.material = this.material;\n    this.uniforms['opacity'].value = this.opacity;\n    this.uniforms['tDiffuse'].value = this.map;\n    this.material.transparent = this.opacity < 1.0;\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n    if (this.clear) renderer.clear();\n    this.fsQuad.render(renderer);\n    renderer.autoClear = oldAutoClear;\n  }\n});\nexport { TexturePass };","map":{"version":3,"sources":["/Projects/arrayftw/node_modules/three-stdlib/postprocessing/TexturePass.js"],"names":["UniformsUtils","ShaderMaterial","FullScreenQuad","Pass","CopyShader","TexturePass","map","opacity","undefined","console","error","shader","uniforms","clone","material","vertexShader","fragmentShader","depthTest","depthWrite","needsSwap","fsQuad","prototype","Object","assign","create","constructor","render","renderer","writeBuffer","readBuffer","oldAutoClear","autoClear","value","transparent","setRenderTarget","renderToScreen","clear"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,cAAxB,QAA8C,OAA9C;AACA,SAASC,cAAT,EAAyBC,IAAzB,QAAqC,WAArC;AACA,SAASC,UAAT,QAA2B,0BAA3B;;AAEA,IAAIC,WAAW,GAAG,SAAdA,WAAc,CAAUC,GAAV,EAAeC,OAAf,EAAwB;AACxC,MAAIH,UAAU,KAAKI,SAAnB,EAA8BC,OAAO,CAACC,KAAR,CAAc,wCAAd;AAC9B,MAAIC,MAAM,GAAGP,UAAb;AACA,OAAKE,GAAL,GAAWA,GAAX;AACA,OAAKC,OAAL,GAAeA,OAAO,KAAKC,SAAZ,GAAwBD,OAAxB,GAAkC,GAAjD;AACA,OAAKK,QAAL,GAAgBZ,aAAa,CAACa,KAAd,CAAoBF,MAAM,CAACC,QAA3B,CAAhB;AACA,OAAKE,QAAL,GAAgB,IAAIb,cAAJ,CAAmB;AACjCW,IAAAA,QAAQ,EAAE,KAAKA,QADkB;AAEjCG,IAAAA,YAAY,EAAEJ,MAAM,CAACI,YAFY;AAGjCC,IAAAA,cAAc,EAAEL,MAAM,CAACK,cAHU;AAIjCC,IAAAA,SAAS,EAAE,KAJsB;AAKjCC,IAAAA,UAAU,EAAE;AALqB,GAAnB,CAAhB;AAOA,OAAKC,SAAL,GAAiB,KAAjB;AACA,OAAKC,MAAL,GAAc,IAAIlB,cAAJ,CAAmB,IAAnB,CAAd;AACD,CAfD;;AAiBAG,WAAW,CAACgB,SAAZ,GAAwBC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACE,MAAP,CAAcrB,IAAI,CAACkB,SAAnB,CAAd,EAA6C;AACnEI,EAAAA,WAAW,EAAEpB,WADsD;AAEnEqB,EAAAA,MAAM,EAAE,gBAAUC,QAAV,EAAoBC,WAApB,EAAiCC;AACzC;AADQ,IAEN;AACA,QAAIC,YAAY,GAAGH,QAAQ,CAACI,SAA5B;AACAJ,IAAAA,QAAQ,CAACI,SAAT,GAAqB,KAArB;AACA,SAAKX,MAAL,CAAYN,QAAZ,GAAuB,KAAKA,QAA5B;AACA,SAAKF,QAAL,CAAc,SAAd,EAAyBoB,KAAzB,GAAiC,KAAKzB,OAAtC;AACA,SAAKK,QAAL,CAAc,UAAd,EAA0BoB,KAA1B,GAAkC,KAAK1B,GAAvC;AACA,SAAKQ,QAAL,CAAcmB,WAAd,GAA4B,KAAK1B,OAAL,GAAe,GAA3C;AACAoB,IAAAA,QAAQ,CAACO,eAAT,CAAyB,KAAKC,cAAL,GAAsB,IAAtB,GAA6BN,UAAtD;AACA,QAAI,KAAKO,KAAT,EAAgBT,QAAQ,CAACS,KAAT;AAChB,SAAKhB,MAAL,CAAYM,MAAZ,CAAmBC,QAAnB;AACAA,IAAAA,QAAQ,CAACI,SAAT,GAAqBD,YAArB;AACD;AAfkE,CAA7C,CAAxB;AAkBA,SAASzB,WAAT","sourcesContent":["import { UniformsUtils, ShaderMaterial } from 'three';\nimport { FullScreenQuad, Pass } from './Pass.js';\nimport { CopyShader } from '../shaders/CopyShader.js';\n\nvar TexturePass = function (map, opacity) {\n  if (CopyShader === undefined) console.error('THREE.TexturePass relies on CopyShader');\n  var shader = CopyShader;\n  this.map = map;\n  this.opacity = opacity !== undefined ? opacity : 1.0;\n  this.uniforms = UniformsUtils.clone(shader.uniforms);\n  this.material = new ShaderMaterial({\n    uniforms: this.uniforms,\n    vertexShader: shader.vertexShader,\n    fragmentShader: shader.fragmentShader,\n    depthTest: false,\n    depthWrite: false\n  });\n  this.needsSwap = false;\n  this.fsQuad = new FullScreenQuad(null);\n};\n\nTexturePass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: TexturePass,\n  render: function (renderer, writeBuffer, readBuffer\n  /*, deltaTime, maskActive */\n  ) {\n    var oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    this.fsQuad.material = this.material;\n    this.uniforms['opacity'].value = this.opacity;\n    this.uniforms['tDiffuse'].value = this.map;\n    this.material.transparent = this.opacity < 1.0;\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n    if (this.clear) renderer.clear();\n    this.fsQuad.render(renderer);\n    renderer.autoClear = oldAutoClear;\n  }\n});\n\nexport { TexturePass };\n"]},"metadata":{},"sourceType":"module"}