/*! 
 * Custom build of OpenType.js (https://opentype.js.org/) for use in Troika text rendering. 
 * Original MIT license applies: https://github.com/nodebox/opentype.js/blob/master/LICENSE
 */
export default function(){return"undefined"==typeof window&&(self.window=self),function(e){"use strict";
/*! https://mths.be/codepointat v0.2.0 by @mathias */var r,t;String.prototype.codePointAt||(r=function(){try{var e={},r=Object.defineProperty,t=r(e,e,e)&&r}catch(e){}return t}(),t=function(e){if(null==this)throw TypeError();var r=String(this),t=r.length,n=e?Number(e):0;if(n!=n&&(n=0),!(n<0||n>=t)){var i,a=r.charCodeAt(n);return a>=55296&&a<=56319&&t>n+1&&(i=r.charCodeAt(n+1))>=56320&&i<=57343?1024*(a-55296)+i-56320+65536:a}},r?r(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t);function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(e,r){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=r,this.destLen=0,this.ltree=new n,this.dtree=new n}var a=new n,s=new n,o=new Uint8Array(30),u=new Uint16Array(30),l=new Uint8Array(30),f=new Uint16Array(30),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new n,v=new Uint8Array(320);function d(e,r,t,n){var i,a;for(i=0;i<t;++i)e[i]=0;for(i=0;i<30-t;++i)e[i+t]=i/t|0;for(a=n,i=0;i<30;++i)r[i]=a,a+=1<<e[i]}var m=new Uint16Array(16);function g(e,r,t,n){var i,a;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<n;++i)e.table[r[t+i]]++;for(e.table[0]=0,a=0,i=0;i<16;++i)m[i]=a,a+=e.table[i];for(i=0;i<n;++i)r[t+i]&&(e.trans[m[r[t+i]]++]=i)}function p(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var r=1&e.tag;return e.tag>>>=1,r}function b(e,r,t){if(!r)return t;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-r;return e.tag>>>=r,e.bitcount-=r,n+t}function y(e,r){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var t=0,n=0,i=0,a=e.tag;do{n=2*n+(1&a),a>>>=1,++i,t+=r.table[i],n-=r.table[i]}while(n>=0);return e.tag=a,e.bitcount-=i,r.trans[t+n]}function w(e,r,t){var n,i,a,s,o,u;for(n=b(e,5,257),i=b(e,5,1),a=b(e,4,4),s=0;s<19;++s)v[s]=0;for(s=0;s<a;++s){var l=b(e,3,0);v[c[s]]=l}for(g(h,v,0,19),o=0;o<n+i;){var f=y(e,h);switch(f){case 16:var d=v[o-1];for(u=b(e,2,3);u;--u)v[o++]=d;break;case 17:for(u=b(e,3,3);u;--u)v[o++]=0;break;case 18:for(u=b(e,7,11);u;--u)v[o++]=0;break;default:v[o++]=f}}g(r,v,0,n),g(t,v,n,i)}function k(e,r,t){for(;;){var n,i,a,s,c=y(e,r);if(256===c)return 0;if(c<256)e.dest[e.destLen++]=c;else for(n=b(e,o[c-=257],u[c]),i=y(e,t),s=a=e.destLen-b(e,l[i],f[i]);s<a+n;++s)e.dest[e.destLen++]=e.dest[s]}}function x(e){for(var r,t;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((r=256*(r=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,t=r;t;--t)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}!function(e,r){var t;for(t=0;t<7;++t)e.table[t]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,t=0;t<24;++t)e.trans[t]=256+t;for(t=0;t<144;++t)e.trans[24+t]=t;for(t=0;t<8;++t)e.trans[168+t]=280+t;for(t=0;t<112;++t)e.trans[176+t]=144+t;for(t=0;t<5;++t)r.table[t]=0;for(r.table[5]=32,t=0;t<32;++t)r.trans[t]=t}(a,s),d(o,u,4,3),d(l,f,2,1),o[28]=0,u[28]=258;var S=function(e,r){var t,n,o=new i(e,r);do{switch(t=p(o),b(o,2,0)){case 0:n=x(o);break;case 1:n=k(o,a,s);break;case 2:w(o,o.ltree,o.dtree),n=k(o,o.ltree,o.dtree);break;default:n=-3}if(0!==n)throw new Error("Data error")}while(!t);return o.destLen<o.dest.length?"function"==typeof o.dest.slice?o.dest.slice(0,o.destLen):o.dest.subarray(0,o.destLen):o.dest};function F(){}function A(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function E(e){throw new Error(e)}function T(e,r){e||E(r)}A.prototype.moveTo=function(e,r){this.commands.push({type:"M",x:e,y:r})},A.prototype.lineTo=function(e,r){this.commands.push({type:"L",x:e,y:r})},A.prototype.curveTo=A.prototype.bezierCurveTo=function(e,r,t,n,i,a){this.commands.push({type:"C",x1:e,y1:r,x2:t,y2:n,x:i,y:a})},A.prototype.quadTo=A.prototype.quadraticCurveTo=function(e,r,t,n){this.commands.push({type:"Q",x1:e,y1:r,x:t,y:n})},A.prototype.close=A.prototype.closePath=function(){this.commands.push({type:"Z"})},A.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof F){var r=e;return this.moveTo(r.x1,r.y1),this.lineTo(r.x2,r.y1),this.lineTo(r.x2,r.y2),this.lineTo(r.x1,r.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},A.prototype.getBoundingBox=function(){},A.prototype.draw=function(){},A.prototype.toPathData=function(){},A.prototype.toSVG=function(){},A.prototype.toDOMElement=function(){};var O={fail:E,argument:T,assert:T},C={UTF8:function(e,r,t){for(var n=[],i=t,a=0;a<i;a++,r+=1)n[a]=e.getUint8(r);return String.fromCharCode.apply(null,n)},UTF16:function(e,r,t){for(var n=[],i=t/2,a=0;a<i;a++,r+=2)n[a]=e.getUint16(r);return String.fromCharCode.apply(null,n)}},I={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};C.MACSTRING=function(e,r,t,n){var i=I[n];if(void 0!==i){for(var a="",s=0;s<t;s++){var o=e.getUint8(r+s);a+=o<=127?String.fromCharCode(o):i[127&o]}return a}};var L={};function U(e,r,t){for(var n=0;n<r.length;n+=1){var i=r[n];this[i.name]=i.value}if(this.tableName=e,this.fields=r,t)for(var a=Object.keys(t),s=0;s<a.length;s+=1){var o=a[s],u=t[o];void 0!==this[o]&&(this[o]=u)}}function D(e,r,t){void 0===t&&(t=r.length);var n=new Array(r.length+1);n[0]={name:e+"Count",type:"USHORT",value:t};for(var i=0;i<r.length;i++)n[i+1]={name:e+i,type:"USHORT",value:r[i]};return n}function R(e,r,t){var n=r.length,i=new Array(n+1);i[0]={name:e+"Count",type:"USHORT",value:n};for(var a=0;a<n;a++)i[a+1]={name:e+a,type:"TABLE",value:t(r[a],a)};return i}function q(e,r,t){var n=r.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:n};for(var a=0;a<n;a++)i=i.concat(t(r[a],a));return i}function B(e){1===e.format?U.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(D("glyph",e.glyphs))):O.assert(!1,"Can't create coverage table format 2 yet.")}function N(e){U.call(this,"scriptListTable",q("scriptRecord",e,(function(e,r){var t=e.script,n=t.defaultLangSys;return O.assert(!!n,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+r,type:"TAG",value:e.tag},{name:"script"+r,type:"TABLE",value:new U("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new U("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(D("featureIndex",n.featureIndexes)))}].concat(q("langSys",t.langSysRecords,(function(e,r){var t=e.langSys;return[{name:"langSysTag"+r,type:"TAG",value:e.tag},{name:"langSys"+r,type:"TABLE",value:new U("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:t.reqFeatureIndex}].concat(D("featureIndex",t.featureIndexes)))}]}))))}]})))}function G(e){U.call(this,"featureListTable",q("featureRecord",e,(function(e,r){var t=e.feature;return[{name:"featureTag"+r,type:"TAG",value:e.tag},{name:"feature"+r,type:"TABLE",value:new U("featureTable",[{name:"featureParams",type:"USHORT",value:t.featureParams}].concat(D("lookupListIndex",t.lookupListIndexes)))}]})))}function M(e,r){U.call(this,"lookupListTable",R("lookup",e,(function(e){var t=r[e.lookupType];return O.assert(!!t,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new U("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(R("subtable",e.t,t)))})))}U.prototype.encode=function(){return L.TABLE(this)},U.prototype.sizeOf=function(){return L.TABLE(this)},B.prototype=Object.create(U.prototype),B.prototype.constructor=B,N.prototype=Object.create(U.prototype),N.prototype.constructor=N,G.prototype=Object.create(U.prototype),G.prototype.constructor=G,M.prototype=Object.create(U.prototype),M.prototype.constructor=M;var P={Table:U,Record:U,Coverage:B,ScriptList:N,FeatureList:G,LookupList:M,ushortList:D,tableList:R,recordList:q};function H(e,r){return e.getUint8(r)}function j(e,r){return e.getUint16(r,!1)}function z(e,r){return e.getUint32(r,!1)}function W(e,r){return e.getInt16(r,!1)+e.getUint16(r+2,!1)/65535}var Y={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function X(e,r){this.data=e,this.offset=r,this.relativeOffset=0}X.prototype.i=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},X.prototype.o=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},X.prototype.u=X.prototype.i,X.prototype.l=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},X.prototype.h=X.prototype.l,X.prototype.v=X.prototype.l,X.prototype.m=X.prototype.l,X.prototype.g=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},X.prototype.p=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},X.prototype.k=function(){var e=z(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},X.prototype.S=X.prototype.k,X.prototype.F=function(){var e=W(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},X.prototype.A=function(e){var r=this.data,t=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var i=0;i<e;i++)n+=String.fromCharCode(r.getUint8(t+i));return n},X.prototype.T=function(){return this.A(4)},X.prototype.O=function(){var e=z(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},X.prototype.C=function(e){var r=j(this.data,this.offset+this.relativeOffset),t=j(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),r+t/e/10},X.prototype.skip=function(e,r){void 0===r&&(r=1),this.relativeOffset+=Y[e]*r},X.prototype.I=function(e){void 0===e&&(e=this.k());for(var r=new Array(e),t=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)r[i]=t.getUint32(n),n+=4;return this.relativeOffset+=4*e,r},X.prototype.L=X.prototype.U=function(e){void 0===e&&(e=this.l());for(var r=new Array(e),t=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)r[i]=t.getUint16(n),n+=2;return this.relativeOffset+=2*e,r},X.prototype.D=function(e){for(var r=new Array(e),t=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)r[i]=t.getInt16(n),n+=2;return this.relativeOffset+=2*e,r},X.prototype.R=function(e){for(var r=new Array(e),t=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)r[i]=t.getUint8(n++);return this.relativeOffset+=e,r},X.prototype.q=function(e,r){r||(r=e,e=this.l());for(var t=new Array(e),n=0;n<e;n++)t[n]=r.call(this);return t},X.prototype.B=function(e,r){r||(r=e,e=this.k());for(var t=new Array(e),n=0;n<e;n++)t[n]=r.call(this);return t},X.prototype.N=function(e,r){r||(r=e,e=this.l());for(var t=new Array(e),n=Object.keys(r),i=0;i<e;i++){for(var a={},s=0;s<n.length;s++){var o=n[s],u=r[o];a[o]=u.call(this)}t[i]=a}return t},X.prototype.G=function(e,r){r||(r=e,e=this.k());for(var t=new Array(e),n=Object.keys(r),i=0;i<e;i++){for(var a={},s=0;s<n.length;s++){var o=n[s],u=r[o];a[o]=u.call(this)}t[i]=a}return t},X.prototype.M=function(e){if("function"==typeof e)return e.call(this);for(var r=Object.keys(e),t={},n=0;n<r.length;n++){var i=r[n],a=e[i];t[i]=a.call(this)}return t},X.prototype.P=function(e){if(void 0===e&&(e=this.l()),0!==e){var r={};return 1&e&&(r.xPlacement=this.g()),2&e&&(r.yPlacement=this.g()),4&e&&(r.xAdvance=this.g()),8&e&&(r.yAdvance=this.g()),16&e&&(r.xPlaDevice=void 0,this.g()),32&e&&(r.yPlaDevice=void 0,this.g()),64&e&&(r.xAdvDevice=void 0,this.g()),128&e&&(r.yAdvDevice=void 0,this.g()),r}},X.prototype.H=function(){for(var e=this.l(),r=this.l(),t=new Array(r),n=0;n<r;n++)t[n]=this.P(e);return t},X.prototype.j=function(e){var r=this.m();if(r>0)return new X(this.data,this.offset+r).M(e)},X.prototype.W=function(e){var r=this.S();if(r>0)return new X(this.data,this.offset+r).M(e)},X.prototype.Y=function(e){for(var r=this.L(),t=r.length,n=this.relativeOffset,i=new Array(t),a=0;a<t;a++){var s=r[a];if(0!==s)if(this.relativeOffset=s,e){for(var o=this.L(),u=new Array(o.length),l=0;l<o.length;l++)this.relativeOffset=s+o[l],u[l]=e.call(this);i[a]=u}else i[a]=this.U();else i[a]=void 0}return this.relativeOffset=n,i},X.prototype.X=function(){var e=this.offset+this.relativeOffset,r=this.l(),t=this.l();if(1===r)return{format:1,glyphs:this.U(t)};if(2===r){for(var n=new Array(t),i=0;i<t;i++)n[i]={start:this.l(),end:this.l(),index:this.l()};return{format:2,ranges:n}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},X.prototype.Z=function(){var e=this.offset+this.relativeOffset,r=this.l();if(1===r)return{format:1,startGlyph:this.l(),classes:this.U()};if(2===r)return{format:2,ranges:this.N({start:X.uShort,end:X.uShort,classId:X.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},X.list=function(e,r){return function(){return this.q(e,r)}},X.list32=function(e,r){return function(){return this.B(e,r)}},X.recordList=function(e,r){return function(){return this.N(e,r)}},X.recordList32=function(e,r){return function(){return this.G(e,r)}},X.pointer=function(e){return function(){return this.j(e)}},X.pointer32=function(e){return function(){return this.W(e)}},X.tag=X.prototype.T,X.byte=X.prototype.i,X.uShort=X.offset16=X.prototype.l,X.uShortList=X.prototype.U,X.uLong=X.offset32=X.prototype.k,X.uLongList=X.prototype.I,X.struct=X.prototype.M,X.coverage=X.prototype.X,X.classDef=X.prototype.Z;var Z={reserved:X.uShort,reqFeatureIndex:X.uShort,featureIndexes:X.uShortList};X.prototype._=function(){return this.j(X.recordList({tag:X.tag,script:X.pointer({defaultLangSys:X.pointer(Z),langSysRecords:X.recordList({tag:X.tag,langSys:X.pointer(Z)})})}))||[]},X.prototype.V=function(){return this.j(X.recordList({tag:X.tag,feature:X.pointer({featureParams:X.offset16,lookupListIndexes:X.uShortList})}))||[]},X.prototype.K=function(e){return this.j(X.list(X.pointer((function(){var r=this.l();O.argument(1<=r&&r<=9,"GPOS/GSUB lookup type "+r+" unknown.");var t=this.l(),n=16&t;return{lookupType:r,lookupFlag:t,t:this.q(X.pointer(e[r])),markFilteringSet:n?this.l():void 0}}))))||[]},X.prototype.J=function(){return this.W((function(){var e=this.l(),r=this.l();return O.argument(1===e&&r<1,"GPOS/GSUB feature variations table unknown."),this.G({conditionSetOffset:X.offset32,featureTableSubstitutionOffset:X.offset32})}))||[]};var _={getByte:H,getCard8:H,getUShort:j,getCard16:j,getShort:function(e,r){return e.getInt16(r,!1)},getULong:z,getFixed:W,getTag:function(e,r){for(var t="",n=r;n<r+4;n+=1)t+=String.fromCharCode(e.getInt8(n));return t},getOffset:function(e,r,t){for(var n=0,i=0;i<t;i+=1)n<<=8,n+=e.getUint8(r+i);return n},getBytes:function(e,r,t){for(var n=[],i=r;i<t;i+=1)n.push(e.getUint8(i));return n},bytesToString:function(e){for(var r="",t=0;t<e.length;t+=1)r+=String.fromCharCode(e[t]);return r},Parser:X};var V={parse:function(e,r){var t={};t.version=_.getUShort(e,r),O.argument(0===t.version,"cmap table version should be 0."),t.$=_.getUShort(e,r+2);for(var n=-1,i=t.$-1;i>=0;i-=1){var a=_.getUShort(e,r+4+8*i),s=_.getUShort(e,r+4+8*i+2);if(3===a&&(0===s||1===s||10===s)||0===a&&(0===s||1===s||2===s||3===s||4===s)){n=_.getULong(e,r+4+8*i+4);break}}if(-1===n)throw new Error("No valid cmap sub-tables found.");var o=new _.Parser(e,r+n);if(t.format=o.l(),12===t.format)!function(e,r){var t;r.l(),e.length=r.k(),e.language=r.k(),e.groupCount=t=r.k(),e.glyphIndexMap={};for(var n=0;n<t;n+=1)for(var i=r.k(),a=r.k(),s=r.k(),o=i;o<=a;o+=1)e.glyphIndexMap[o]=s,s++}(t,o);else{if(4!==t.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+t.format+").");!function(e,r,t,n,i){var a;e.length=r.l(),e.language=r.l(),e.segCount=a=r.l()>>1,r.skip("uShort",3),e.glyphIndexMap={};for(var s=new _.Parser(t,n+i+14),o=new _.Parser(t,n+i+16+2*a),u=new _.Parser(t,n+i+16+4*a),l=new _.Parser(t,n+i+16+6*a),f=n+i+16+8*a,c=0;c<a-1;c+=1)for(var h=void 0,v=s.l(),d=o.l(),m=u.g(),g=l.l(),p=d;p<=v;p+=1)0!==g?(f=l.offset+l.relativeOffset-2,f+=g,f+=2*(p-d),0!==(h=_.getUShort(t,f))&&(h=h+m&65535)):h=p+m&65535,e.glyphIndexMap[p]=h}(t,o,e,r,n)}return t},make:function(){}},Q=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],J=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],$=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ee(e){this.font=e}function re(e){this.cmap=e}function te(e,r){this.encoding=e,this.charset=r}function ne(e){switch(e.version){case 1:this.names=$.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)e.glyphNameIndex[r]<$.length?this.names[r]=$[e.glyphNameIndex[r]]:this.names[r]=e.names[e.glyphNameIndex[r]-$.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)this.names[t]=$[t+e.glyphNameIndex[t]];break;case 3:default:this.names=[]}}function ie(e,r){r.lowMemory?function(e){e._IndexToUnicodeMap={};for(var r=e.ee.cmap.glyphIndexMap,t=Object.keys(r),n=0;n<t.length;n+=1){var i=t[n],a=r[i];void 0===e._IndexToUnicodeMap[a]?e._IndexToUnicodeMap[a]={unicodes:[parseInt(i)]}:e._IndexToUnicodeMap[a].unicodes.push(parseInt(i))}}(e):function(e){for(var r,t=e.ee.cmap.glyphIndexMap,n=Object.keys(t),i=0;i<n.length;i+=1){var a=n[i],s=t[a];(r=e.glyphs.get(s)).addUnicode(parseInt(a))}for(var o=0;o<e.glyphs.length;o+=1)r=e.glyphs.get(o),e.cffEncoding?e.isCIDFont?r.name="gid"+o:r.name=e.cffEncoding.charset[o]:e.glyphNames.names&&(r.name=e.glyphNames.glyphIndexToName(o))}(e)}function ae(e){this.bindConstructorValues(e)}function se(e,r,t){Object.defineProperty(e,r,{get:function(){return e.path,e[t]},set:function(r){e[t]=r},enumerable:!0,configurable:!0})}function oe(e,r){if(this.font=e,this.glyphs={},Array.isArray(r))for(var t=0;t<r.length;t++){var n=r[t];n.path.unitsPerEm=e.unitsPerEm,this.glyphs[t]=n}this.length=r&&r.length||0}ee.prototype.charToGlyphIndex=function(e){var r=e.codePointAt(0),t=this.font.glyphs;if(t)for(var n=0;n<t.length;n+=1)for(var i=t.get(n),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===r)return n;return null},re.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},te.prototype.charToGlyphIndex=function(e){var r=e.codePointAt(0),t=this.encoding[r];return this.charset.indexOf(t)},ne.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},ne.prototype.glyphIndexToName=function(e){return this.names[e]},ae.prototype.bindConstructorValues=function(e){var r,t;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(r=e.path,t=r||new A,{configurable:!0,get:function(){return"function"==typeof t&&(t=t()),t},set:function(e){t=e}}))},ae.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ae.prototype.getBoundingBox=function(){},ae.prototype.getPath=function(e,r,t,n,i){var a,s;e=void 0!==e?e:0,r=void 0!==r?r:0,t=void 0!==t?t:72,n||(n={});var o=n.xScale,u=n.yScale;if(n.hinting&&i&&i.hinting&&(s=this.path&&i.hinting.exec(this,t)),s)a=i.hinting.getCommands(s),e=Math.round(e),r=Math.round(r),o=u=1;else{a=this.path.commands;var l=1/(this.path.unitsPerEm||1e3)*t;void 0===o&&(o=l),void 0===u&&(u=l)}for(var f=new A,c=0;c<a.length;c+=1){var h=a[c];"M"===h.type?f.moveTo(e+h.x*o,r+-h.y*u):"L"===h.type?f.lineTo(e+h.x*o,r+-h.y*u):"Q"===h.type?f.quadraticCurveTo(e+h.x1*o,r+-h.y1*u,e+h.x*o,r+-h.y*u):"C"===h.type?f.curveTo(e+h.x1*o,r+-h.y1*u,e+h.x2*o,r+-h.y2*u,e+h.x*o,r+-h.y*u):"Z"===h.type&&f.closePath()}return f},ae.prototype.getContours=function(){},ae.prototype.getMetrics=function(){for(var e=this.path.commands,r=[],t=[],n=0;n<e.length;n+=1){var i=e[n];"Z"!==i.type&&(r.push(i.x),t.push(i.y)),"Q"!==i.type&&"C"!==i.type||(r.push(i.x1),t.push(i.y1)),"C"===i.type&&(r.push(i.x2),t.push(i.y2))}var a={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,t),leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a},ae.prototype.draw=function(){},ae.prototype.drawPoints=function(){},ae.prototype.drawMetrics=function(){},oe.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var r=this.glyphs[e],t=this.font._IndexToUnicodeMap[e];if(t)for(var n=0;n<t.unicodes.length;n++)r.addUnicode(t.unicodes[n]);this.font.cffEncoding?this.font.isCIDFont?r.name="gid"+e:r.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(r.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},oe.prototype.push=function(e,r){this.glyphs[e]=r,this.length++};var ue={GlyphSet:oe,glyphLoader:function(e,r){return new ae({index:r,font:e})},ttfGlyphLoader:function(e,r,t,n,i,a){return function(){var s=new ae({index:r,font:e});return s.path=function(){t(s,n,i);var r=a(e.glyphs,s);return r.unitsPerEm=e.unitsPerEm,r},se(s,"xMin","_xMin"),se(s,"xMax","_xMax"),se(s,"yMin","_yMin"),se(s,"yMax","_yMax"),s}},cffGlyphLoader:function(e,r,t,n){return function(){var i=new ae({index:r,font:e});return i.path=function(){var r=t(e,i,n);return r.unitsPerEm=e.unitsPerEm,r},i}}};function le(e){return e.length<1240?107:e.length<33900?1131:32768}function fe(e,r,t){var n,i,a=[],s=[],o=_.getCard16(e,r);if(0!==o){var u=_.getByte(e,r+2);n=r+(o+1)*u+2;for(var l=r+3,f=0;f<o+1;f+=1)a.push(_.getOffset(e,l,u)),l+=u;i=n+a[o]}else i=r+2;for(var c=0;c<a.length-1;c+=1){var h=_.getBytes(e,n+a[c],n+a[c+1]);t&&(h=t(h)),s.push(h)}return{objects:s,startOffset:r,endOffset:i}}function ce(e,r){if(28===r)return e.i()<<8|e.i();if(29===r)return e.i()<<24|e.i()<<16|e.i()<<8|e.i();if(30===r)return function(e){for(var r="",t=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var n=e.i(),i=n>>4,a=15&n;if(15===i)break;if(r+=t[i],15===a)break;r+=t[a]}return parseFloat(r)}(e);if(r>=32&&r<=246)return r-139;if(r>=247&&r<=250)return 256*(r-247)+e.i()+108;if(r>=251&&r<=254)return 256*-(r-251)-e.i()-108;throw new Error("Invalid b0 "+r)}function he(e,r,t){r=void 0!==r?r:0;var n=new _.Parser(e,r),i=[],a=[];for(t=void 0!==t?t:e.length;n.relativeOffset<t;){var s=n.i();s<=21?(12===s&&(s=1200+n.i()),i.push([s,a]),a=[]):a.push(ce(n,s))}return function(e){for(var r={},t=0;t<e.length;t+=1){var n=e[t][0],i=e[t][1],a=void 0;if(a=1===i.length?i[0]:i,r.hasOwnProperty(n)&&!isNaN(r[n]))throw new Error("Object "+r+" already has key "+n);r[n]=a}return r}(i)}function ve(e,r){return r=r<=390?Q[r]:e[r-391]}function de(e,r,t){for(var n,i={},a=0;a<r.length;a+=1){var s=r[a];if(Array.isArray(s.type)){var o=[];o.length=s.type.length;for(var u=0;u<s.type.length;u++)void 0===(n=void 0!==e[s.op]?e[s.op][u]:void 0)&&(n=void 0!==s.value&&void 0!==s.value[u]?s.value[u]:null),"SID"===s.type[u]&&(n=ve(t,n)),o[u]=n;i[s.name]=o}else void 0===(n=e[s.op])&&(n=void 0!==s.value?s.value:null),"SID"===s.type&&(n=ve(t,n)),i[s.name]=n}return i}var me=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ge=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function pe(e,r){return de(he(e,0,e.byteLength),me,r)}function be(e,r,t,n){return de(he(e,r,t),ge,n)}function ye(e,r,t,n){for(var i=[],a=0;a<t.length;a+=1){var s=pe(new DataView(new Uint8Array(t[a]).buffer),n);s._subrs=[],s._subrsBias=0;var o=s.private[0],u=s.private[1];if(0!==o&&0!==u){var l=be(e,u+r,o,n);if(s._defaultWidthX=l.defaultWidthX,s._nominalWidthX=l.nominalWidthX,0!==l.subrs){var f=fe(e,u+l.subrs+r);s._subrs=f.objects,s._subrsBias=le(s._subrs)}s._privateDict=l}i.push(s)}return i}function we(e,r,t){var n,i,a,s,o,u,l,f,c=new A,h=[],v=0,d=!1,m=!1,g=0,p=0;if(e.isCIDFont){var b=e.ee.cff.topDict._fdSelect[r.index],y=e.ee.cff.topDict._fdArray[b];o=y._subrs,u=y._subrsBias,l=y._defaultWidthX,f=y._nominalWidthX}else o=e.ee.cff.topDict._subrs,u=e.ee.cff.topDict._subrsBias,l=e.ee.cff.topDict._defaultWidthX,f=e.ee.cff.topDict._nominalWidthX;var w=l;function k(e,r){m&&c.closePath(),c.moveTo(e,r),m=!0}function x(){h.length%2!=0&&!d&&(w=h.shift()+f),v+=h.length>>1,h.length=0,d=!0}return function t(l){for(var b,y,S,F,A,E,T,O,C,I,L,U,D=0;D<l.length;){var R=l[D];switch(D+=1,R){case 1:case 3:x();break;case 4:h.length>1&&!d&&(w=h.shift()+f,d=!0),p+=h.pop(),k(g,p);break;case 5:for(;h.length>0;)g+=h.shift(),p+=h.shift(),c.lineTo(g,p);break;case 6:for(;h.length>0&&(g+=h.shift(),c.lineTo(g,p),0!==h.length);)p+=h.shift(),c.lineTo(g,p);break;case 7:for(;h.length>0&&(p+=h.shift(),c.lineTo(g,p),0!==h.length);)g+=h.shift(),c.lineTo(g,p);break;case 8:for(;h.length>0;)n=g+h.shift(),i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),g=a+h.shift(),p=s+h.shift(),c.curveTo(n,i,a,s,g,p);break;case 10:A=h.pop()+u,(E=o[A])&&t(E);break;case 11:return;case 12:switch(R=l[D],D+=1,R){case 35:n=g+h.shift(),i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),T=a+h.shift(),O=s+h.shift(),C=T+h.shift(),I=O+h.shift(),L=C+h.shift(),U=I+h.shift(),g=L+h.shift(),p=U+h.shift(),h.shift(),c.curveTo(n,i,a,s,T,O),c.curveTo(C,I,L,U,g,p);break;case 34:n=g+h.shift(),i=p,a=n+h.shift(),s=i+h.shift(),T=a+h.shift(),O=s,C=T+h.shift(),I=s,L=C+h.shift(),U=p,g=L+h.shift(),c.curveTo(n,i,a,s,T,O),c.curveTo(C,I,L,U,g,p);break;case 36:n=g+h.shift(),i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),T=a+h.shift(),O=s,C=T+h.shift(),I=s,L=C+h.shift(),U=I+h.shift(),g=L+h.shift(),c.curveTo(n,i,a,s,T,O),c.curveTo(C,I,L,U,g,p);break;case 37:n=g+h.shift(),i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),T=a+h.shift(),O=s+h.shift(),C=T+h.shift(),I=O+h.shift(),L=C+h.shift(),U=I+h.shift(),Math.abs(L-g)>Math.abs(U-p)?g=L+h.shift():p=U+h.shift(),c.curveTo(n,i,a,s,T,O),c.curveTo(C,I,L,U,g,p);break;default:console.log("Glyph "+r.index+": unknown operator 1200"+R),h.length=0}break;case 14:h.length>0&&!d&&(w=h.shift()+f,d=!0),m&&(c.closePath(),m=!1);break;case 18:x();break;case 19:case 20:x(),D+=v+7>>3;break;case 21:h.length>2&&!d&&(w=h.shift()+f,d=!0),p+=h.pop(),k(g+=h.pop(),p);break;case 22:h.length>1&&!d&&(w=h.shift()+f,d=!0),k(g+=h.pop(),p);break;case 23:x();break;case 24:for(;h.length>2;)n=g+h.shift(),i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),g=a+h.shift(),p=s+h.shift(),c.curveTo(n,i,a,s,g,p);g+=h.shift(),p+=h.shift(),c.lineTo(g,p);break;case 25:for(;h.length>6;)g+=h.shift(),p+=h.shift(),c.lineTo(g,p);n=g+h.shift(),i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),g=a+h.shift(),p=s+h.shift(),c.curveTo(n,i,a,s,g,p);break;case 26:for(h.length%2&&(g+=h.shift());h.length>0;)n=g,i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),g=a,p=s+h.shift(),c.curveTo(n,i,a,s,g,p);break;case 27:for(h.length%2&&(p+=h.shift());h.length>0;)n=g+h.shift(),i=p,a=n+h.shift(),s=i+h.shift(),g=a+h.shift(),p=s,c.curveTo(n,i,a,s,g,p);break;case 28:b=l[D],y=l[D+1],h.push((b<<24|y<<16)>>16),D+=2;break;case 29:A=h.pop()+e.gsubrsBias,(E=e.gsubrs[A])&&t(E);break;case 30:for(;h.length>0&&(n=g,i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),g=a+h.shift(),p=s+(1===h.length?h.shift():0),c.curveTo(n,i,a,s,g,p),0!==h.length);)n=g+h.shift(),i=p,a=n+h.shift(),s=i+h.shift(),p=s+h.shift(),g=a+(1===h.length?h.shift():0),c.curveTo(n,i,a,s,g,p);break;case 31:for(;h.length>0&&(n=g+h.shift(),i=p,a=n+h.shift(),s=i+h.shift(),p=s+h.shift(),g=a+(1===h.length?h.shift():0),c.curveTo(n,i,a,s,g,p),0!==h.length);)n=g,i=p+h.shift(),a=n+h.shift(),s=i+h.shift(),g=a+h.shift(),p=s+(1===h.length?h.shift():0),c.curveTo(n,i,a,s,g,p);break;default:R<32?console.log("Glyph "+r.index+": unknown operator "+R):R<247?h.push(R-139):R<251?(b=l[D],D+=1,h.push(256*(R-247)+b+108)):R<255?(b=l[D],D+=1,h.push(256*-(R-251)-b-108)):(b=l[D],y=l[D+1],S=l[D+2],F=l[D+3],D+=4,h.push((b<<24|y<<16|S<<8|F)/65536))}}}(t),r.advanceWidth=w,c}var ke={parse:function(e,r,t,n){t.ee.cff={};var i=function(e,r){var t={};return t.formatMajor=_.getCard8(e,r),t.formatMinor=_.getCard8(e,r+1),t.size=_.getCard8(e,r+2),t.offsetSize=_.getCard8(e,r+3),t.startOffset=r,t.endOffset=r+4,t}(e,r),a=fe(e,i.endOffset,_.bytesToString),s=fe(e,a.endOffset),o=fe(e,s.endOffset,_.bytesToString),u=fe(e,o.endOffset);t.gsubrs=u.objects,t.gsubrsBias=le(t.gsubrs);var l=ye(e,r,s.objects,o.objects);if(1!==l.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+l.length);var f=l[0];if(t.ee.cff.topDict=f,f._privateDict&&(t.defaultWidthX=f._privateDict.defaultWidthX,t.nominalWidthX=f._privateDict.nominalWidthX),void 0!==f.ros[0]&&void 0!==f.ros[1]&&(t.isCIDFont=!0),t.isCIDFont){var c=f.fdArray,h=f.fdSelect;if(0===c||0===h)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var v=fe(e,c+=r),d=ye(e,r,v.objects,o.objects);f._fdArray=d,h+=r,f._fdSelect=function(e,r,t,n){var i,a=[],s=new _.Parser(e,r),o=s.u();if(0===o)for(var u=0;u<t;u++){if((i=s.u())>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");a.push(i)}else{if(3!==o)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+o);var l,f=s.h(),c=s.h();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var h=0;h<f;h++){if(i=s.u(),l=s.h(),i>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");if(l>t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+l);for(;c<l;c++)a.push(i);c=l}if(l!==t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+l)}return a}(e,h,t.numGlyphs,d.length)}var m,g=r+f.private[1],p=be(e,g,f.private[0],o.objects);if(t.defaultWidthX=p.defaultWidthX,t.nominalWidthX=p.nominalWidthX,0!==p.subrs){var b=g+p.subrs,y=fe(e,b);t.subrs=y.objects,t.subrsBias=le(t.subrs)}else t.subrs=[],t.subrsBias=0;n.lowMemory?(m=function(e,r){var t,n,i=[],a=_.getCard16(e,r);if(0!==a){var s=_.getByte(e,r+2);t=r+(a+1)*s+2;for(var o=r+3,u=0;u<a+1;u+=1)i.push(_.getOffset(e,o,s)),o+=s;n=t+i[a]}else n=r+2;return{offsets:i,startOffset:r,endOffset:n}}(e,r+f.charStrings),t.nGlyphs=m.offsets.length):(m=fe(e,r+f.charStrings),t.nGlyphs=m.objects.length);var w=function(e,r,t,n){var i,a,s=new _.Parser(e,r);t-=1;var o=[".notdef"],u=s.u();if(0===u)for(var l=0;l<t;l+=1)i=s.v(),o.push(ve(n,i));else if(1===u)for(;o.length<=t;){i=s.v(),a=s.u();for(var f=0;f<=a;f+=1)o.push(ve(n,i)),i+=1}else{if(2!==u)throw new Error("Unknown charset format "+u);for(;o.length<=t;){i=s.v(),a=s.h();for(var c=0;c<=a;c+=1)o.push(ve(n,i)),i+=1}}return o}(e,r+f.charset,t.nGlyphs,o.objects);if(0===f.encoding?t.cffEncoding=new te(K,w):1===f.encoding?t.cffEncoding=new te(J,w):t.cffEncoding=function(e,r,t){var n,i={},a=new _.Parser(e,r),s=a.u();if(0===s)for(var o=a.u(),u=0;u<o;u+=1)i[n=a.u()]=u;else{if(1!==s)throw new Error("Unknown encoding format "+s);var l=a.u();n=1;for(var f=0;f<l;f+=1)for(var c=a.u(),h=a.u(),v=c;v<=c+h;v+=1)i[v]=n,n+=1}return new te(i,t)}(e,r+f.encoding,w),t.encoding=t.encoding||t.cffEncoding,t.glyphs=new ue.GlyphSet(t),n.lowMemory)t._push=function(n){var i=function(e,r,t,n,i){var a=_.getCard16(t,n),s=0;0!==a&&(s=n+(a+1)*_.getByte(t,n+2)+2);var o=_.getBytes(t,s+r[e],s+r[e+1]);return i&&(o=i(o)),o}(n,m.offsets,e,r+f.charStrings);t.glyphs.push(n,ue.cffGlyphLoader(t,n,we,i))};else for(var k=0;k<t.nGlyphs;k+=1){var x=m.objects[k];t.glyphs.push(k,ue.cffGlyphLoader(t,k,we,x))}},make:function(){}};var xe={parse:function(e,r){var t={},n=new _.Parser(e,r);return t.version=n.C(),t.fontRevision=Math.round(1e3*n.F())/1e3,t.checkSumAdjustment=n.k(),t.magicNumber=n.k(),O.argument(1594834165===t.magicNumber,"Font header has wrong magic number."),t.flags=n.l(),t.unitsPerEm=n.l(),t.created=n.O(),t.modified=n.O(),t.xMin=n.g(),t.yMin=n.g(),t.xMax=n.g(),t.yMax=n.g(),t.macStyle=n.l(),t.lowestRecPPEM=n.l(),t.fontDirectionHint=n.g(),t.indexToLocFormat=n.g(),t.glyphDataFormat=n.g(),t},make:function(){}};var Se={parse:function(e,r){var t={},n=new _.Parser(e,r);return t.version=n.C(),t.ascender=n.g(),t.descender=n.g(),t.lineGap=n.g(),t.advanceWidthMax=n.l(),t.minLeftSideBearing=n.g(),t.minRightSideBearing=n.g(),t.xMaxExtent=n.g(),t.caretSlopeRise=n.g(),t.caretSlopeRun=n.g(),t.caretOffset=n.g(),n.relativeOffset+=8,t.metricDataFormat=n.g(),t.numberOfHMetrics=n.l(),t},make:function(){}};var Fe={parse:function(e,r,t,n,i,a,s){s.lowMemory?function(e,r,t,n,i){var a,s;e._hmtxTableData={};for(var o=new _.Parser(r,t),u=0;u<i;u+=1)u<n&&(a=o.l(),s=o.g()),e._hmtxTableData[u]={advanceWidth:a,leftSideBearing:s}}(e,r,t,n,i):function(e,r,t,n,i){for(var a,s,o=new _.Parser(e,r),u=0;u<n;u+=1){u<t&&(a=o.l(),s=o.g());var l=i.get(u);l.advanceWidth=a,l.leftSideBearing=s}}(r,t,n,i,a)},make:function(){}};var Ae={make:function(){},parse:function(e,r){var t=new _.Parser(e,r),n=t.k();O.argument(1===n,"Unsupported ltag table version."),t.skip("uLong",1);for(var i=t.k(),a=[],s=0;s<i;s++){for(var o="",u=r+t.l(),l=t.l(),f=u;f<u+l;++f)o+=String.fromCharCode(e.getInt8(f));a.push(o)}return a}};var Ee={parse:function(e,r){var t={},n=new _.Parser(e,r);return t.version=n.C(),t.numGlyphs=n.l(),1===t.version&&(t.maxPoints=n.l(),t.maxContours=n.l(),t.maxCompositePoints=n.l(),t.maxCompositeContours=n.l(),t.maxZones=n.l(),t.maxTwilightPoints=n.l(),t.maxStorage=n.l(),t.maxFunctionDefs=n.l(),t.maxInstructionDefs=n.l(),t.maxStackElements=n.l(),t.maxSizeOfInstructions=n.l(),t.maxComponentElements=n.l(),t.maxComponentDepth=n.l()),t},make:function(){}},Te=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Oe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ce={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Ie(e,r,t){switch(e){case 0:if(65535===r)return"und";if(t)return t[r];break;case 1:return Oe[r];case 3:return Ce[r]}}var Le="utf-16",Ue={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},De={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Re(e,r,t){switch(e){case 0:return Le;case 1:return De[t]||Ue[r];case 3:if(1===r||10===r)return Le}}var qe={parse:function(e,r,t){for(var n={},i=new _.Parser(e,r),a=i.l(),s=i.l(),o=i.offset+i.l(),u=0;u<s;u++){var l=i.l(),f=i.l(),c=i.l(),h=i.l(),v=Te[h]||h,d=i.l(),m=i.l(),g=Ie(l,c,t),p=Re(l,f,c);if(void 0!==p&&void 0!==g){var b=void 0;if(b=p===Le?C.UTF16(e,o+m,d):C.MACSTRING(e,o+m,d,p)){var y=n[v];void 0===y&&(y=n[v]={}),y[g]=b}}}return 1===a&&i.l(),n},make:function(){}},Be=[{re:0,end:127},{re:128,end:255},{re:256,end:383},{re:384,end:591},{re:592,end:687},{re:688,end:767},{re:768,end:879},{re:880,end:1023},{re:11392,end:11519},{re:1024,end:1279},{re:1328,end:1423},{re:1424,end:1535},{re:42240,end:42559},{re:1536,end:1791},{re:1984,end:2047},{re:2304,end:2431},{re:2432,end:2559},{re:2560,end:2687},{re:2688,end:2815},{re:2816,end:2943},{re:2944,end:3071},{re:3072,end:3199},{re:3200,end:3327},{re:3328,end:3455},{re:3584,end:3711},{re:3712,end:3839},{re:4256,end:4351},{re:6912,end:7039},{re:4352,end:4607},{re:7680,end:7935},{re:7936,end:8191},{re:8192,end:8303},{re:8304,end:8351},{re:8352,end:8399},{re:8400,end:8447},{re:8448,end:8527},{re:8528,end:8591},{re:8592,end:8703},{re:8704,end:8959},{re:8960,end:9215},{re:9216,end:9279},{re:9280,end:9311},{re:9312,end:9471},{re:9472,end:9599},{re:9600,end:9631},{re:9632,end:9727},{re:9728,end:9983},{re:9984,end:10175},{re:12288,end:12351},{re:12352,end:12447},{re:12448,end:12543},{re:12544,end:12591},{re:12592,end:12687},{re:43072,end:43135},{re:12800,end:13055},{re:13056,end:13311},{re:44032,end:55215},{re:55296,end:57343},{re:67840,end:67871},{re:19968,end:40959},{re:57344,end:63743},{re:12736,end:12783},{re:64256,end:64335},{re:64336,end:65023},{re:65056,end:65071},{re:65040,end:65055},{re:65104,end:65135},{re:65136,end:65279},{re:65280,end:65519},{re:65520,end:65535},{re:3840,end:4095},{re:1792,end:1871},{re:1920,end:1983},{re:3456,end:3583},{re:4096,end:4255},{re:4608,end:4991},{re:5024,end:5119},{re:5120,end:5759},{re:5760,end:5791},{re:5792,end:5887},{re:6016,end:6143},{re:6144,end:6319},{re:10240,end:10495},{re:40960,end:42127},{re:5888,end:5919},{re:66304,end:66351},{re:66352,end:66383},{re:66560,end:66639},{re:118784,end:119039},{re:119808,end:120831},{re:1044480,end:1048573},{re:65024,end:65039},{re:917504,end:917631},{re:6400,end:6479},{re:6480,end:6527},{re:6528,end:6623},{re:6656,end:6687},{re:11264,end:11359},{re:11568,end:11647},{re:19904,end:19967},{re:43008,end:43055},{re:65536,end:65663},{re:65856,end:65935},{re:66432,end:66463},{re:66464,end:66527},{re:66640,end:66687},{re:66688,end:66735},{re:67584,end:67647},{re:68096,end:68191},{re:119552,end:119647},{re:73728,end:74751},{re:119648,end:119679},{re:7040,end:7103},{re:7168,end:7247},{re:7248,end:7295},{re:43136,end:43231},{re:43264,end:43311},{re:43312,end:43359},{re:43520,end:43615},{re:65936,end:65999},{re:66e3,end:66047},{re:66208,end:66271},{re:127024,end:127135}];var Ne={parse:function(e,r){var t={},n=new _.Parser(e,r);t.version=n.l(),t.xAvgCharWidth=n.g(),t.usWeightClass=n.l(),t.usWidthClass=n.l(),t.fsType=n.l(),t.ySubscriptXSize=n.g(),t.ySubscriptYSize=n.g(),t.ySubscriptXOffset=n.g(),t.ySubscriptYOffset=n.g(),t.ySuperscriptXSize=n.g(),t.ySuperscriptYSize=n.g(),t.ySuperscriptXOffset=n.g(),t.ySuperscriptYOffset=n.g(),t.yStrikeoutSize=n.g(),t.yStrikeoutPosition=n.g(),t.sFamilyClass=n.g(),t.panose=[];for(var i=0;i<10;i++)t.panose[i]=n.i();return t.ulUnicodeRange1=n.k(),t.ulUnicodeRange2=n.k(),t.ulUnicodeRange3=n.k(),t.ulUnicodeRange4=n.k(),t.achVendID=String.fromCharCode(n.i(),n.i(),n.i(),n.i()),t.fsSelection=n.l(),t.usFirstCharIndex=n.l(),t.usLastCharIndex=n.l(),t.sTypoAscender=n.g(),t.sTypoDescender=n.g(),t.sTypoLineGap=n.g(),t.usWinAscent=n.l(),t.usWinDescent=n.l(),t.version>=1&&(t.ulCodePageRange1=n.k(),t.ulCodePageRange2=n.k()),t.version>=2&&(t.sxHeight=n.g(),t.sCapHeight=n.g(),t.usDefaultChar=n.l(),t.usBreakChar=n.l(),t.usMaxContent=n.l()),t},make:function(){},unicodeRanges:Be,getUnicodeRange:function(e){for(var r=0;r<Be.length;r+=1){var t=Be[r];if(e>=t.re&&e<t.end)return r}return-1}};var Ge={parse:function(e,r){var t={},n=new _.Parser(e,r);switch(t.version=n.C(),t.italicAngle=n.F(),t.underlinePosition=n.g(),t.underlineThickness=n.g(),t.isFixedPitch=n.k(),t.minMemType42=n.k(),t.maxMemType42=n.k(),t.minMemType1=n.k(),t.maxMemType1=n.k(),t.version){case 1:t.names=$.slice();break;case 2:t.numberOfGlyphs=n.l(),t.glyphNameIndex=new Array(t.numberOfGlyphs);for(var i=0;i<t.numberOfGlyphs;i++)t.glyphNameIndex[i]=n.l();t.names=[];for(var a=0;a<t.numberOfGlyphs;a++)if(t.glyphNameIndex[a]>=$.length){var s=n.o();t.names.push(n.A(s))}break;case 2.5:t.numberOfGlyphs=n.l(),t.offset=new Array(t.numberOfGlyphs);for(var o=0;o<t.numberOfGlyphs;o++)t.offset[o]=n.o()}return t},make:function(){}},Me=new Array(9);Me[1]=function(){var e=this.offset+this.relativeOffset,r=this.l();return 1===r?{substFormat:1,coverage:this.j(X.coverage),deltaGlyphId:this.l()}:2===r?{substFormat:2,coverage:this.j(X.coverage),substitute:this.L()}:void O.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},Me[2]=function(){var e=this.l();return O.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.j(X.coverage),sequences:this.Y()}},Me[3]=function(){var e=this.l();return O.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.j(X.coverage),alternateSets:this.Y()}},Me[4]=function(){var e=this.l();return O.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.j(X.coverage),ligatureSets:this.Y((function(){return{ligGlyph:this.l(),components:this.U(this.l()-1)}}))}};var Pe={sequenceIndex:X.uShort,lookupListIndex:X.uShort};Me[5]=function(){var e=this.offset+this.relativeOffset,r=this.l();if(1===r)return{substFormat:r,coverage:this.j(X.coverage),ruleSets:this.Y((function(){var e=this.l(),r=this.l();return{input:this.U(e-1),lookupRecords:this.N(r,Pe)}}))};if(2===r)return{substFormat:r,coverage:this.j(X.coverage),classDef:this.j(X.classDef),classSets:this.Y((function(){var e=this.l(),r=this.l();return{classes:this.U(e-1),lookupRecords:this.N(r,Pe)}}))};if(3===r){var t=this.l(),n=this.l();return{substFormat:r,coverages:this.q(t,X.pointer(X.coverage)),lookupRecords:this.N(n,Pe)}}O.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Me[6]=function(){var e=this.offset+this.relativeOffset,r=this.l();return 1===r?{substFormat:1,coverage:this.j(X.coverage),chainRuleSets:this.Y((function(){return{backtrack:this.U(),input:this.U(this.g()-1),lookahead:this.U(),lookupRecords:this.N(Pe)}}))}:2===r?{substFormat:2,coverage:this.j(X.coverage),backtrackClassDef:this.j(X.classDef),inputClassDef:this.j(X.classDef),lookaheadClassDef:this.j(X.classDef),chainClassSet:this.Y((function(){return{backtrack:this.U(),input:this.U(this.g()-1),lookahead:this.U(),lookupRecords:this.N(Pe)}}))}:3===r?{substFormat:3,backtrackCoverage:this.q(X.pointer(X.coverage)),inputCoverage:this.q(X.pointer(X.coverage)),lookaheadCoverage:this.q(X.pointer(X.coverage)),lookupRecords:this.N(Pe)}:void O.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Me[7]=function(){var e=this.l();O.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var r=this.l(),t=new X(this.data,this.offset+this.k());return{substFormat:1,lookupType:r,extension:Me[r].call(t)}},Me[8]=function(){var e=this.l();return O.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.j(X.coverage),backtrackCoverage:this.q(X.pointer(X.coverage)),lookaheadCoverage:this.q(X.pointer(X.coverage)),substitutes:this.U()}};var He=new Array(9);He[1]=function(e){return 1===e.substFormat?new P.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new P.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new P.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new P.Coverage(e.coverage)}].concat(P.ushortList("substitute",e.substitute)))},He[3]=function(e){return O.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new P.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new P.Coverage(e.coverage)}].concat(P.tableList("altSet",e.alternateSets,(function(e){return new P.Table("alternateSetTable",P.ushortList("alternate",e))}))))},He[4]=function(e){return O.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new P.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new P.Coverage(e.coverage)}].concat(P.tableList("ligSet",e.ligatureSets,(function(e){return new P.Table("ligatureSetTable",P.tableList("ligature",e,(function(e){return new P.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(P.ushortList("component",e.components,e.components.length+1)))})))}))))};var je={parse:function(e,r){var t=new X(e,r=r||0),n=t.C(1);return O.argument(1===n||1.1===n,"Unsupported GSUB table version."),1===n?{version:n,scripts:t._(),features:t.V(),lookups:t.K(Me)}:{version:n,scripts:t._(),features:t.V(),lookups:t.K(Me),variations:t.J()}},make:function(){}};var ze={parse:function(e,r){var t=new _.Parser(e,r),n=t.k();O.argument(1===n,"Unsupported META table version."),t.k(),t.k();for(var i=t.k(),a={},s=0;s<i;s++){var o=t.T(),u=t.k(),l=t.k(),f=C.UTF8(e,r+u,l);a[o]=f}return a},make:function(){}};var We=function(){};function Ye(e,r){for(var t=0,n=e.length-1;t<=n;){var i=t+n>>>1,a=e[i].tag;if(a===r)return i;a<r?t=i+1:n=i-1}return-t-1}function Xe(e,r){for(var t=0,n=e.length-1;t<=n;){var i=t+n>>>1,a=e[i];if(a===r)return i;a<r?t=i+1:n=i-1}return-t-1}function Ze(e,r){for(var t,n=0,i=e.length-1;n<=i;){var a=n+i>>>1,s=(t=e[a]).start;if(s===r)return t;s<r?n=a+1:i=a-1}if(n>0)return r>(t=e[n-1]).end?0:t}function _e(e,r){this.font=e,this.tableName=r}function Ve(e){_e.call(this,e,"gpos")}function Qe(e){_e.call(this,e,"gsub")}function Ke(e,r){var t=e.length;if(t!==r.length)return!1;for(var n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function Je(e,r,t){for(var n=e.t,i=0;i<n.length;i++){var a=n[i];if(a.substFormat===r)return a}if(t)return n.push(t),t}function $e(e){for(var r=new ArrayBuffer(e.length),t=new Uint8Array(r),n=0;n<e.length;++n)t[n]=e[n];return r}function er(e,r){if(!e)throw r}function rr(){throw new Error("Hinting disabled")}function tr(e){this.char=e,this.state={},this.activeState=null}function nr(e,r,t){this.contextName=t,this.startIndex=e,this.endOffset=r}function ir(e,r,t){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=r,this.checkEnd=t}function ar(e,r){this.context=e,this.index=r,this.length=e.length,this.current=e[r],this.backtrack=e.slice(0,r),this.lookahead=e.slice(r+1)}function sr(e){this.eventId=e,this.subscribers=[]}function or(e){var r=this,t=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];t.forEach((function(e){Object.defineProperty(r.events,e,{value:new sr(e)})})),e&&t.forEach((function(t){var n=e[t];"function"==typeof n&&r.events[t].subscribe(n)}));["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach((function(e){r.events[e].subscribe(r.updateContextsRanges)}))}function ur(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],or.call(this,e)}function lr(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function fr(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function cr(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function hr(e){return/[A-z]/.test(e)}function vr(e){this.font=e,this.features={}}function dr(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function mr(e,r){if(!e)return-1;switch(r.format){case 1:return r.glyphs.indexOf(e);case 2:for(var t=r.ranges,n=0;n<t.length;n++){var i=t[n];if(e>=i.start&&e<=i.end){var a=e-i.start;return i.index+a}}break;default:return-1}return-1}function gr(e,r){return-1===mr(e,r.coverage)?null:e+r.deltaGlyphId}function pr(e,r){var t=mr(e,r.coverage);return-1===t?null:r.substitute[t]}function br(e,r){for(var t=[],n=0;n<e.length;n++){var i=e[n],a=r.current,s=mr(a=Array.isArray(a)?a[0]:a,i);-1!==s&&t.push(s)}return t.length!==e.length?-1:t}function yr(e,r){var t=r.inputCoverage.length+r.lookaheadCoverage.length+r.backtrackCoverage.length;if(e.context.length<t)return[];var n=br(r.inputCoverage,e);if(-1===n)return[];var i=r.inputCoverage.length-1;if(e.lookahead.length<r.lookaheadCoverage.length)return[];for(var a=e.lookahead.slice(i);a.length&&cr(a[0].char);)a.shift();var s=new ar(a,0),o=br(r.lookaheadCoverage,s),u=[].concat(e.backtrack);for(u.reverse();u.length&&cr(u[0].char);)u.shift();if(u.length<r.backtrackCoverage.length)return[];var l=new ar(u,0),f=br(r.backtrackCoverage,l),c=[];if(n.length===r.inputCoverage.length&&o.length===r.lookaheadCoverage.length&&f.length===r.backtrackCoverage.length)for(var h=0;h<r.lookupRecords.length;h++)for(var v=r.lookupRecords[h].lookupListIndex,d=this.getLookupByIndex(v),m=0;m<d.t.length;m++){var g=d.t[m],p=this.getLookupMethod(d,g);if("12"===this.getSubstitutionType(d,g))for(var b=0;b<n.length;b++){var y=p(e.get(b));y&&c.push(y)}}return c}function wr(e,r){var t,n=mr(e.current,r.coverage);if(-1===n)return null;for(var i=r.ligatureSets[n],a=0;a<i.length;a++){t=i[a];for(var s=0;s<t.components.length;s++){if(e.lookahead[s]!==t.components[s])break;if(s===t.components.length-1)return t}}return null}function kr(e,r){var t=mr(e,r.coverage);return-1===t?null:r.sequences[t]}_e.prototype={searchTag:Ye,binSearch:Xe,getTable:function(e){var r=this.font.ee[this.tableName];return!r&&e&&(r=this.font.ee[this.tableName]=this.createDefaultTable()),r},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var r=!1,t=0;t<e.scripts.length;t++){var n=e.scripts[t].tag;if("DFLT"===n)return n;"latn"===n&&(r=!0)}return r?"latn":void 0}},getScriptTable:function(e,r){var t=this.getTable(r);if(t){e=e||"DFLT";var n=t.scripts,i=Ye(t.scripts,e);if(i>=0)return n[i].script;if(r){var a={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-i,0,a),a.script}}},getLangSysTable:function(e,r,t){var n=this.getScriptTable(e,t);if(n){if(!r||"dflt"===r||"DFLT"===r)return n.defaultLangSys;var i=Ye(n.langSysRecords,r);if(i>=0)return n.langSysRecords[i].langSys;if(t){var a={tag:r,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-i,0,a),a.langSys}}},getFeatureTable:function(e,r,t,n){var i=this.getLangSysTable(e,r,n);if(i){for(var a,s=i.featureIndexes,o=this.font.ee[this.tableName].features,u=0;u<s.length;u++)if((a=o[s[u]]).tag===t)return a.feature;if(n){var l=o.length;return O.assert(0===l||t>=o[l-1].tag,"Features must be added in alphabetical order."),a={tag:t,feature:{params:0,lookupListIndexes:[]}},o.push(a),s.push(l),a.feature}}},te:function(e,r,t,n,i){var a=this.getFeatureTable(e,r,t,i),s=[];if(a){for(var o,u=a.lookupListIndexes,l=this.font.ee[this.tableName].lookups,f=0;f<u.length;f++)(o=l[u[f]]).lookupType===n&&s.push(o);if(0===s.length&&i){o={lookupType:n,lookupFlag:0,t:[],markFilteringSet:void 0};var c=l.length;return l.push(o),u.push(c),[o]}}return s},getGlyphClass:function(e,r){switch(e.format){case 1:return e.startGlyph<=r&&r<e.startGlyph+e.classes.length?e.classes[r-e.startGlyph]:0;case 2:var t=Ze(e.ranges,r);return t?t.classId:0}},getCoverageIndex:function(e,r){switch(e.format){case 1:var t=Xe(e.glyphs,r);return t>=0?t:-1;case 2:var n=Ze(e.ranges,r);return n?n.index+r-n.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var r=[],t=e.ranges,n=0;n<t.length;n++)for(var i=t[n],a=i.start,s=i.end,o=a;o<=s;o++)r.push(o);return r}},Ve.prototype=_e.prototype,Ve.prototype.init=function(){var e=this.getDefaultScriptName();this.ne=this.ie(e)},Ve.prototype.getKerningValue=function(e,r,t){for(var n=0;n<e.length;n++)for(var i=e[n].t,a=0;a<i.length;a++){var s=i[a],o=this.getCoverageIndex(s.coverage,r);if(!(o<0))switch(s.posFormat){case 1:for(var u=s.pairSets[o],l=0;l<u.length;l++){var f=u[l];if(f.secondGlyph===t)return f.value1&&f.value1.xAdvance||0}break;case 2:var c=this.getGlyphClass(s.classDef1,r),h=this.getGlyphClass(s.classDef2,t),v=s.classRecords[c][h];return v.value1&&v.value1.xAdvance||0}}return 0},Ve.prototype.ie=function(e,r){if(this.font.ee.gpos)return this.te(e,r,"kern",2)},Qe.prototype=_e.prototype,Qe.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Qe.prototype.getSingle=function(e,r,t){for(var n=[],i=this.te(r,t,e,1),a=0;a<i.length;a++)for(var s=i[a].t,o=0;o<s.length;o++){var u=s[o],l=this.expandCoverage(u.coverage),f=void 0;if(1===u.substFormat){var c=u.deltaGlyphId;for(f=0;f<l.length;f++){var h=l[f];n.push({sub:h,by:h+c})}}else{var v=u.substitute;for(f=0;f<l.length;f++)n.push({sub:l[f],by:v[f]})}}return n},Qe.prototype.getAlternates=function(e,r,t){for(var n=[],i=this.te(r,t,e,3),a=0;a<i.length;a++)for(var s=i[a].t,o=0;o<s.length;o++)for(var u=s[o],l=this.expandCoverage(u.coverage),f=u.alternateSets,c=0;c<l.length;c++)n.push({sub:l[c],by:f[c]});return n},Qe.prototype.getLigatures=function(e,r,t){for(var n=[],i=this.te(r,t,e,4),a=0;a<i.length;a++)for(var s=i[a].t,o=0;o<s.length;o++)for(var u=s[o],l=this.expandCoverage(u.coverage),f=u.ligatureSets,c=0;c<l.length;c++)for(var h=l[c],v=f[c],d=0;d<v.length;d++){var m=v[d];n.push({sub:[h].concat(m.components),by:m.ligGlyph})}return n},Qe.prototype.addSingle=function(e,r,t,n){var i=Je(this.te(t,n,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});O.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var a=r.sub,s=this.binSearch(i.coverage.glyphs,a);s<0&&(s=-1-s,i.coverage.glyphs.splice(s,0,a),i.substitute.splice(s,0,0)),i.substitute[s]=r.by},Qe.prototype.addAlternate=function(e,r,t,n){var i=Je(this.te(t,n,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});O.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var a=r.sub,s=this.binSearch(i.coverage.glyphs,a);s<0&&(s=-1-s,i.coverage.glyphs.splice(s,0,a),i.alternateSets.splice(s,0,0)),i.alternateSets[s]=r.by},Qe.prototype.addLigature=function(e,r,t,n){var i=this.te(t,n,e,4,!0)[0],a=i.t[0];a||(a={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.t[0]=a),O.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);var s=r.sub[0],o=r.sub.slice(1),u={ligGlyph:r.by,components:o},l=this.binSearch(a.coverage.glyphs,s);if(l>=0){for(var f=a.ligatureSets[l],c=0;c<f.length;c++)if(Ke(f[c].components,o))return;f.push(u)}else l=-1-l,a.coverage.glyphs.splice(l,0,s),a.ligatureSets.splice(l,0,[u])},Qe.prototype.getFeature=function(e,r,t){if(/ss\d\d/.test(e))return this.getSingle(e,r,t);switch(e){case"aalt":case"salt":return this.getSingle(e,r,t).concat(this.getAlternates(e,r,t));case"dlig":case"liga":case"rlig":return this.getLigatures(e,r,t)}},Qe.prototype.add=function(e,r,t,n){if(/ss\d\d/.test(e))return this.addSingle(e,r,t,n);switch(e){case"aalt":case"salt":return"number"==typeof r.by?this.addSingle(e,r,t,n):this.addAlternate(e,r,t,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,r,t,n)}},tr.prototype.setState=function(e,r){return this.state[e]=r,this.activeState={key:e,value:this.state[e]},this.activeState},tr.prototype.getState=function(e){return this.state[e]||null},ur.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},ur.prototype.composeRUD=function(e){var r=this,t=e.map((function(e){return r[e[0]].apply(r,e.slice(1).concat(true))})),n=function(e){return"object"==typeof e&&e.hasOwnProperty("FAIL")};if(t.every(n))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:t.filter(n)};this.dispatch("composeRUD",[t.filter((function(e){return!n(e)}))])},ur.prototype.replaceRange=function(e,r,t,n){r=null!==r?r:this.tokens.length;var i=t.every((function(e){return e instanceof tr}));if(!isNaN(e)&&this.inboundIndex(e)&&i){var a=this.tokens.splice.apply(this.tokens,[e,r].concat(t));return n||this.dispatch("replaceToken",[e,r,t]),[a,t]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},ur.prototype.replaceToken=function(e,r,t){if(!isNaN(e)&&this.inboundIndex(e)&&r instanceof tr){var n=this.tokens.splice(e,1,r);return t||this.dispatch("replaceToken",[e,r]),[n[0],r]}return{FAIL:"replaceToken: invalid token or index."}},ur.prototype.removeRange=function(e,r,t){r=isNaN(r)?this.tokens.length:r;var n=this.tokens.splice(e,r);return t||this.dispatch("removeRange",[n,e,r]),n},ur.prototype.removeToken=function(e,r){if(!isNaN(e)&&this.inboundIndex(e)){var t=this.tokens.splice(e,1);return r||this.dispatch("removeToken",[t,e]),t}return{FAIL:"removeToken: invalid token index."}},ur.prototype.insertToken=function(e,r,t){return e.every((function(e){return e instanceof tr}))?(this.tokens.splice.apply(this.tokens,[r,0].concat(e)),t||this.dispatch("insertToken",[e,r]),e):{FAIL:"insertToken: invalid token(s)."}},ur.prototype.registerModifier=function(e,r,t){this.events.newToken.subscribe((function(n,i){var a=[n,i],s=[n,i];if(null===r||!0===r.apply(this,a)){var o=t.apply(this,s);n.setState(e,o)}})),this.registeredModifiers.push(e)},sr.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},sr.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},ar.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},ar.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},ur.prototype.rangeToText=function(e){if(e instanceof nr)return this.getRangeTokens(e).map((function(e){return e.char})).join("")},ur.prototype.getText=function(){return this.tokens.map((function(e){return e.char})).join("")},ur.prototype.getContext=function(e){var r=this.registeredContexts[e];return r||null},ur.prototype.on=function(e,r){var t=this.events[e];return t?t.subscribe(r):null},ur.prototype.dispatch=function(e,r){var t=this,n=this.events[e];n instanceof sr&&n.subscribers.forEach((function(e){e.apply(t,r||[])}))},ur.prototype.registerContextChecker=function(e,r,t){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!=typeof r)return{FAIL:"missing context start check."};if("function"!=typeof t)return{FAIL:"missing context end check."};var n=new ir(e,r,t);return this.registeredContexts[e]=n,this.contextCheckers.push(n),n},ur.prototype.getRangeTokens=function(e){var r=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,r))},ur.prototype.getContextRanges=function(e){var r=this.getContext(e);return r?r.ranges:{FAIL:"context checker '"+e+"' is not registered."}},ur.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var r in e){if(e.hasOwnProperty(r))e[r].ranges=[]}},ur.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map((function(e){return e.char})),r=0;r<e.length;r++){var t=new ar(e,r);this.runContextCheck(t)}this.dispatch("updateContextsRanges",[this.registeredContexts])},ur.prototype.setEndOffset=function(e,r){var t=new nr(this.getContext(r).openRange.startIndex,e,r),n=this.getContext(r).ranges;return t.rangeId=r+"."+n.length,n.push(t),this.getContext(r).openRange=null,t},ur.prototype.runContextCheck=function(e){var r=this,t=e.index;this.contextCheckers.forEach((function(n){var i=n.contextName,a=r.getContext(i).openRange;if(!a&&n.checkStart(e)&&(a=new nr(t,null,i),r.getContext(i).openRange=a,r.dispatch("contextStart",[i,t])),a&&n.checkEnd(e)){var s=t-a.startIndex+1,o=r.setEndOffset(s,i);r.dispatch("contextEnd",[i,o])}}))},ur.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var r=Array.from(e);this.dispatch("start");for(var t=0;t<r.length;t++){var n=r[t],i=new ar(r,t);this.dispatch("next",[i]),this.runContextCheck(i);var a=new tr(n);this.tokens.push(a),this.dispatch("newToken",[a,i])}return this.dispatch("end",[this.tokens]),this.tokens},vr.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.ee.gsub.scripts,r=0;r<e.length;r++){var t=e[r];if("DFLT"===t.tag)return t.script.defaultLangSys.featureIndexes}return[]},vr.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.ee.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var r=this.font.ee.gsub.scripts,t=0;t<r.length;t++){var n=r[t];if(n.tag===e&&n.script.defaultLangSys)return n.script.defaultLangSys.featureIndexes;var i=n.langSysRecords;if(i)for(var a=0;a<i.length;a++){var s=i[a];if(s.tag===e)return s.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},vr.prototype.mapTagsToFeatures=function(e,r){for(var t={},n=0;n<e.length;n++){var i=e[n].tag,a=e[n].feature;t[i]=a}this.features[r].tags=t},vr.prototype.getScriptFeatures=function(e){var r=this.features[e];if(this.features.hasOwnProperty(e))return r;var t=this.getScriptFeaturesIndexes(e);if(!t)return null;var n=this.font.ee.gsub;return r=t.map((function(e){return n.features[e]})),this.features[e]=r,this.mapTagsToFeatures(r,e),r},vr.prototype.getSubstitutionType=function(e,r){return e.lookupType.toString()+r.substFormat.toString()},vr.prototype.getLookupMethod=function(e,r){var t=this;switch(this.getSubstitutionType(e,r)){case"11":return function(e){return gr.apply(t,[e,r])};case"12":return function(e){return pr.apply(t,[e,r])};case"63":return function(e){return yr.apply(t,[e,r])};case"41":return function(e){return wr.apply(t,[e,r])};case"21":return function(e){return kr.apply(t,[e,r])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+r.substFormat+" is not yet supported")}},vr.prototype.lookupFeature=function(e){var r=e.contextParams,t=r.index,n=this.getFeature({tag:e.tag,script:e.script});if(!n)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(n),a=[].concat(r.context),s=0;s<i.length;s++)for(var o=i[s],u=this.ae(o),l=0;l<u.length;l++){var f=u[l],c=this.getSubstitutionType(o,f),h=this.getLookupMethod(o,f),v=void 0;switch(c){case"11":(v=h(r.current))&&a.splice(t,1,new dr({id:11,tag:e.tag,substitution:v}));break;case"12":(v=h(r.current))&&a.splice(t,1,new dr({id:12,tag:e.tag,substitution:v}));break;case"63":v=h(r),Array.isArray(v)&&v.length&&a.splice(t,1,new dr({id:63,tag:e.tag,substitution:v}));break;case"41":(v=h(r))&&a.splice(t,1,new dr({id:41,tag:e.tag,substitution:v}));break;case"21":(v=h(r.current))&&a.splice(t,1,new dr({id:21,tag:e.tag,substitution:v}))}r=new ar(a,t),Array.isArray(v)&&!v.length||(v=null)}return a.length?a:null},vr.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var r=this.features.hasOwnProperty(e.script);if(!e.tag)return r;var t=this.features[e.script].some((function(r){return r.tag===e.tag}));return r&&t},vr.prototype.ae=function(e){return e.t||null},vr.prototype.getLookupByIndex=function(e){return this.font.ee.gsub.lookups[e]||null},vr.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},vr.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var r=this.features[e.script];return r?r.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var xr={startCheck:function(e){var r=e.current,t=e.get(-1);return null===t&&lr(r)||!lr(t)&&lr(r)},endCheck:function(e){var r=e.get(1);return null===r||!lr(r)}};var Sr={startCheck:function(e){var r=e.current,t=e.get(-1);return(lr(r)||cr(r))&&!lr(t)},endCheck:function(e){var r=e.get(1);switch(!0){case null===r:return!0;case!lr(r)&&!cr(r):var t=/\s/.test(r);if(!t)return!0;if(t){if(!e.lookahead.some((function(e){return lr(e)||cr(e)})))return!0}break;default:return!1}}};var Fr={11:function(e,r,t){r[t].setState(e.tag,e.substitution)},12:function(e,r,t){r[t].setState(e.tag,e.substitution)},63:function(e,r,t){e.substitution.forEach((function(n,i){r[t+i].setState(e.tag,n)}))},41:function(e,r,t){var n=r[t];n.setState(e.tag,e.substitution.ligGlyph);for(var i=e.substitution.components.length,a=0;a<i;a++)(n=r[t+a+1]).setState("deleted",!0)}};function Ar(e,r,t){e instanceof dr&&Fr[e.id]&&Fr[e.id](e,r,t)}function Er(e){var r=this,t="arab",n=this.featuresTags.arab,i=this.tokenizer.getRangeTokens(e);if(1!==i.length){var a=new ar(i.map((function(e){return e.getState("glyphIndex")})),0),s=new ar(i.map((function(e){return e.char})),0);i.forEach((function(e,o){if(!cr(e.char)){a.setCurrentIndex(o),s.setCurrentIndex(o);var u,l=0;switch(function(e){for(var r=[].concat(e.backtrack),t=r.length-1;t>=0;t--){var n=r[t],i=fr(n),a=cr(n);if(!i&&!a)return!0;if(i)return!1}return!1}(s)&&(l|=1),function(e){if(fr(e.current))return!1;for(var r=0;r<e.lookahead.length;r++)if(!cr(e.lookahead[r]))return!0;return!1}(s)&&(l|=2),l){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi"}if(-1!==n.indexOf(u)){var f=r.query.lookupFeature({tag:u,script:t,contextParams:a});if(f instanceof Error)return console.info(f.message);f.forEach((function(e,r){e instanceof dr&&(Ar(e,i,r),a.context[r]=e.substitution)}))}}}))}}function Tr(e,r){return new ar(e.map((function(e){return e.activeState.value})),r||0)}function Or(e){var r=this,t=this.tokenizer.getRangeTokens(e),n=Tr(t);n.context.forEach((function(e,i){n.setCurrentIndex(i);var a=r.query.lookupFeature({tag:"rlig",script:"arab",contextParams:n});a.length&&(a.forEach((function(e){return Ar(e,t,i)})),n=Tr(t))}))}var Cr={startCheck:function(e){var r=e.current,t=e.get(-1);return null===t&&hr(r)||!hr(t)&&hr(r)},endCheck:function(e){var r=e.get(1);return null===r||!hr(r)}};function Ir(e,r){return new ar(e.map((function(e){return e.activeState.value})),r||0)}function Lr(e){var r=this,t=this.tokenizer.getRangeTokens(e),n=Ir(t);n.context.forEach((function(e,i){n.setCurrentIndex(i);var a=r.query.lookupFeature({tag:"liga",script:"latn",contextParams:n});a.length&&(a.forEach((function(e){return Ar(e,t,i)})),n=Ir(t))}))}function Ur(e){this.baseDir=e||"ltr",this.tokenizer=new ur,this.featuresTags={}}function Dr(e){var r=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,r.startCheck,r.endCheck)}function Rr(){return Dr.call(this,"latinWord"),Dr.call(this,"arabicWord"),Dr.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function qr(){var e=this;this.tokenizer.getContextRanges("arabicSentence").forEach((function(r){var t=e.tokenizer.getRangeTokens(r);e.tokenizer.replaceRange(r.startIndex,r.endOffset,t.reverse())}))}function Br(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Nr(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(Br.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(r){Er.call(e,r)})))}function Gr(){var e=this,r="arab";this.featuresTags.hasOwnProperty(r)&&(-1!==this.featuresTags.arab.indexOf("rlig")&&(Br.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(r){Or.call(e,r)}))))}function Mr(){var e=this,r="latn";this.featuresTags.hasOwnProperty(r)&&(-1!==this.featuresTags.latn.indexOf("liga")&&(Br.call(this),this.tokenizer.getContextRanges("latinWord").forEach((function(r){Lr.call(e,r)}))))}function Pr(e){(e=e||{}).ee=e.ee||{},e.empty||(er(e.familyName,"When creating a new Font object, familyName is required."),er(e.styleName,"When creating a new Font object, styleName is required."),er(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),er(e.ascender,"When creating a new Font object, ascender is required."),er(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.ee=Object.assign(e.ee,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.ee.os2)})),this.supported=!0,this.glyphs=new ue.GlyphSet(this,e.glyphs||[]),this.encoding=new ee(this),this.position=new Ve(this),this.substitution=new Qe(this),this.ee=this.ee||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new rr(this):void 0}})}function Hr(e,r,t){var n={},i=new _.Parser(e,r);return n.tag=i.T(),n.minValue=i.F(),n.defaultValue=i.F(),n.maxValue=i.F(),i.skip("uShort",1),n.name=t[i.l()]||{},n}function jr(e,r,t,n){var i={},a=new _.Parser(e,r);i.name=n[a.l()]||{},a.skip("uShort",1),i.coordinates={};for(var s=0;s<t.length;++s)i.coordinates[t[s].tag]=a.F();return i}Ur.prototype.setText=function(e){this.text=e},Ur.prototype.contextChecks={latinWordCheck:Cr,arabicWordCheck:xr,arabicSentenceCheck:Sr},Ur.prototype.registerFeatures=function(e,r){var t=this,n=r.filter((function(r){return t.query.supports({script:e,tag:r})}));this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(n):this.featuresTags[e]=n},Ur.prototype.applyFeatures=function(e,r){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new vr(e));for(var t=0;t<r.length;t++){var n=r[t];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}},Ur.prototype.registerModifier=function(e,r,t){this.tokenizer.registerModifier(e,r,t)},Ur.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},Ur.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Nr.call(this),Gr.call(this)),this.checkContextReady("latinWord")&&Mr.call(this),this.checkContextReady("arabicSentence")&&qr.call(this)},Ur.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),Rr.call(this),this.applyFeaturesToContexts())},Ur.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},Ur.prototype.getTextGlyphs=function(e){this.processText(e);for(var r=[],t=0;t<this.tokenizer.tokens.length;t++){var n=this.tokenizer.tokens[t];if(!n.state.deleted){var i=n.activeState.value;r.push(Array.isArray(i)?i[0]:i)}}return r},Pr.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Pr.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Pr.prototype.charToGlyph=function(e){var r=this.charToGlyphIndex(e),t=this.glyphs.get(r);return t||(t=this.glyphs.get(0)),t},Pr.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map((function(r){return"latn"===r.script?{script:"latn",tags:r.tags.filter((function(r){return e[r]}))}:r}))},Pr.prototype.stringToGlyphs=function(e,r){var t=this,n=new Ur;n.registerModifier("glyphIndex",null,(function(e){return t.charToGlyphIndex(e.char)}));var i=r?this.updateFeatures(r.features):this.defaultRenderOptions.features;n.applyFeatures(this,i);for(var a=n.getTextGlyphs(e),s=a.length,o=new Array(s),u=this.glyphs.get(0),l=0;l<s;l+=1)o[l]=this.glyphs.get(a[l])||u;return o},Pr.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Pr.prototype.nameToGlyph=function(e){var r=this.nameToGlyphIndex(e),t=this.glyphs.get(r);return t||(t=this.glyphs.get(0)),t},Pr.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Pr.prototype.getKerningValue=function(e,r){e=e.index||e,r=r.index||r;var t=this.position.ne;return t?this.position.getKerningValue(t,e,r):this.kerningPairs[e+","+r]||0},Pr.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},Pr.prototype.forEachGlyph=function(e,r,t,n,i,a){r=void 0!==r?r:0,t=void 0!==t?t:0,n=void 0!==n?n:72,i=Object.assign({},this.defaultRenderOptions,i);var s,o=1/this.unitsPerEm*n,u=this.stringToGlyphs(e,i);if(i.kerning){var l=i.script||this.position.getDefaultScriptName();s=this.position.ie(l,i.language)}for(var f=0;f<u.length;f+=1){var c=u[f];if(a.call(this,c,r,t,n,i),c.advanceWidth&&(r+=c.advanceWidth*o),i.kerning&&f<u.length-1)r+=(s?this.position.getKerningValue(s,c.index,u[f+1].index):this.getKerningValue(c,u[f+1]))*o;i.letterSpacing?r+=i.letterSpacing*n:i.tracking&&(r+=i.tracking/1e3*n)}return r},Pr.prototype.getPath=function(){},Pr.prototype.getPaths=function(){},Pr.prototype.getAdvanceWidth=function(e,r,t){return this.forEachGlyph(e,0,0,r,t,(function(){}))},Pr.prototype.draw=function(){},Pr.prototype.drawPoints=function(){},Pr.prototype.drawMetrics=function(){},Pr.prototype.getEnglishName=function(e){var r=this.names[e];if(r)return r.en},Pr.prototype.validate=function(){var e=this;function r(r){var t=e.getEnglishName(r);t&&t.trim().length}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),this.unitsPerEm},Pr.prototype.se=function(){return We(this)},Pr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Pr.prototype.toArrayBuffer=function(){for(var e=this.se().encode(),r=new ArrayBuffer(e.length),t=new Uint8Array(r),n=0;n<e.length;n++)t[n]=e[n];return r},Pr.prototype.download=function(){},Pr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Pr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Pr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900},Pr.prototype.$troika_Bidi=Ur;var zr={make:function(){},parse:function(e,r,t){var n=new _.Parser(e,r),i=n.k();O.argument(65536===i,"Unsupported fvar table version.");var a=n.m();n.skip("uShort",1);for(var s=n.l(),o=n.l(),u=n.l(),l=n.l(),f=[],c=0;c<s;c++)f.push(Hr(e,r+a+c*o,t));for(var h=[],v=r+a+s*o,d=0;d<u;d++)h.push(jr(e,v+d*l,f,t));return{axes:f,instances:h}}};function Wr(e,r,t,n,i){var a;return(r&n)>0?(a=e.i(),0==(r&i)&&(a=-a),a=t+a):a=(r&i)>0?t:t+e.g(),a}function Yr(e,r,t){var n,i,a=new _.Parser(r,t);if(e.numberOfContours=a.g(),e._xMin=a.g(),e._yMin=a.g(),e._xMax=a.g(),e._yMax=a.g(),e.numberOfContours>0){for(var s=e.endPointIndices=[],o=0;o<e.numberOfContours;o+=1)s.push(a.l());e.instructionLength=a.l(),e.instructions=[];for(var u=0;u<e.instructionLength;u+=1)e.instructions.push(a.i());var l=s[s.length-1]+1;n=[];for(var f=0;f<l;f+=1)if(i=a.i(),n.push(i),(8&i)>0)for(var c=a.i(),h=0;h<c;h+=1)n.push(i),f+=1;if(O.argument(n.length===l,"Bad flags."),s.length>0){var v,d=[];if(l>0){for(var m=0;m<l;m+=1)i=n[m],(v={}).onCurve=!!(1&i),v.lastPointOfContour=s.indexOf(m)>=0,d.push(v);for(var g=0,p=0;p<l;p+=1)i=n[p],(v=d[p]).x=Wr(a,i,g,2,16),g=v.x;for(var b=0,y=0;y<l;y+=1)i=n[y],(v=d[y]).y=Wr(a,i,b,4,32),b=v.y}e.points=d}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var w=!0;w;){n=a.l();var k={glyphIndex:a.l(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&n)>0?(2&n)>0?(k.dx=a.g(),k.dy=a.g()):k.matchedPoints=[a.l(),a.l()]:(2&n)>0?(k.dx=a.o(),k.dy=a.o()):k.matchedPoints=[a.i(),a.i()],(8&n)>0?k.xScale=k.yScale=a.p():(64&n)>0?(k.xScale=a.p(),k.yScale=a.p()):(128&n)>0&&(k.xScale=a.p(),k.scale01=a.p(),k.scale10=a.p(),k.yScale=a.p()),e.components.push(k),w=!!(32&n)}if(256&n){e.instructionLength=a.l(),e.instructions=[];for(var x=0;x<e.instructionLength;x+=1)e.instructions.push(a.i())}}}function Xr(e,r){for(var t=[],n=0;n<e.length;n+=1){var i=e[n],a={x:r.xScale*i.x+r.scale01*i.y+r.dx,y:r.scale10*i.x+r.yScale*i.y+r.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};t.push(a)}return t}function Zr(e){var r=new A;if(!e)return r;for(var t=function(e){for(var r=[],t=[],n=0;n<e.length;n+=1){var i=e[n];t.push(i),i.lastPointOfContour&&(r.push(t),t=[])}return O.argument(0===t.length,"There are still points left in the current contour."),r}(e),n=0;n<t.length;++n){var i=t[n],a=null,s=i[i.length-1],o=i[0];if(s.onCurve)r.moveTo(s.x,s.y);else if(o.onCurve)r.moveTo(o.x,o.y);else{var u={x:.5*(s.x+o.x),y:.5*(s.y+o.y)};r.moveTo(u.x,u.y)}for(var l=0;l<i.length;++l)if(a=s,s=o,o=i[(l+1)%i.length],s.onCurve)r.lineTo(s.x,s.y);else{var f=o;a.onCurve||{x:.5*(s.x+a.x),y:.5*(s.y+a.y)},o.onCurve||(f={x:.5*(s.x+o.x),y:.5*(s.y+o.y)}),r.quadraticCurveTo(s.x,s.y,f.x,f.y)}r.closePath()}return r}function _r(e,r){if(r.isComposite)for(var t=0;t<r.components.length;t+=1){var n=r.components[t],i=e.get(n.glyphIndex);if(i.getPath(),i.points){var a=void 0;if(void 0===n.matchedPoints)a=Xr(i.points,n);else{if(n.matchedPoints[0]>r.points.length-1||n.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+r.name);var s=r.points[n.matchedPoints[0]],o=i.points[n.matchedPoints[1]],u={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};o=Xr([o],u)[0],u.dx=s.x-o.x,u.dy=s.y-o.y,a=Xr(i.points,u)}r.points=r.points.concat(a)}}return Zr(r.points)}var Vr={getPath:Zr,parse:function(e,r,t,n,i){return i.lowMemory?function(e,r,t,n){var i=new ue.GlyphSet(n);return n._push=function(a){var s=t[a];s!==t[a+1]?i.push(a,ue.ttfGlyphLoader(n,a,Yr,e,r+s,_r)):i.push(a,ue.glyphLoader(n,a))},i}(e,r,t,n):function(e,r,t,n){for(var i=new ue.GlyphSet(n),a=0;a<t.length-1;a+=1){var s=t[a];s!==t[a+1]?i.push(a,ue.ttfGlyphLoader(n,a,Yr,e,r+s,_r)):i.push(a,ue.glyphLoader(n,a))}return i}(e,r,t,n)}},Qr=new Array(10);Qr[1]=function(){var e=this.offset+this.relativeOffset,r=this.l();return 1===r?{posFormat:1,coverage:this.j(X.coverage),value:this.P()}:2===r?{posFormat:2,coverage:this.j(X.coverage),values:this.H()}:void O.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Qr[2]=function(){var e=this.offset+this.relativeOffset,r=this.l();O.assert(1===r||2===r,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var t=this.j(X.coverage),n=this.l(),i=this.l();if(1===r)return{posFormat:r,coverage:t,valueFormat1:n,valueFormat2:i,pairSets:this.q(X.pointer(X.list((function(){return{secondGlyph:this.l(),value1:this.P(n),value2:this.P(i)}}))))};if(2===r){var a=this.j(X.classDef),s=this.j(X.classDef),o=this.l(),u=this.l();return{posFormat:r,coverage:t,valueFormat1:n,valueFormat2:i,classDef1:a,classDef2:s,class1Count:o,class2Count:u,classRecords:this.q(o,X.list(u,(function(){return{value1:this.P(n),value2:this.P(i)}})))}}},Qr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Qr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Qr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Qr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Qr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Qr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Qr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Kr={parse:function(e,r){var t=new X(e,r=r||0),n=t.C(1);return O.argument(1===n||1.1===n,"Unsupported GPOS table version "+n),1===n?{version:n,scripts:t._(),features:t.V(),lookups:t.K(Qr)}:{version:n,scripts:t._(),features:t.V(),lookups:t.K(Qr),variations:t.J()}},make:function(){}};var Jr={parse:function(e,r){var t=new _.Parser(e,r),n=t.l();if(0===n)return function(e){var r={};e.skip("uShort");var t=e.l();O.argument(0===t,"Unsupported kern sub-table version."),e.skip("uShort",2);var n=e.l();e.skip("uShort",3);for(var i=0;i<n;i+=1){var a=e.l(),s=e.l(),o=e.g();r[a+","+s]=o}return r}(t);if(1===n)return function(e){var r={};e.skip("uShort"),e.k()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var t=255&e.l();if(e.skip("uShort"),0===t){var n=e.l();e.skip("uShort",3);for(var i=0;i<n;i+=1){var a=e.l(),s=e.l(),o=e.g();r[a+","+s]=o}}return r}(t);throw new Error("Unsupported kern table version ("+n+").")}};var $r={parse:function(e,r,t,n){for(var i=new _.Parser(e,r),a=n?i.l:i.k,s=[],o=0;o<t+1;o+=1){var u=a.call(i);n&&(u*=2),s.push(u)}return s}};function et(e,r){({}).readFile(e,(function(e,t){if(e)return r(e.message);r(null,$e(t))}))}function rt(e,r){var t=new XMLHttpRequest;t.open("get",e,!0),t.responseType="arraybuffer",t.onload=function(){return t.response?r(null,t.response):r("Font could not be loaded: "+t.statusText)},t.onerror=function(){r("Font could not be loaded")},t.send()}function tt(e,r){for(var t=[],n=12,i=0;i<r;i+=1){var a=_.getTag(e,n),s=_.getULong(e,n+4),o=_.getULong(e,n+8),u=_.getULong(e,n+12);t.push({tag:a,checksum:s,offset:o,length:u,compression:!1}),n+=16}return t}function nt(e,r){if("WOFF"===r.compression){var t=new Uint8Array(e.buffer,r.offset+2,r.compressedLength-2),n=new Uint8Array(r.length);if(S(t,n),n.byteLength!==r.length)throw new Error("Decompression error: "+r.tag+" decompressed length doesn't match recorded length");return{data:new DataView(n.buffer,0),offset:0}}return{data:e,offset:r.offset}}function it(e,r){var t,n;r=null==r?{}:r;var i,a,s,o,u,l,f,c,h,v,d,m,g=new Pr({empty:!0}),p=new DataView(e,0),b=[],y=_.getTag(p,0);if(y===String.fromCharCode(0,1,0,0)||"true"===y||"typ1"===y)g.outlinesFormat="truetype",b=tt(p,i=_.getUShort(p,4));else if("OTTO"===y)g.outlinesFormat="cff",b=tt(p,i=_.getUShort(p,4));else{if("wOFF"!==y)throw new Error("Unsupported OpenType signature "+y);var w=_.getTag(p,4);if(w===String.fromCharCode(0,1,0,0))g.outlinesFormat="truetype";else{if("OTTO"!==w)throw new Error("Unsupported OpenType flavor "+y);g.outlinesFormat="cff"}b=function(e,r){for(var t=[],n=44,i=0;i<r;i+=1){var a=_.getTag(e,n),s=_.getULong(e,n+4),o=_.getULong(e,n+8),u=_.getULong(e,n+12),l=void 0;l=o<u&&"WOFF",t.push({tag:a,offset:s,compression:l,compressedLength:o,length:u}),n+=20}return t}(p,i=_.getUShort(p,12))}for(var k=0;k<i;k+=1){var x=b[k],S=void 0;switch(x.tag){case"cmap":S=nt(p,x),g.ee.cmap=V.parse(S.data,S.offset),g.encoding=new re(g.ee.cmap);break;case"cvt ":S=nt(p,x),m=new _.Parser(S.data,S.offset),g.ee.cvt=m.D(x.length/2);break;case"fvar":s=x;break;case"fpgm":S=nt(p,x),m=new _.Parser(S.data,S.offset),g.ee.fpgm=m.R(x.length);break;case"head":S=nt(p,x),g.ee.head=xe.parse(S.data,S.offset),g.unitsPerEm=g.ee.head.unitsPerEm,t=g.ee.head.indexToLocFormat;break;case"hhea":S=nt(p,x),g.ee.hhea=Se.parse(S.data,S.offset),g.ascender=g.ee.hhea.ascender,g.descender=g.ee.hhea.descender,g.numberOfHMetrics=g.ee.hhea.numberOfHMetrics;break;case"hmtx":f=x;break;case"ltag":S=nt(p,x),n=Ae.parse(S.data,S.offset);break;case"maxp":S=nt(p,x),g.ee.maxp=Ee.parse(S.data,S.offset),g.numGlyphs=g.ee.maxp.numGlyphs;break;case"name":v=x;break;case"OS/2":S=nt(p,x),g.ee.os2=Ne.parse(S.data,S.offset);break;case"post":S=nt(p,x),g.ee.post=Ge.parse(S.data,S.offset),g.glyphNames=new ne(g.ee.post);break;case"prep":S=nt(p,x),m=new _.Parser(S.data,S.offset),g.ee.prep=m.R(x.length);break;case"glyf":o=x;break;case"loca":h=x;break;case"CFF ":a=x;break;case"kern":c=x;break;case"GPOS":u=x;break;case"GSUB":l=x;break;case"meta":d=x}}var F=nt(p,v);if(g.ee.name=qe.parse(F.data,F.offset,n),g.names=g.ee.name,o&&h){var A=0===t,E=nt(p,h),T=$r.parse(E.data,E.offset,g.numGlyphs,A),O=nt(p,o);g.glyphs=Vr.parse(O.data,O.offset,T,g,r)}else{if(!a)throw new Error("Font doesn't contain TrueType or CFF outlines.");var C=nt(p,a);ke.parse(C.data,C.offset,g,r)}var I=nt(p,f);if(Fe.parse(g,I.data,I.offset,g.numberOfHMetrics,g.numGlyphs,g.glyphs,r),ie(g,r),c){var L=nt(p,c);g.kerningPairs=Jr.parse(L.data,L.offset)}else g.kerningPairs={};if(u){var U=nt(p,u);g.ee.gpos=Kr.parse(U.data,U.offset),g.position.init()}if(l){var D=nt(p,l);g.ee.gsub=je.parse(D.data,D.offset)}if(s){var R=nt(p,s);g.ee.fvar=zr.parse(R.data,R.offset,g.names)}if(d){var q=nt(p,d);g.ee.meta=ze.parse(q.data,q.offset),g.metas=g.ee.meta}return g}return e.BoundingBox=F,e.Font=Pr,e.Glyph=ae,e.Path=A,e._parse=_,e.load=function(e,r,t){var n="undefined"==typeof window?et:rt;return new Promise((function(i,a){n(e,(function(e,n){if(e){if(r)return r(e);a(e)}var s;try{s=it(n,t)}catch(e){if(r)return r(e,null);a(e)}if(r)return r(null,s);i(s)}))}))},e.loadSync=function(e,r){return it($e({}.readFileSync(e)),r)},e.parse=it,e}({})}
