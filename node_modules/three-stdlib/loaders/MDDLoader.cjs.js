"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("three"),t=function(t){e.Loader.call(this,t)};t.prototype=Object.assign(Object.create(e.Loader.prototype),{constructor:t,load:function(t,r,a,o){var n=this,i=new e.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.load(t,(function(e){r(n.parse(e))}),a,o)},parse:function(t){for(var r=new DataView(t),a=r.getUint32(0),o=r.getUint32(4),n=8,i=new Float32Array(a),l=new Float32Array(a*a).fill(0),s=0;s<a;s++)i[s]=r.getFloat32(n),n+=4,l[a*s+s]=1;for(var p=new e.NumberKeyframeTrack(".morphTargetInfluences",i,l),u=new e.AnimationClip("default",i[i.length-1],[p]),f=[],c=0;c<a;c++){for(var h=new Float32Array(3*o),g=0;g<o;g++){var d=3*g;h[d+0]=r.getFloat32(n),n+=4,h[d+1]=r.getFloat32(n),n+=4,h[d+2]=r.getFloat32(n),n+=4}var w=new e.BufferAttribute(h,3);w.name="morph_"+c,f.push(w)}return{morphTargets:f,clip:u}}}),exports.MDDLoader=t;
