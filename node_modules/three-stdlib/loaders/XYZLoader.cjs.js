"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/inheritsLoose"),t=require("three");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=r(e);function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var i=function(e){function r(){return e.apply(this,arguments)||this}a.default(r,e);var o=r.prototype;return o.load=function(e,r,a,n){var o=this,i=new t.FileLoader(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(t){try{r(o.parse(t))}catch(t){n?n(t):console.error(t),o.manager.itemError(e)}}),a,n)},o.parse=function(e){for(var r,a=[],o=[],i=n(e.split("\n"));!(r=i()).done;){var s=r.value;if("#"!==(s=s.trim()).charAt(0)){var u=s.split(/\s+/);3===u.length&&(a.push(parseFloat(u[0])),a.push(parseFloat(u[1])),a.push(parseFloat(u[2]))),6===u.length&&(a.push(parseFloat(u[0])),a.push(parseFloat(u[1])),a.push(parseFloat(u[2])),o.push(parseFloat(u[3])/255),o.push(parseFloat(u[4])/255),o.push(parseFloat(u[5])/255))}}var l=new t.BufferGeometry;return l.setAttribute("position",new t.Float32BufferAttribute(a,3)),o.length>0&&l.setAttribute("color",new t.Float32BufferAttribute(o,3)),l},r}(t.Loader);exports.XYZLoader=i;
