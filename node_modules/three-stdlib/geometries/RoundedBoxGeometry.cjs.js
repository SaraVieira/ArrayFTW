"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/assertThisInitialized"),t=require("@babel/runtime/helpers/inheritsLoose"),r=require("three");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=a(e),n=a(t),o=new r.Vector3;function s(e,t,r,a,i,n){var s=2*Math.PI*i/4,u=Math.max(n-2*i,0),l=Math.PI/4;o.copy(t),o[a]=0,o.normalize();var c=.5*s/(s+u),y=1-o.angleTo(e)/l;return 1===Math.sign(o[r])?y*c:u/(s+u)+c+c*(1-y)}var u=function(e){function t(t,a,n,o,u){var l;if(void 0===t&&(t=1),void 0===a&&(a=1),void 0===n&&(n=1),void 0===o&&(o=2),void 0===u&&(u=.1),o=2*o+1,u=Math.min(t/2,a/2,n/2,u),l=e.call(this,1,1,1,o,o,o)||this,1===o)return i.default(l);var c=l.toNonIndexed();l.index=null,l.attributes.position=c.attributes.position,l.attributes.normal=c.attributes.normal,l.attributes.uv=c.attributes.uv;for(var y=new r.Vector3,h=new r.Vector3,b=new r.Vector3(t,a,n).divideScalar(2).subScalar(u),x=l.attributes.position.array,d=l.attributes.normal.array,v=l.attributes.uv.array,z=x.length/6,f=new r.Vector3,M=.5/o,m=0,p=0;m<x.length;m+=3,p+=2){switch(y.fromArray(x,m),h.copy(y),h.x-=Math.sign(h.x)*M,h.y-=Math.sign(h.y)*M,h.z-=Math.sign(h.z)*M,h.normalize(),x[m+0]=b.x*Math.sign(y.x)+h.x*u,x[m+1]=b.y*Math.sign(y.y)+h.y*u,x[m+2]=b.z*Math.sign(y.z)+h.z*u,d[m+0]=h.x,d[m+1]=h.y,d[m+2]=h.z,Math.floor(m/z)){case 0:f.set(1,0,0),v[p+0]=s(f,h,"z","y",u,n),v[p+1]=1-s(f,h,"y","z",u,a);break;case 1:f.set(-1,0,0),v[p+0]=1-s(f,h,"z","y",u,n),v[p+1]=1-s(f,h,"y","z",u,a);break;case 2:f.set(0,1,0),v[p+0]=1-s(f,h,"x","z",u,t),v[p+1]=s(f,h,"z","x",u,n);break;case 3:f.set(0,-1,0),v[p+0]=1-s(f,h,"x","z",u,t),v[p+1]=1-s(f,h,"z","x",u,n);break;case 4:f.set(0,0,1),v[p+0]=1-s(f,h,"x","y",u,t),v[p+1]=1-s(f,h,"y","x",u,a);break;case 5:f.set(0,0,-1),v[p+0]=s(f,h,"x","y",u,t),v[p+1]=1-s(f,h,"y","x",u,a)}}return l}return n.default(t,e),t}(r.BoxGeometry);exports.RoundedBoxGeometry=u;
