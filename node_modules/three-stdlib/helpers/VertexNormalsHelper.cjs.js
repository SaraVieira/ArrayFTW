"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/assertThisInitialized"),t=require("@babel/runtime/helpers/inheritsLoose"),r=require("three");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(e),s=o(t),a=new r.Vector3,n=new r.Vector3,l=new r.Matrix3,u=function(e){function t(t,o,s){var a,n=new r.BufferGeometry,l=void 0!==s?s:16711680;(a=e.call(this,n,new r.LineBasicMaterial({color:l,toneMapped:!1}))||this).object=t,a.size=void 0!==o?o:.1;var u=0,p=a.object.geometry;if(p&&p.isGeometry)return console.error("THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead."),i.default(a);p&&p.isBufferGeometry&&(u=p.attributes.normal.count);var m=new r.Float32BufferAttribute(2*u*3,3);return n.setAttribute("position",m),a.type="VertexNormalsHelper",a.matrixAutoUpdate=!1,a.update(),a}return s.default(t,e),t.prototype.update=function(){this.object.updateMatrixWorld(!0),l.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,r=this.object.geometry;if(r&&r.isGeometry)console.error("THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.");else{if(r&&r.isBufferGeometry)for(var o=r.attributes.position,i=r.attributes.normal,s=0,u=0,p=o.count;u<p;u++)a.set(o.getX(u),o.getY(u),o.getZ(u)).applyMatrix4(e),n.set(i.getX(u),i.getY(u),i.getZ(u)),n.applyMatrix3(l).normalize().multiplyScalar(this.size).add(a),t.setXYZ(s,a.x,a.y,a.z),s+=1,t.setXYZ(s,n.x,n.y,n.z),s+=1;t.needsUpdate=!0}},t}(r.LineSegments);exports.VertexNormalsHelper=u;
