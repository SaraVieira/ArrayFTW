"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/inheritsLoose"),t=require("three");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=i(e),r=function(e){function i(i,n,r,s){var o;o.audio=i,o.range=n||1,o.divisionsInnerAngle=r||16,o.divisionsOuterAngle=s||2;var a=new t.BufferGeometry,u=o.divisionsInnerAngle+2*o.divisionsOuterAngle,l=new Float32Array(3*(3*u+3));a.setAttribute("position",new t.BufferAttribute(l,3));var d=new t.LineBasicMaterial({color:65280}),p=new t.LineBasicMaterial({color:16776960});return(o=e.call(this,a,[p,d])||this).type="PositionalAudioHelper",o.update(),o}n.default(i,e);var r=i.prototype;return r.update=function(){var e,i,n=this.audio,r=this.range,s=this.divisionsInnerAngle,o=this.divisionsOuterAngle,a=t.MathUtils.degToRad(n.panner.coneInnerAngle),u=t.MathUtils.degToRad(n.panner.coneOuterAngle),l=a/2,d=u/2,p=0,h=0,c=this.geometry,f=c.attributes.position;function v(t,n,s,o){var a=(n-t)/s;for(f.setXYZ(p,0,0,0),h++,e=t;e<n;e+=a)i=p+h,f.setXYZ(i,Math.sin(e)*r,0,Math.cos(e)*r),f.setXYZ(i+1,Math.sin(Math.min(e+a,n))*r,0,Math.cos(Math.min(e+a,n))*r),f.setXYZ(i+2,0,0,0),h+=3;c.addGroup(p,h,o),p+=h,h=0}c.clearGroups(),v(-d,-l,o,0),v(-l,l,s,1),v(l,d,o,0),f.needsUpdate=!0,a===u&&(this.material[0].visible=!1)},r.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},i}(t.Line);exports.PositionalAudioHelper=r;
