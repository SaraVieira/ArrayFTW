"use strict";var e=require("@babel/runtime/helpers/inheritsLoose"),t=require("@babel/runtime/helpers/defineProperty"),r=require("../core/Node.cjs.js"),i=require("../inputs/Vector3Node.cjs.js"),o=require("../inputs/Matrix4Node.cjs.js"),u=require("../core/constants.cjs.js");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("@babel/runtime/helpers/assertThisInitialized"),require("../core/InputNode.cjs.js"),require("three");var s=n(e),a=n(t),d=function(e){function t(r){var i;return void 0===r&&(r=t.POSITION),(i=e.call(this)||this).updateType=u.NodeUpdateType.Frame,i.scope=r,i._inputNode=null,i}s.default(t,e);var r=t.prototype;return r.getType=function(){var e=this.scope;return e===t.PROJECTION||e===t.VIEW?"mat4":"vec3"},r.update=function(e){var r=e.camera,i=this._inputNode,o=this.scope;o===t.PROJECTION?i.value=r.projectionMatrix:o===t.VIEW?i.value=r.matrixWorldInverse:o===t.POSITION&&r.getWorldPosition(i.value)},r.generate=function(e,r){var u=e.getDataFromNode(this),n=this._inputNode;if(void 0===u.inputNode){var s=this.scope;s===t.PROJECTION||s===t.VIEW?null!==n&&!0===n.isMatrix4Node||(n=new o(null)):s===t.POSITION&&(null!==n&&!0===n.isVector3Node||(n=new i)),this._inputNode=n,u.inputNode=n}return n.build(e,r)},t}(r);a.default(d,"POSITION","position"),a.default(d,"PROJECTION","projection"),a.default(d,"VIEW","view"),module.exports=d;
