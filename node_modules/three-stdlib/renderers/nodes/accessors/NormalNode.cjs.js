"use strict";var e=require("@babel/runtime/helpers/inheritsLoose"),r=require("@babel/runtime/helpers/defineProperty"),o=require("../core/Node.cjs.js"),t=require("../core/AttributeNode.cjs.js"),i=require("../core/VaryNode.cjs.js"),s=require("./ModelNode.cjs.js"),a=require("./CameraNode.cjs.js"),u=require("../math/OperatorNode.cjs.js"),d=require("../math/MathNode.cjs.js");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../core/constants.cjs.js"),require("../inputs/Matrix4Node.cjs.js"),require("@babel/runtime/helpers/assertThisInitialized"),require("../core/InputNode.cjs.js"),require("three"),require("../inputs/Matrix3Node.cjs.js"),require("../inputs/Vector3Node.cjs.js");var l=n(e),c=n(r),N=function(e){function r(o){var t;return void 0===o&&(o=r.LOCAL),(t=e.call(this,"vec3")||this).scope=o,t}return l.default(r,e),r.prototype.generate=function(e,o){var n=this.getType(e),l=e.getDataFromNode(this,e.shaderStage),c=this.scope,N=l.localNormalNode;void 0===N&&(N=new t("normal","vec3"),l.localNormalNode=N);var j=N;if(c===r.VIEW){var v=l.viewNormalNode;if(void 0===v){var f=new u("*",new s(s.NORMAL),N),m=new d(d.NORMALIZE,f);v=new d(d.NORMALIZE,new i(m)),l.viewNormalNode=v}j=v}else if(c===r.WORLD){var p=l.worldNormalNode;if(void 0===p){var q=new d(d.INVERSE_TRANSFORM_DIRETION,new r(r.VIEW),new a(a.VIEW));p=new i(q),l.worldNormalNode=p}j=p}var w=j.build(e,n);return e.format(w,n,o)},r}(o);c.default(N,"LOCAL","local"),c.default(N,"WORLD","world"),c.default(N,"VIEW","view"),module.exports=N;
