"use strict";var t=function(){function t(t,e){this.attributes=t,this.info=e,this.geometries=new WeakMap}return t.prototype.update=function(t){if(!1===this.geometries.has(t)){var i=e.bind(this);this.geometries.set(t,i),this.info.memory.geometries++,t.addEventListener("dispose",i)}var s=t.attributes;for(var r in s)this.attributes.update(s[r]);var o=t.index;null!==o&&this.attributes.update(o,!0)},t}();function e(t){var e=t.target,i=this.geometries.get(e);this.geometries.delete(e),this.info.memory.geometries--,e.removeEventListener("dispose",i);var s=e.index,r=e.attributes;for(var o in null!==s&&this.attributes.remove(s),r)this.attributes.remove(r[o])}module.exports=t;
