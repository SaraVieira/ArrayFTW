"use strict";var e=function(){function e(e,t){this.device=e,this.glslang=t,this.pipelines=new WeakMap,this.shaderModules={compute:new WeakMap}}var t=e.prototype;return t.get=function(e){var t=this.pipelines.get(e);if(void 0===t){var i=this.device,s={computeShader:e.shader},o=this.glslang,a=this.shaderModules.compute.get(s);if(void 0===a){var p=o.compileGLSL(s.computeShader,"compute");a=i.createShaderModule({code:p}),this.shaderModules.compute.set(s,a)}var n={module:a,entryPoint:"main"};t=i.createComputePipeline({computeStage:n}),this.pipelines.set(e,t)}return t},t.dispose=function(){this.pipelines=new WeakMap,this.shaderModules={compute:new WeakMap}},e}();module.exports=e;
