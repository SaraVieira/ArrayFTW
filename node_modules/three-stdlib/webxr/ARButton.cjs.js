"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("@babel/runtime/helpers/asyncToGenerator")),n=function(){function e(){}return e.createButton=function(e,n){void 0===n&&(n={});var o=document.createElement("button");function r(){o.style.display="",o.style.cursor="auto",o.style.left="calc(50% - 75px)",o.style.width="150px",o.onmouseenter=null,o.onmouseleave=null,o.onclick=null,o.textContent="AR NOT SUPPORTED"}function s(e){e.style.position="absolute",e.style.bottom="20px",e.style.padding="12px 6px",e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background="rgba(0,0,0,0.1)",e.style.color="#fff",e.style.font="normal 13px sans-serif",e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="999"}if("xr"in navigator)return o.id="ARButton",o.style.display="none",s(o),navigator.xr.isSessionSupported("immersive-ar").then((function(s){s?function(){if(void 0===n.domOverlay){var r=document.createElement("div");r.style.display="none",document.body.appendChild(r);var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",38),s.setAttribute("height",38),s.style.position="absolute",s.style.right="20px",s.style.top="20px",s.addEventListener("click",(function(){l.end()})),r.appendChild(s);var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),i.setAttribute("stroke","#fff"),i.setAttribute("stroke-width",2),s.appendChild(i),void 0===n.optionalFeatures&&(n.optionalFeatures=[]),n.optionalFeatures.push("dom-overlay"),n.domOverlay={root:r}}var l=null;function a(e){return u.apply(this,arguments)}function u(){return(u=t.default(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.addEventListener("end",c),e.xr.setReferenceSpaceType("local"),t.next=4,e.xr.setSession(r);case 4:o.textContent="STOP AR",n.domOverlay.root.style.display="",l=r;case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(){l.removeEventListener("end",c),o.textContent="START AR",n.domOverlay.root.style.display="none",l=null}o.style.display="",o.style.cursor="pointer",o.style.left="calc(50% - 50px)",o.style.width="100px",o.textContent="START AR",o.onmouseenter=function(){o.style.opacity="1.0"},o.onmouseleave=function(){o.style.opacity="0.5"},o.onclick=function(){null===l?navigator.xr.requestSession("immersive-ar",n).then(a):l.end()}}():r()})).catch(r),o;var i=document.createElement("a");return!1===window.isSecureContext?(i.href=document.location.href.replace(/^http:/,"https:"),i.innerHTML="WEBXR NEEDS HTTPS"):(i.href="https://immersiveweb.dev/",i.innerHTML="WEBXR NOT AVAILABLE"),i.style.left="calc(50% - 90px)",i.style.width="180px",i.style.textDecoration="none",s(i),i},e}();exports.ARButton=n;
