"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../loaders/FBXLoader.cjs.js");require("three"),require("fflate"),require("../curves/NURBSCurve.cjs.js"),require("@babel/runtime/helpers/inheritsLoose"),require("../curves/NURBSUtils.cjs.js");var i=function(){function i(i,n,r,a,l){var t=this;this.controller=n,this.handModel=i,this.bones=[];var d=new e.FBXLoader,p=l&&"lowpoly"===l.model?"_low":"";d.setPath(r),d.load("OculusHand_"+("right"===a?"R":"L")+p+".fbx",(function(e){t.handModel.add(e),e.scale.setScalar(.01);var i=e.getObjectByProperty("type","SkinnedMesh");i.frustumCulled=!1,i.castShadow=!0,i.receiveShadow=!0;var n=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],r=0;["b_%_wrist","b_%_thumb1","b_%_thumb2","b_%_thumb3","b_%_thumb_null",null,"b_%_index1","b_%_index2","b_%_index3","b_%_index_null",null,"b_%_middle1","b_%_middle2","b_%_middle3","b_%_middlenull",null,"b_%_ring1","b_%_ring2","b_%_ring3","b_%_ring_inull","b_%_pinky0","b_%_pinky1","b_%_pinky2","b_%_pinky3","b_%_pinkynull"].forEach((function(i){if(i){var l=e.getObjectByName(i.replace(/%/g,"right"===a?"r":"l"));void 0!==l&&(l.jointName=n[r]),t.bones.push(l)}else t.bones.push(null);r++}))}))}return i.prototype.updateMesh=function(){for(var e=this.controller.joints,i=0;i<this.bones.length;i++){var n=this.bones[i];if(n){var r=e[n.jointName];if(r.visible){var a=r.position;n&&(n.position.copy(a.clone().multiplyScalar(100)),n.quaternion.copy(r.quaternion))}}}},i}();exports.XRHandOculusMeshModel=i;
