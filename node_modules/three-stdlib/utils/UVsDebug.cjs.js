"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("three");exports.UVsDebug=function(t,r){var o=new e.Vector2,f=new e.Vector2,l=[new e.Vector2,new e.Vector2,new e.Vector2],i=[],n=document.createElement("canvas"),u=r||1024,a=r||1024;n.width=u,n.height=a;var c=n.getContext("2d");if(c.lineWidth=1,c.strokeStyle="rgb( 63, 63, 63 )",c.textAlign="center",c.fillStyle="rgb( 255, 255, 255 )",c.fillRect(0,0,u,a),!t.isGeometry){var s=t.index,x=t.attributes.uv;if(s)for(var b=0,g=s.count;b<g;b+=3)i[0]=s.getX(b),i[1]=s.getX(b+1),i[2]=s.getX(b+2),l[0].fromBufferAttribute(x,i[0]),l[1].fromBufferAttribute(x,i[1]),l[2].fromBufferAttribute(x,i[2]),d(i,l,b/3);else for(var y=0,v=x.count;y<v;y+=3)i[0]=y,i[1]=y+1,i[2]=y+2,l[0].fromBufferAttribute(x,i[0]),l[1].fromBufferAttribute(x,i[1]),l[2].fromBufferAttribute(x,i[2]),d(i,l,y/3);return n}function d(e,t,r){c.beginPath(),o.set(0,0);for(var l=0,i=t.length;l<i;l++){var n=t[l];o.x+=n.x,o.y+=n.y,0===l?c.moveTo(n.x*(u-2)+.5,(1-n.y)*(a-2)+.5):c.lineTo(n.x*(u-2)+.5,(1-n.y)*(a-2)+.5)}for(c.closePath(),c.stroke(),o.divideScalar(t.length),c.font="18px Arial",c.fillStyle="rgb( 63, 63, 63 )",c.fillText(r,o.x*u,(1-o.y)*a),o.x>.95&&c.fillText(r,o.x%1*u,(1-o.y)*a),c.font="12px Arial",c.fillStyle="rgb( 191, 191, 191 )",j=0,jl=t.length;j<jl;j++){n=t[j];f.addVectors(o,n).divideScalar(2);var s=e[j];c.fillText("abc"[j]+s,f.x*u,(1-f.y)*a),f.x>.95&&c.fillText("abc"[j]+s,f.x%1*u,(1-f.y)*a)}}console.error("THREE.UVsDebug no longer supports Geometry. Use THREE.BufferGeometry instead.")};
