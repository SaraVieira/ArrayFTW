"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("three");exports.gosper=function(r){r=void 0!==r?r:1;var e=function(r){for(var e,o=r.axiom,t=0,p=r.steps;0<=p?t<p:t>p;0<=p?t++:t--){e="";for(var y=0,a=o.length;y<a;y++){var n=o[y];n in r.rules?e+=r.rules[n]:e+=n}o=e}return e}({axiom:"A",steps:4,rules:{A:"A+BF++BF-FA--FAFA-BF+",B:"-FA+BFBF++BF+FA--FA-B"}});return function(r){for(var e=0,o=0,t=0,p=[0,0,0],y=r.fractal,a=0,n=y.length;a<n;a++){var i=y[a];"+"===i?t+=r.angle:"-"===i?t-=r.angle:"F"===i&&(e+=r.size*Math.cos(t),o+=-r.size*Math.sin(t),p.push(e,o,0))}return p}({fractal:e,size:r,angle:Math.PI/3})},exports.hilbert2D=function e(o,t,p,y,a,n,i){o=void 0!==o?o:new r.Vector3(0,0,0);var s=(t=void 0!==t?t:10)/2,u=(p=void 0!==p?p:1,y=void 0!==y?y:0,a=void 0!==a?a:1,n=void 0!==n?n:2,i=void 0!==i?i:3,[new r.Vector3(o.x-s,o.y,o.z-s),new r.Vector3(o.x-s,o.y,o.z+s),new r.Vector3(o.x+s,o.y,o.z+s),new r.Vector3(o.x+s,o.y,o.z-s)]),v=[u[y],u[a],u[n],u[i]];if(0<=--p){var l=[];return Array.prototype.push.apply(l,e(v[0],s,p,y,i,n,a)),Array.prototype.push.apply(l,e(v[1],s,p,y,a,n,i)),Array.prototype.push.apply(l,e(v[2],s,p,y,a,n,i)),Array.prototype.push.apply(l,e(v[3],s,p,n,a,y,i)),l}return v},exports.hilbert3D=function e(o,t,p,y,a,n,i,s,u,v,l){o=void 0!==o?o:new r.Vector3(0,0,0);var c=(t=void 0!==t?t:10)/2,d=(p=void 0!==p?p:1,y=void 0!==y?y:0,a=void 0!==a?a:1,n=void 0!==n?n:2,i=void 0!==i?i:3,s=void 0!==s?s:4,u=void 0!==u?u:5,v=void 0!==v?v:6,l=void 0!==l?l:7,[new r.Vector3(o.x-c,o.y+c,o.z-c),new r.Vector3(o.x-c,o.y+c,o.z+c),new r.Vector3(o.x-c,o.y-c,o.z+c),new r.Vector3(o.x-c,o.y-c,o.z-c),new r.Vector3(o.x+c,o.y-c,o.z-c),new r.Vector3(o.x+c,o.y-c,o.z+c),new r.Vector3(o.x+c,o.y+c,o.z+c),new r.Vector3(o.x+c,o.y+c,o.z-c)]),h=[d[y],d[a],d[n],d[i],d[s],d[u],d[v],d[l]];if(--p>=0){var A=[];return Array.prototype.push.apply(A,e(h[0],c,p,y,i,s,l,v,u,n,a)),Array.prototype.push.apply(A,e(h[1],c,p,y,l,v,a,n,u,s,i)),Array.prototype.push.apply(A,e(h[2],c,p,y,l,v,a,n,u,s,i)),Array.prototype.push.apply(A,e(h[3],c,p,n,i,y,a,v,l,s,u)),Array.prototype.push.apply(A,e(h[4],c,p,n,i,y,a,v,l,s,u)),Array.prototype.push.apply(A,e(h[5],c,p,s,i,n,u,v,a,y,l)),Array.prototype.push.apply(A,e(h[6],c,p,s,i,n,u,v,a,y,l)),Array.prototype.push.apply(A,e(h[7],c,p,v,u,n,a,y,i,s,l)),A}return h};
